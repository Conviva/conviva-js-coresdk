/*! (C) 2025 Conviva, Inc. All rights reserved. Confidential and proprietary. */
((t,n)=>{"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"===typeof t||!t||t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading)})(this,function(){var n,s,V,k,o,r,F,i,e,N,a,f,c,u,H,B,G,j,K,W,x,Y,h,l,d,q,I,X,J,v,E,_,p,R,Q,A,Z,T,S,O,g,z,$,w,tt,nt,it,C,et,st,ot,y,rt,m,D,b,P,ut,ht,M,at,ft,L,U={};function ct(){var t,n="";for("-"===s&&r(n="-");s>="0"&&s<="9";)n+=s,r();if("."===s)for(n+=".";r()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,r(),"-"!==s&&"+"!==s||(n+=s,r());s>="0"&&s<="9";)n+=s,r();if(t=+n,!isNaN(t))return t;o("Bad number")}function lt(){switch(s){case"t":return r("t"),r("r"),r("u"),r("e"),!0;case"f":return r("f"),r("a"),r("l"),r("s"),r("e"),!1;case"n":return r("n"),r("u"),r("l"),r("l"),null}o("Unexpected '"+s+"'")}function dt(){var t=[];if("["===s){if(r("["),i(),"]"===s)return r("]"),t;for(;s;){if(t.push(e()),i(),"]"===s)return r("]"),t;r(","),i()}}o("Bad array")}function vt(){var t,n={};if("{"===s){if(r("{"),i(),"}"===s)return r("}"),n;for(;s;){if(t=F(),i(),r(":"),Object.hasOwnProperty.call(n,t)&&o('Duplicate key "'+t+'"'),n[t]=e(),i(),"}"===s)return r("}"),n;r(","),i()}}o("Bad object")}function t(t){return t<10?"0"+t:t}function Et(t){return _.lastIndex=0,_.test(t)?'"'+t.replace(_,function(t){var n=Q[t];return"string"===typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}return L={},N=U.Constants={version:"4.7.17",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",AVG_BITRATE:"AVG_BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT",AUDIO_LANGUAGE:"AUDIO_LANGUAGE",SUBTITLES_LANGUAGE:"SUBTITLES_LANGUAGE",CLOSED_CAPTIONS_LANGUAGE:"CLOSED_CAPTIONS_LANGUAGE"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV",VEHICLE:"Vehicle",OTHER:"Other"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS",LINUX:"LNX"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement",APP_TRACKER_EVENT:{TYPE:"convivaVideoEvent",INIT:"c3.sdk.init",VIDEO_ATTEMPT:"c3.video.attempt",VIDEO_END:"c3.video.end",VIDEO_PLAY:"c3.video.play",VIDEO_PAUSE:"c3.video.pause",VIDEO_BUFFERING:"c3.video.buffering",VIDEO_ERROR:"c3.video.error",SDK_CUSTOM_EVENT:"c3.sdk.custom_event",VIDEO_CUSTOM_EVENT:"c3.video.custom_event",AD_BREAK_START:"c3.ad.ad_break_start",AD_BREAK_END:"c3.ad.ad_break_end",VIDEO_METADATA_CHANGE:"c3.video.set_content_info",VIDEO_BITRATE_SWITCH:"c3.video.bitrate_switch"}},(a=U.Client=function(){var h=this;this._=null,this.p=!1,this.version=a.version,this.R=null,this.A=null,this.T=null,this.S=-1,this.O=null,this.g=null,this.N=null,this.I=null,this.C=-1,this.m=!1,this.D={},this.P=function(){h.R},this.M={},this.L=null,this.U=null,this.V=null,this.k=function(){this.N.F("Client.makeIPV4IPV6GlobalSessions",function(){var t;h.I&&null!==(t=h.I.get(C.H))&&t!==g.B&&h.A&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.G.indexOf(f.j)>-1?f.j:f.K,h.W=h.A.Y(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.q.indexOf(f.X)>-1?f.X:f.J,h.Z=h.A.Y(t,null))})},this.$=function(i){h.N.F("Client.updateConnectionType",function(){if(h.L=i,h.A){var t,n=h.A.tt();for(t in n)n[t].nt(i)}})},this.it=function(i){h.N.F("Client.updateLinkEncryption",function(){if(h.U=i,h.A){var t,n=h.A.tt();for(t in n)n[t].et(i)}})},this.ot=function(t){h.N.F("Client.updateSignalStrength",function(){h.V=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof Y))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.rt+f.ut&&t.gatewayUrl!==f.ht+f.ut||(this.p=!0),e&&(this.version=e),this.O=t.ct(),this.T=n,this.T.lt("SDK",this.O,this.version),this.N=this.T.dt(this.version),this.N.F("Client.init",function(){if(h.I=h.T.vt(),h.I.Et(),h.C=h.I.get(C._t),-1!==h.C&&void 0!==h.C&&null!==h.C||(h.C=D.Rt()),"undefined"!==typeof h.I.get(C.At)&&(h.O.heartbeatInterval=h.I.get(C.At)),h.A=h.T.Tt(h,h.O,h.I),i)for(var t in i)switch(t){case N.Network.CONNECTION_TYPE:h.$(i[t]);break;case N.Network.LINK_ENCRYPTION:h.it(i[t]);break;case N.Network.SIGNAL_STRENGTH:h.ot(i[t])}h.k()},function(t){throw new Error("Client constructor failed: "+t.message)})}.apply(this,arguments),this.release=function(){this.m||this.N.F("Client.release",function(){h.R,h.A.St(),h.A=null,h.S=-1,h.C=-1,h.N=null,h.O=null,h.g=null,h.T=null,h.m=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.m||(!t||t instanceof c)&&this.N.F("Client.createSession",function(){e=h.A.Ot(t,w.Nt.gt,n,(i?N:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.m||(!e||e instanceof c)&&this.N.F("Client.createAdSession",function(){var t,n;e||(e=new c),y.It(i)&&i!==a.NO_SESSION_KEY&&(t=h.A.wt(i))&&(n=e.custom[N.APPLICATION_VERSION],t.Ct&&t.Ct.yt&&(!e.viewerId&&t.Ct.yt.viewerId&&(e.viewerId=t.Ct.yt.viewerId),!e.applicationName&&t.Ct.yt.applicationName&&(e.applicationName=t.Ct.yt.applicationName),e.streamType===N.StreamType.UNKNOWN&&t.Ct.yt.streamType!==N.StreamType.UNKNOWN&&(e.streamType=t.Ct.yt.streamType),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.Ct.yt.custom[N.APPLICATION_VERSION])&&n&&(e.custom[N.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=y.Dt(t.C)),u=h.A.Ot(e,w.Nt.bt,s,(o?N:h).version,r)}),u},this.reportError=function(n,i,e){this.m||!y.Pt(i)||e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.N.F("Client.reportError",function(){var t=h.A.wt(n);t&&t.Mt(i,e)})},this.updateContentMetadata=function(i,e){this.m||e instanceof c&&this.N.F("Client.updateContentMetadata",function(){var t,n=h.A.wt(i);n&&(t=e.ct(),n.Lt(t))})},this.detachPlayer=function(n){this.m||this.N.F("Client.detachPlayer",function(){var t=h.A.wt(n);t&&t.Ut()})},this.Vt=function(n){this.m||this.N.F("Client.offFocus",function(){var t=h.A.wt(n);t&&t.Vt()})},this.attachPlayer=function(n,i){this.m||i instanceof u&&this.N.F("Client.attachPlayer",function(){var t=h.A.wt(n);t&&t.kt(i)})},this.Ft=function(n){this.m||this.N.F("Client.onFocus",function(){var t=h.A.wt(n);t&&t.Ft()})},this.contentPreload=function(n){this.m||this.N.F("Client.contentPreload",function(){var t=h.A.wt(n);t&&t.Ht()})},this.contentStart=function(n){this.m||this.N.F("Client.contentStart",function(){var t=h.A.wt(n);t&&t.Bt()})},this.sendCustomEvent=function(i,e,s){this.m||y.Pt(e)&&(y.Gt(s),this.N.F("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.S<0&&(t=new c,h.S=h.A.Y(t,null)),i=h.S);var t=y.jt(s),n=h.A.Kt(i);n&&n.Wt(e,t)}))},this.adStart=function(n,i,e,s){this.m||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.N.F("Client.adStart",function(){var t=h.A.wt(n);t&&t.xt(i,e,s)}))},this.adEnd=function(n){this.m||this.N.F("Client.adEnd",function(){var t=h.A.wt(n);t&&t.Yt()})},this.cleanupSession=function(t){this.m||t!==a.NO_SESSION_KEY&&this.N.F("Client.cleanupSession",function(){h.A.wt(t)&&h.A.qt(t)})},this.getAttachedPlayer=function(n){var i=null;return this.m||n!==a.NO_SESSION_KEY&&this.N.F("Client.getAttachedPlayer",function(){var t=h.A.wt(n);t&&(i=t.Xt())}),i},this.isPlayerAttached=function(t){return!this.m&&null!==this.getAttachedPlayer(t)},this.getPlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return new u(this.T,(t?N:h).version)},this.releasePlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");this.N.F("Client.releasePlayerStateManager",function(){t instanceof u&&t.release()})},this.Jt=function(){return this.O},this.getId=function(){return this.C},this.getSessionId=function(n){var i;return this.m?N.NO_SESSION_KEY:(i=null,this.N.F("Client.getSessionId",function(){var t=h.A.wt(n);t&&(i=t.Qt())}),i)},this.getClientId=function(n){var i;return this.m?null:(i=null,this.N.F("Client.getClientId",function(){var t=h.A.wt(n);t&&(i=t.Zt())}),i)},this.zt=function(n,i,e){this.m||this.N.F("Client.updateCustomMetric",function(){var t=h.A.wt(n);t&&t.zt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)this.D[i]=t[i];n&&(this.P=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.M[i]=n?C.tn.$t:C.tn.nn:this.M[i]=C.tn.en},this.setUserPreferenceForDataDeletion=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.M[n]=C.tn.sn:this.M[n]=C.tn.en},this.getConfig=function(){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return this.I}}).version="4.7.17L",a.NO_SESSION_KEY=N.NO_SESSION_KEY,a.AdPosition={PREROLL:N.AdPosition.PREROLL,MIDROLL:N.AdPosition.MIDROLL,POSTROLL:N.AdPosition.POSTROLL},a.AdStream={CONTENT:N.AdPlayer.CONTENT,SEPARATE:N.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:N.AdPlayer.CONTENT,SEPARATE:N.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:N.ErrorSeverity.FATAL,WARNING:N.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:N.DeviceType.DESKTOP,CONSOLE:N.DeviceType.CONSOLE,SETTOP:N.DeviceType.SETTOP,MOBILE:N.DeviceType.MOBILE,TABLET:N.DeviceType.TABLET,SMARTTV:N.DeviceType.SMARTTV,VEHICLE:N.DeviceType.VEHICLE,OTHER:N.DeviceType.OTHER},a.AdTechnology={CLIENT_SIDE:N.AdType.CLIENT_SIDE,SERVER_SIDE:N.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:N.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:N.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:N.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:N.AdSlates.OTHER_SLATE,VPAID:N.AdSlates.VPAID,REGULAR:N.AdSlates.REGULAR},a.AdServingType={INLINE:N.AdServingType.INLINE,WRAPPER:N.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:N.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:N.DeviceCategory.APPLE_DEVICE,CHROMECAST:N.DeviceCategory.CHROMECAST,DESKTOP_APP:N.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:N.DeviceCategory.DEVICE_SIMULATOR,LG_TV:N.DeviceCategory.LG_TV,NINTENDO:N.DeviceCategory.NINTENDO,PLAYSTATION:N.DeviceCategory.PLAYSTATION,ROKU:N.DeviceCategory.ROKU,SAMSUNG_TV:N.DeviceCategory.SAMSUNG_TV,SMART_TV:N.DeviceCategory.SMART_TV,SET_TOP_BOX:N.DeviceCategory.SET_TOP_BOX,TIVO:N.DeviceCategory.TIVO,WEB:N.DeviceCategory.WEB,WINDOWS_DEVICE:N.DeviceCategory.WINDOWS_DEVICE,XBOX:N.DeviceCategory.XBOX,KAIOS_DEVICE:N.DeviceCategory.KAIOS_DEVICE,LINUX:N.DeviceCategory.LINUX},(f=U.ClientSettings=function(){var e=this;this.rn=null,y.un(this,"customerKey",function(){return this.rn}),y.hn(this,"customerKey",function(t){y.Pt(t)&&(this.rn=t)}),this.fn=f.cn,y.un(this,"heartbeatInterval",function(){return this.fn}),y.hn(this,"heartbeatInterval",function(t){var n;"number"===typeof t&&(n=y.ln(t))===t&&(this.fn=n)}),this.dn=null,this.G=null,this.q=null,y.un(this,"gatewayUrl",function(){return this.dn}),y.hn(this,"gatewayUrl",function(t){var n;!y.Pt(t)||"https"!==(n=t.split("://"))[0]&&"http"!==n[0]||(this.dn=t)}),function(t){if(!y.Pt(t))throw new Error("customerKey must be valid");this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.ct=function(){var t=new f(this.customerKey);return t.gatewayUrl=(t=>{if(y.Pt(t)){var n,i=t.split("://");if("https"===i[0]||"http"===i[0])return i[1]!==f.ut&&-1!==i[1].indexOf(f.ut)?(n=i[1].split(f.ut),e.G="https://"+n[0]+f.j,e.q="https://"+n[0]+f.X):(e.G="https://ipv4."+i[1],e.q="https://ipv6."+i[1]),t}return e.G="https://"+e.customerKey+"."+f.j,e.q="https://"+e.customerKey+"."+f.X,"https://"+e.customerKey+"."+f.ut})(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.G=this.G,t.q=this.q,t}}).on="https://conviva.testonly.conviva.com",f.vn="https://cws.conviva.com",f.ut="cws.conviva.com",f.j="ipv4.cws.conviva.com",f.X="ipv6.cws.conviva.com",f.En="conviva.testonly.conviva.com",f.K="ipv4.testonly.conviva.com",f.J="ipv6.testonly.conviva.com",f.rt="https://",f.ht="http://",f._n=5,f.cn=20,(c=U.ContentMetadata=function(){this.Rn=null,y.un(this,"assetName",function(){return this.Rn}),y.hn(this,"assetName",function(t){"string"===typeof t&&(this.Rn=t)}),this.An={},y.un(this,"custom",function(){return this.An}),y.hn(this,"custom",function(t){"object"===typeof t&&(this.An=y.jt(t))}),this.Tn=null,y.un(this,"defaultResource",function(){return this.Tn}),y.hn(this,"defaultResource",function(t){"string"===typeof t&&(this.Tn=t)}),this.Sn=null,y.un(this,"viewerId",function(){return this.Sn}),y.hn(this,"viewerId",function(t){"string"===typeof t&&(this.Sn=t)}),this.On=null,y.un(this,"applicationName",function(){return this.On}),y.hn(this,"applicationName",function(t){"string"===typeof t&&(this.On=t)}),this.gn=null,y.un(this,"streamUrl",function(){return this.gn}),y.hn(this,"streamUrl",function(t){"string"===typeof t&&(this.gn=t)}),this.Nn=c.StreamType.UNKNOWN,y.un(this,"streamType",function(){return this.Nn}),y.hn(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.Nn=t)}),this.In=-1,y.un(this,"duration",function(){return this.In}),y.hn(this,"duration",function(t){this.In=b.wn(t)}),this.Cn=-1,y.un(this,"encodedFrameRate",function(){return this.Cn}),y.hn(this,"encodedFrameRate",function(t){this.Cn=b.wn(t)}),function(){}.apply(this,arguments),this.ct=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}}).StreamType={UNKNOWN:N.StreamType.UNKNOWN,LIVE:N.StreamType.LIVE,VOD:N.StreamType.VOD},U.ErrorType={ERROR_UNKNOWN:N.ErrorType.ERROR_UNKNOWN,ERROR_IO:N.ErrorType.ERROR_IO,ERROR_TIMEOUT:N.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:N.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:N.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:N.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:N.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:N.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:N.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:N.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:N.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:N.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:N.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},U.Events={AD_REQUESTED:N.Events.AD_REQUESTED,AD_RESPONSE:N.Events.AD_RESPONSE,AD_SLOT_STARTED:N.Events.AD_SLOT_STARTED,AD_ATTEMPTED:N.Events.AD_ATTEMPTED,AD_SLOT_ENDED:N.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:N.Events.AD_IMPRESSION_START,AD_START:N.Events.AD_START,AD_FIRST_QUARTILE:N.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:N.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:N.Events.AD_THIRD_QUARTILE,AD_COMPLETE:N.Events.AD_COMPLETE,AD_END:N.Events.AD_END,AD_IMPRESSION_END:N.Events.AD_IMPRESSION_END,AD_SKIPPED:N.Events.AD_SKIPPED,AD_ERROR:N.Events.AD_ERROR,AD_PROGRESS:N.Events.AD_PROGRESS,AD_CLOSE:N.Events.AD_CLOSE,CONTENT_PAUSED:N.Events.CONTENT_PAUSED,CONTENT_RESUMED:N.Events.CONTENT_RESUMED,POD_START:N.Events.POD_START,POD_END:N.Events.POD_END},(u=U.PlayerStateManager=function(){var e=this;e.yn=null,e.Dn=-2,e.bn=-2,e.Pn=u.PlayerState.UNKNOWN,e.Mn={},e.Ln=-2,e.Cn=-2,e.In=-2,e.Un=null,e.Vn=null,e.gn=null,e.kn=null,e.Fn=null,e.Hn=-1,e.Bn=-1,e.L=null,e.U=null,e.Gn=null,e.jn=[],e.m=!1,e.Kn=null,e.Wn=null,e.xn=null,this.release=function(){e.m||e.N.F("PlayerStateManager.release",function(){e.yn&&e.yn.Yn(),e.qn(),e.T=null,e.N=null,e.m=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.Cn},this.setEncodedFrameRate=function(n){e.m||e.N.F("PlayerStateManager.setEncodedFrameRate",function(){var t=b.wn(n);t>=-1&&(e.Cn=t,e.yn)&&e.yn.Xn(e.Cn)})},this.getDuration=function(){return e.In},this.setClientMeasureInterface=function(t){y.Jn(t,new U.ClientMeasureInterface,"ClientMeasureInterface"),this.Qn=t},this.getPHT=function(){return this.Qn&&"function"===typeof this.Qn.getPHT?this.Qn.getPHT():u.DEFAULT_PHT},this.getBufferLength=function(){return this.Qn&&"function"===typeof this.Qn.getBufferLength?this.Qn.getBufferLength():u.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Qn&&"function"===typeof this.Qn.getSignalStrength?this.Qn.getSignalStrength():u.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Qn&&"function"===typeof this.Qn.getRenderedFrameRate?this.Qn.getRenderedFrameRate():u.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.m||e.N.F("PlayerStateManager.setDuration",function(){var t=b.wn(n);t>=-1&&(e.In=t,e.yn)&&e.yn.Zn(e.In)})},this.getStreamUrl=function(){return e.gn},this.setStreamUrl=function(t){e.m||e.N.F("PlayerStateManager.setStreamUrl",function(){t&&(e.gn=t,e.yn)&&e.yn.zn(e.gn)})},this.$n=function(){return e.kn},this.ti=function(){return e.Fn},this.setModuleNameAndVersion=function(t,n){e.kn=t,e.Fn=n},this.ni=function(){return e.Vn},this.setPlayerType=function(t){e.m||e.N.F("PlayerStateManager.setPlayerType",function(){e.Vn=t,e.yn&&e.yn.ii(e.Vn)})},this.ei=function(){return e.Un},this.setPlayerVersion=function(t){e.m||e.N.F("PlayerStateManager.setPlayerVersion",function(){e.Un=t,e.yn&&e.yn.si(e.Un)})},this.oi=function(){return e.Kn},this.setAudioLang=function(t){e.m||e.N.F("PlayerStateManager.setAudioLang",function(){e.Kn=t,e.yn&&e.yn.ri(e.Kn)})},this.ui=function(){return e.Wn},this.setSubtitleLang=function(t){e.m||e.N.F("PlayerStateManager.setSubtitleLang",function(){e.Wn=t,e.yn&&e.yn.hi(e.Wn)})},this.ai=function(){return e.xn},this.setCcLang=function(t){e.m||e.N.F("PlayerStateManager.setCCLang",function(){e.xn=t,e.yn&&e.yn.fi(e.xn)})},this.setMonitoringNotifier=function(t){return!e.m&&!e.yn&&(e.yn=t,e.R,!0)},this.qn=function(){e.m||(e.yn=null,e.R)},this.ci=function(){e.setPlayerState(e.getPlayerState()),e.setBitrateKbps(e.li()),e.setAvgBitrateKbps(e.di()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.ni()),e.setPlayerVersion(e.ei()),e.setAudioLang(e.oi()),e.setSubtitleLang(e.ui()),e.setCcLang(e.ai());for(var t=0;t<e.jn.length;t++){var n=e.jn[t];e.vi(n)}e.jn=[]},this.getPlayerState=function(){return e.Pn},this.setPlayerState=function(t){e.m||e.N.F("PlayerStateManager.setPlayerState",function(){u.Ei(t)&&(e.Pn=t,e.yn)&&e.yn._i(e.Pn)})},this.li=function(){return e.Dn},this.setBitrateKbps=function(n){e.m||e.N.F("PlayerStateManager.setBitrateKbps",function(){var t=b.wn(n);t>=-1&&(e.Dn=t,e.yn)&&e.yn.pi(e.Dn)})},this.di=function(){return e.bn},this.setAvgBitrateKbps=function(n){e.m||e.N.F("PlayerStateManager.setAvgBitrateKbps",function(){var t=b.wn(n);t>=-1&&(e.bn=t,e.yn)&&e.yn.Ri(e.bn)})},this.setPlayerSeekStart=function(t){e.m||e.N.F("PlayerStateManager.setPlayerSeekStart()",function(){e.yn&&e.yn.Ai(u.SEEK_ACTIONS_TYPE.SEEK_START,t)})},this.setPlayerSeekEnd=function(){e.m||e.N.F("PlayerStateManager.setPlayerSeekEnd()",function(){e.yn&&e.yn.Ai(u.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.m||e.N.F("PlayerStateManager.setUserSeekButtonUp()",function(){e.yn&&e.yn.Ai(u.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.m||e.N.F("PlayerStateManager.setUserSeekButtonDown()",function(){e.yn&&e.yn.Ai(u.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.m||e.N.F("PlayerStateManager.setVideoResolutionWidth()",function(){var t=b.wn(n);t>0&&(e.Hn=t),e.yn&&e.yn.Ti(e.Hn)})},this.setVideoResolutionHeight=function(n){e.m||e.N.F("PlayerStateManager.setVideoResolutionHeight()",function(){var t=b.wn(n);t>0&&(e.Bn=t),e.yn&&e.yn.Si(e.Bn)})},this.setConnectionType=function(t){e.m||e.N.F("PlayerStateManager.setConnectionType()",function(){e.L=t,e.yn&&e.yn.nt(e.L)})},this.setLinkEncryption=function(t){e.m||e.N.F("PlayerStateManager.setLinkEncryption()",function(){e.U=t,e.yn&&e.yn.et(e.U)})},this.setSignalStrength=function(){},this.vi=function(t){var n;e.Gn=t,e.yn?(n=t.errorCode,e.yn.Oi(n,t.severity)):e.jn.push(t)},this.sendError=function(n,i){e.m||e.N.F("PlayerStateManager.sendError",function(){var t=new P(n,i);e.vi(t)})},this.reset=function(){e.m||e.N.F("PlayerStateManager.reset",function(){e.Dn=-2,e.bn=-2,e.Pn=u.PlayerState.UNKNOWN,e.Mn={},e.Ln=-1,e.Cn=-1,e.In=-1,e.Un=null,e.Vn=null,e.gn=null,e.Gn=null,e.jn=[]})},this.setCDNServerIP=function(t){e.m||e.N.F("PlayerStateManager.setCDNServerIP",function(){e.yn&&e.yn.gi(t)})},this.Ni=function(){return e.Ii},this.setDroppedFramesTotal=function(t){e.m||e.N.F("PlayerStateManager.setDroppedFramesTotal",function(){e.yn&&e.yn.wi(t)})},this.setDroppedFramesCount=function(t){e.m||e.N.F("PlayerStateManager.setDroppedFramesCount",function(){e.yn&&e.yn.Ci(t)})},this.yi=function(){return e.Gn},function(t,n){e.T=t,e.N=e.T.dt(n)}.apply(e,arguments)}).PlayerState={STOPPED:N.PlayerState.STOPPED,PLAYING:N.PlayerState.PLAYING,BUFFERING:N.PlayerState.BUFFERING,PAUSED:N.PlayerState.PAUSED,UNKNOWN:N.PlayerState.UNKNOWN,NOT_MONITORED:N.PlayerState.NOT_MONITORED},u.Ei=function(t){return t===u.PlayerState.STOPPED||t===u.PlayerState.PLAYING||t===u.PlayerState.BUFFERING||t===u.PlayerState.PAUSED||t===u.PlayerState.UNKNOWN||t===u.PlayerState.NOT_MONITORED},u.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},u.DEFAULT_SIGNAL_STRENGTH=1e3,u.DEFAULT_RENDERED_FRAME_RATE=-1,u.DEFAULT_BUFFER_LENGTH=-1,u.DEFAULT_PHT=-1,U.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},H=U.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},B=U.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},G=U.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},j=U.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},K=U.SystemInterface=function(){!function(t,n,i,e,s,o){y.Jn(t,new W,"TimeInterface"),y.Jn(n,new x,"TimerInterface"),y.Jn(i,new H,"HttpInterface"),y.Jn(e,new j,"StorageInterface"),y.Jn(s,new G,"MetadataInterface"),y.Jn(o,new B,"LoggingInterface"),this.mi=t,this.Di=n,this.bi=i,this.Pi=e,this.Mi=s,this.Li=o}.apply(this,arguments),this.release=function(){this.mi&&(this.mi.release(),this.mi=null),this.Di&&(this.Di.release(),this.Di=null),this.bi&&(this.bi.release(),this.bi=null),this.Pi&&(this.Pi.release(),this.Pi=null),this.Mi&&(this.Mi.release(),this.Mi=null),this.Li&&(this.Li.release(),this.Li=null)}},W=U.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},x=U.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},Y=U.SystemFactory=function(){var t=this;!function(t,n){if(!(t instanceof K))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Ui=t,this.mi=this.Ui.mi,this.Di=this.Ui.Di,this.bi=this.Ui.bi,this.Pi=this.Ui.Pi,this.Mi=this.Ui.Mi,this.Li=this.Ui.Li,n instanceof h?this.O=n.ct():this.O=new h}.apply(this,arguments),this.lt=function(t,n,i){this.Vi=t,this.ki=n,this.Fi=i},this.release=function(){this.Ui.release(),this.Ui=null,this.Vi=null,this.O=null,this.Hi=null};var n=function(){return new ht(t.Li,t.mi,t.Jt(),t.Hi,t.Vi)};this.buildLogger=function(){return n()},this.Tt=function(t,n,i){return new nt(t,n,i,this)},this.Bi=function(t){return new m(this.buildLogger(),this.Gi(),this.ki,t)},this.ji=function(){return new it(this.buildTimer(t.Fi))},this.Ki=function(){var t=new ft(this.buildLogger(),this.Di,new st(this.buildLogger(),null,this.Jt()));return new it(t)},this.Gi=function(){return new ut(this.buildLogger(),this.bi,this.Ki(),this.Jt())},this.dt=function(t){return new st(this.buildLogger(),this.Bi(t),this.Jt())},this.buildTime=function(){return new at(this.mi,this.buildLogger())},this.buildTimer=function(t){return new ft(this.buildLogger(),this.Di,this.dt(t))},this.Wi=function(){return new L.Storage(this.buildLogger(),this.Pi,this.ji(),this.Jt())},this.vt=function(){return new C(this.buildLogger(),this.Wi(),this.xi())},this.Yi=function(t){return new M(this.buildLogger(),this.Mi,this.dt(t))},this.qi=function(){return new g},this.Xi=function(t,n){return new ot(t,this.buildLogger(),this.Gi(),this.xi(),n)},this.Ji=function(t,n,i,e,s){var o=this.Xi(n,e.custom["c3.domain"]);return new w(this.Qi(),t,n,this.buildLogger(),this.dt(s),this.buildTimer(s),o,this.qi(),this.buildTime(),this.Zi(),i,e,s)},this.zi=function(t,n,i,e,s,o,r){t=this.Ji(t,n.ct(),i,o,r);return new tt(e,s,i,this.Yi(r),t,this.dt(r),this.buildLogger())},this.Qi=function(){return new et},this.xi=function(){return new z},this.Zi=function(){return this.Hi},this.Jt=function(){return this.O},this.Hi=new rt},(h=U.SystemSettings=function(){this.$i=h.te,y.un(this,"logLevel",function(){return this.$i}),y.hn(this,"logLevel",function(t){var n;"number"===typeof t&&(n=y.ln(t))===t&&n>=h.LogLevel.DEBUG&&n<=h.LogLevel.ERROR&&(this.$i=n)}),this.ne=h.ie,y.un(this,"allowUncaughtExceptions",function(){return this.ne}),y.hn(this,"allowUncaughtExceptions",function(t){y.ee(t)&&(this.ne=t)}),this.se=h.oe,y.un(this,"storageTimeout",function(){return this.se}),y.hn(this,"storageTimeout",function(t){var n;"number"===typeof t&&(n=y.ln(t))===t&&(this.se=n)}),this.re=h.ue,y.un(this,"httpTimeout",function(){return this.re}),y.hn(this,"httpTimeout",function(t){var n;"number"===typeof t&&(n=y.ln(t))===t&&(this.re=n)}),function(){}.apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ct=function(){var t=new h;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:N.LogLevel.DEBUG,INFO:N.LogLevel.INFO,WARNING:N.LogLevel.WARNING,ERROR:N.LogLevel.ERROR,NONE:N.LogLevel.NONE},h.he=h.LogLevel.DEBUG,h.te=h.LogLevel.NONE,h.ae=!0,h.ie=!1,h.oe=10,h.ue=10,l=L.AdAnalytics=function(){var e=this;function n(t){e.fe?(y.Gt(t)>0&&e.setAdInfo(t),e.fe.ce()||(e.fe.le(e.de),e.fe.ve(!0),e.getAdType()===N.AdType.SERVER_SIDE&&e.reportAdMetric(N.Playback.BITRATE,e.de.Ee()))):e.R}e._e=null,e.T=null,e.pe=null,e.de=null,e.fe=null,e.Re=null,e.Ae=null,e.Te=null,function(t,n,i){e._e=t,e.Te=i,e.T=n,i&&(e.de=i.Se()),e.pe=n.buildTimer(N.version),e.fe=new d(e._e,e.pe),I.call(this)}.apply(this,arguments),this.setAdInfo=function(t){y.Gt(t)<=0?e.R:(e.R,e.fe&&e.fe.Oe(t))},this.setAdPlayerInfo=function(t){y.Gt(t)<=0?e.R:(e.R,e.fe&&e.fe.Oe(t))},this.reportAdMetric=function(){0===arguments.length?e.R:1===arguments.length?e.ge(arguments[0]):2===arguments.length?e.ge(arguments[0],arguments[1]):3===arguments.length?e.ge(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.ge(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(t){e.fe&&e.fe.Ne(t)},this.reportAdFailed=function(t,n){e.fe?(y.Gt(n)>0&&e.setAdInfo(n),e.fe.ce()?(e.R,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.fe.le(e.de),e.R,n=new P(t,a.ErrorSeverity.FATAL),e.fe.ve(!0,n))):e.R},this.reportAdLoaded=function(t){e.R,n(t)},this.reportAdStarted=function(t){e.R,n(t)},this.reportAdEnded=function(){e.fe?(e.R,e.fe.ce()&&(e.fe.le(null),e.fe.ve(!1))):e.R},this.reportAdError=function(t,n){e.fe?(e.R,t=new P(t,n),e.fe.vi(t)):e.R},this.reportAdPlayerEvent=function(t,n){if(y.Pt(t))if(e.R,e.fe)switch(t){case N.Events.USER_WAIT_STARTED:case N.Events.BUMPER_VIDEO_STARTED:e.fe.Ut();break;case N.Events.USER_WAIT_ENDED:case N.Events.BUMPER_VIDEO_ENDED:e.fe.kt();break;default:e.fe.Ie(t,n)}else e.R;else e.R},this.reportAdSkipped=function(){e.fe?(e.R,e.reportAdPlayerEvent(N.Events.AD_SKIPPED),e.reportAdEnded()):e.R},this.release=function(){e.R,e.fe&&(e.fe.ce()&&(e.fe.le(null),e.fe.ve(!1)),e.fe.Ne(null),e.fe.we(),e.fe=null),"undefined"!==typeof U.AdProxyMonitor&&e.Ae&&(U.AdProxyMonitor.release(e.Ae),e.Ae=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?U.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(U.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof U.AdProxyMonitor)&&(!t&&e.Ae?(U.AdProxyMonitor.release(e.Ae),e.Ae=null):t&&e.Ae?(U.AdProxyMonitor.release(e.Ae),e.R,e.Ae=U.AdProxyMonitor.initConvivaDropIn(t,n,this,U,e.T)):t&&!e.Ae&&(e.R,e.Ae=U.AdProxyMonitor.initConvivaDropIn(t,n,this,U,e.T)))},this.reportAdBreakStarted=function(t,n,i){e.de&&(e.R,e.Ce=t,e.Re=n,e.de.ye(t,n,i))},this.reportAdBreakEnded=function(){e.de&&(e.R,e.Ce=null,e.Re=null,e.de.me())},this.getSessionId=function(){return e.de?(e.R,e.fe.Qt()):N.NO_SESSION_KEY},this.getClientId=function(){return e.de?(e.R,e.fe.Zt()):null},this.getPlayerMonitor=function(){return e.de},this.getAdPlayerMonitor=function(){return e.fe},this.getVideoAnalytics=function(){return e.Te},this.getAdType=function(){return e.de?e.de.Ce:null},this.De=function(){return e.de?e.de.Re:null},l.prototype=Object.create(I.prototype),l.prototype.constructor=l},d=L.AdPlayerMonitorImpl=function(){var s=this;s.be=null,s.Pe=null,function(t,n){v.call(this,t,n)}.apply(this,arguments),this.le=function(t){this.Me()!==t&&(this.Le(),s.Pe=t||null)},this.Me=function(){return s.Pe},this.Ue=function(t){var n,i=this.Me(),e={};e.error=t,s.be&&(s.Ve=s.be.getPlayerStateManager(!0),s.ke(),s.Ve.setClientMeasureInterface(this),n=null,i&&(n=i.Fe()),s.He=s.be.createAdSession(n,s.yt,s.Ve,!0,e),"undefined"!==typeof t)&&(s.Be(),s.we())},d.prototype=Object.create(v.prototype),d.prototype.constructor=d},q=U.Analytics={init:function(){if(this._e,arguments.length<=0)throw new Error("customerKey must be valid");var t=null,n=null,i=null;if("string"===typeof arguments[0]&&!y.Pt(t=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof arguments[1]&&(n=arguments[1]),arguments.length>=3&&"object"===typeof arguments[2]&&(i=arguments[2]);var t=new f(t),e=new h,i=(y.Gt(i)>0&&(i[N.GATEWAY_URL]&&(t.gatewayUrl=i[N.GATEWAY_URL]),i[N.LOG_LEVEL]>=0)&&(e.logLevel=i[N.LOG_LEVEL]),new U.Impl.Html5Logging),s=new U.Impl.Html5Storage,o=new U.Impl.Html5Http,r=new U.Impl.Html5Timer,u=new U.Impl.Html5Time;this.Mi||(this.Mi=new U.Impl.Html5Metadata),n&&(n[N.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=n[N.CallbackFunctions.CONSOLE_LOG]),n[N.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=n[N.CallbackFunctions.MAKE_REQUEST]),n[N.CallbackFunctions.SAVE_DATA]&&(s.saveData=n[N.CallbackFunctions.SAVE_DATA]),n[N.CallbackFunctions.LOAD_DATA]&&(s.loadData=n[N.CallbackFunctions.LOAD_DATA]),n[N.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(u.getEpochTimeMs=n[N.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),n[N.CallbackFunctions.CREATE_TIMER])&&(r.createTimer=n[N.CallbackFunctions.CREATE_TIMER]),this.Ui=new K(u,r,o,s,this.Mi,i),this.T=new Y(this.Ui,e),this.T.lt("Analytics",t),this._e=new a(t,this.T,this.Ge,q.version),this._e._=new X(this._e,this),this._e._&&this._e._.je()},release:function(){var t=0;if(this.Ke){for(t=0;t<this.Ke.length;t++){var n=this.Ke[t];n&&(n.release(),n.R=null,n.pe=null,this.Ke.splice(t,1),t--)}this.Ke=null}if(this.We){for(t=0;t<this.We.length;t++){var i=this.We[t];i&&(i.release(),i.R=null,i.pe=null,this.We.splice(t,1),t--)}this.We=null}this.T&&(this.T.release(),this.T=null),this._e&&(this._e.release(),this._e=null),this._e=null,this.R=null,this.Ui=null,this.Mi=null,this.Ge=null},setUniqueIdentifier:function(t,n){if(!this._e)throw new Error(N.i);this._e.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this._e)throw new Error(N.i);this._e.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this._e)throw new Error(N.i);this._e.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this._e)throw new Error(N.i);this._e.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this._e)throw new Error(N.i);this._e.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this._e)throw new Error(N.i);this._e.sendCustomEvent(a.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(N.i);this._e=t,this.T=this._e.T},buildVideoAnalytics:function(){var t;if(this._e)return t=new E(this._e,this.T),this.We||(this.We=[]),this.We.push(t),t;throw new Error(N.i)},buildAdAnalytics:function(t){if(this._e)return t=new l(this._e,this.T,t||null),this.Ke||(this.Ke=[]),this.Ke.push(t),t;throw new Error(N.i)},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===y.Gt(t)||(this.Mi||(this.Mi=new U.Impl.Html5Metadata),t[N.DeviceMetadata.BRAND]&&(this.Mi.getDeviceBrand=function(){return t[N.DeviceMetadata.BRAND]}),t[N.DeviceMetadata.MANUFACTURER]&&(this.Mi.getDeviceManufacturer=function(){return t[N.DeviceMetadata.MANUFACTURER]}),t[N.DeviceMetadata.MODEL]&&(this.Mi.getDeviceModel=function(){return t[N.DeviceMetadata.MODEL]}),t[N.DeviceMetadata.TYPE]&&(this.Mi.getDeviceType=function(){return t[N.DeviceMetadata.TYPE]}),t[N.DeviceMetadata.VERSION]&&(this.Mi.getDeviceVersion=function(){return t[N.DeviceMetadata.VERSION]}),t[N.DeviceMetadata.OS_NAME]&&(this.Mi.getOperatingSystemName=function(){return t[N.DeviceMetadata.OS_NAME]}),t[N.DeviceMetadata.OS_VERSION]&&(this.Mi.getOperatingSystemVersion=function(){return t[N.DeviceMetadata.OS_VERSION]}),t[N.DeviceMetadata.CATEGORY]&&(this.Mi.getDeviceCategory=function(){return t[N.DeviceMetadata.CATEGORY]}),n=t[N.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],y.It(n)&&(this.Mi.getScreenWidth=function(){return n.toString()}),i=t[N.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],y.It(i)&&(this.Mi.getScreenHeight=function(){return i.toString()}),e=t[N.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],y.It(e)&&(this.Mi.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.Ge||(this.Ge={}),t){case N.Network.CONNECTION_TYPE:y.Pt(n)&&(this.Ge[t]=n,this._e)&&this._e.$(this.Ge[N.Network.CONNECTION_TYPE]);break;case N.Network.LINK_ENCRYPTION:y.Pt(n)&&(this.Ge[t]=n,this._e)&&this._e.it(this.Ge[N.Network.LINK_ENCRYPTION]);break;case N.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);y.It(i)&&u.DEFAULT_SIGNAL_STRENGTH!==i&&(this.Ge[t]=i,this._e)&&this._e.ot(i)}},version:"4.7.17"},I=L.AnalyticsImpl=function(){var c=this;function l(){var t=!!c.fe,n=c.getAdType(),i=c.De();return n===N.AdType.SERVER_SIDE&&i===N.AdPlayer.CONTENT?I.Ye.xe:n!==N.AdType.SERVER_SIDE||i!==N.AdPlayer.SEPARATE?n===N.AdType.CLIENT_SIDE&&i===N.AdPlayer.CONTENT||(n===N.AdType.CLIENT_SIDE&&N.AdPlayer.SEPARATE,t)?I.Ye.qe:I.Ye.Xe:void 0}function d(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!c.fe||i!==I.Ye.qe&&i!==I.Ye.xe||c.fe.Je(t,n),!c.de)||i!==I.Ye.Xe&&i!==I.Ye.xe||c.de.Je(t,n)}function v(t,n){u.Ei(t)&&(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.Qe(t),c.de&&n===I.Ye.Xe||n===I.Ye.xe)&&c.de.Qe(t)}function E(t,n){t=parseInt(t,10);isNaN(t)||(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.Ze(t),!c.de)||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.Ze(t)}function _(t,n){t=parseInt(t,10);isNaN(t)||(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.ze(t),!c.de)||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.ze(t)}function p(t,n){t=parseInt(t,10);!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.$e(!0,t),!c.de||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.$e(!0,t)}function R(t){!c.fe||t!==I.Ye.qe&&t!==I.Ye.xe||c.fe.$e(!1,-1),!c.de||t!==I.Ye.Xe&&t!==I.Ye.xe||c.de.$e(!1,-1)}function A(t,n){t=parseInt(t,10);isNaN(t)||(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.ts(t),!c.de)||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.ts(t)}function T(t,n){t=parseInt(t,10);isNaN(t)||(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.ns(t),!c.de)||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.ns(t)}function S(t,n){t=parseInt(t,10);isNaN(t)||(!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.es(t),!c.de)||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.es(t)}function O(t,n){var i;y.Pt(t)&&(i=c.de.ai(),y.Pt(i)&&"off"!==i&&"off"!==t&&g("off",n),!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.ss(t),!c.de||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.ss(t))}function g(t,n){var i;y.Pt(t)&&(i=c.de.ui(),y.Pt(i)&&"off"!==i&&"off"!==t&&O("off",n),!c.fe||n!==I.Ye.qe&&n!==I.Ye.xe||c.fe.os(t),!c.de||n!==I.Ye.Xe&&n!==I.Ye.xe||c.de.os(t))}!function(){}.apply(this,arguments),this.ge=function(t,n,i,e){switch(t){case N.Playback.BITRATE:e===I.Ye.qe?A(n,I.Ye.qe):A(n,l());break;case N.Playback.AVG_BITRATE:e===I.Ye.qe?T(n,I.Ye.qe):T(n,l());break;case N.Playback.PLAY_HEAD_TIME:e===I.Ye.qe?E(n,I.Ye.qe):E(n,l());break;case N.Playback.RESOLUTION:e===I.Ye.qe?d(n,i,I.Ye.qe):d(n,i,l());break;case N.Playback.BUFFER_LENGTH:e===I.Ye.qe?_(n,I.Ye.qe):_(n,l());break;case N.Playback.PLAYER_STATE:e===I.Ye.qe?v(n,I.Ye.qe):v(n,l());break;case N.Playback.RENDERED_FRAMERATE:e===I.Ye.qe?S(n,I.Ye.qe):S(n,l());break;case N.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?p(n,l()):i===I.Ye.qe?p(-1,I.Ye.qe):p(-1,l());break;case N.Playback.SEEK_ENDED:i===I.Ye.qe?R(I.Ye.qe):R(l());break;case N.Playback.CDN_IP:a=n,f=l(),y.Pt(a)&&(!c.fe||f!==I.Ye.qe&&f!==I.Ye.xe||c.fe.rs(a),!c.de||f!==I.Ye.Xe&&f!==I.Ye.xe||c.de.rs(a));break;case N.Playback.DROPPED_FRAMES_TOTAL:f=n,a=l();f=parseInt(f,10),isNaN(f)||(!c.fe||a!==I.Ye.qe&&a!==I.Ye.xe||c.fe.us(f),!c.de)||a!==I.Ye.Xe&&a!==I.Ye.xe||c.de.us(f);break;case N.Playback.DROPPED_FRAMES_COUNT:var s=n,o=l();s=parseInt(s,10),isNaN(s)||(!c.fe||o!==I.Ye.qe&&o!==I.Ye.xe||c.fe.hs(s),!c.de)||o!==I.Ye.Xe&&o!==I.Ye.xe||c.de.hs(s);break;case N.Playback.AUDIO_LANGUAGE:o=n,s=l(),y.Pt(o)&&(!c.fe||s!==I.Ye.qe&&s!==I.Ye.xe||c.fe.fs(o),!c.de||s!==I.Ye.Xe&&s!==I.Ye.xe||c.de.fs(o));break;case N.Playback.SUBTITLES_LANGUAGE:O(n,l());break;case N.Playback.CLOSED_CAPTIONS_LANGUAGE:g(n,l());break;default:r=t,u=n,h=l(),y.Pt(r)&&u&&(!c.fe||h!==I.Ye.qe&&h!==I.Ye.xe||c.fe.zt(r,u),!c.de||h!==I.Ye.Xe&&h!==I.Ye.xe||c.de.zt(r,u))}var r,u,h,a,f}},L.AnalyticsImpl.Ye={qe:1,Xe:2,xe:3},X=L.AppAnalyticsHandler=function(){var r=this;r._e=null,r.cs=null,r.ls=null,r.ds=null,r.Ct=null,function(t,n){r._e=t,r.cs=n,"undefined"!==typeof document&&document&&"function"===typeof document.createEvent&&(r.ls=document.createEvent("HTMLEvents"),r.ls.initEvent(N.APP_TRACKER_EVENT.TYPE,!0,!0))}.apply(this,arguments),this.je=function(){r.vs(N.APP_TRACKER_EVENT.INIT)},this.Es=function(){r.vs(N.APP_TRACKER_EVENT.VIDEO_ATTEMPT)},this._s=function(){r.vs(N.APP_TRACKER_EVENT.VIDEO_END),r.Ct=null},this.ps=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_PLAY,t)},this.Rs=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_PAUSE,t)},this.As=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_ERROR,t)},this.Ts=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_BUFFERING,t)},this.Ss=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH,t)},this.Os=function(t){r.vs(N.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE,t)},this.gs=function(t){t={cen:t.name,ced:t.data};r.vs(N.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT,t)},this.Ns=function(t){t={cen:t.name,ced:t.data};r.vs(N.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT,t)},this.Is=function(t){r.vs(N.APP_TRACKER_EVENT.AD_BREAK_START,{cen:"PodStart",ced:t})},this.ws=function(t){r.vs(N.APP_TRACKER_EVENT.AD_BREAK_END,{cen:"PodEnd",ced:t})},this.vs=function(t,n){try{if(r.ls){if(r.Cs(),r.ls.name=r.ds.name=t,r.ls.iid=r.ds.iid=r._e.getConfig().getIid(),r.ls.clid=r.ds.clid=r._e.getConfig().getClientId(),r.Ct){var i,e=r.Ct;if(e.ys()?(i=n?n[g.Ds]:void 0,r.ls.sid=r.ds.sid=e.bs.Qt(),r.ls.sst=r.ds.sst=e.Ps,r.ls.url=r.ds.url=i&&i.url?i.url:e.gn,r.ls.st=r.ds.st=e.Ms(),r.ls.an=r.ds.an=i&&i.an?i.an:e.Rn,r.ls.pn=r.ds.pn=i&&i.pn?i.pn:e.Ls,r.ls.tags=r.ds.tags=JSON.stringify(e.yt.An),r.ls.vid=r.ds.vid=i&&i.vid?i.vid:e.Sn,e.Us>=0&&(r.ls.cl=r.ds.cl=i&&i.cl?i.cl:e.Us),r.ls.lv=r.ds.lv=i&&i.lv?i.lv:e.Vs,r.ls.fw=r.ds.fw=e.ks(),r.ls.fwv=r.ds.fwv=e.Fs(),e.Ve&&(r.ls.mn=r.ds.mn=e.Ve.$n(),r.ls.mv=r.ds.mv=e.Ve.ti()),(e.Dn>=0||i&&i.br>=0)&&t===N.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH&&(r.ls.br=r.ds.br=i&&i.br?i.br:e.Dn),(e.bn>=0||i&&i.avgbr>=0)&&t===N.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH&&(r.ls.avgbr=r.ds.avgbr=i&&i.avgbr?i.avgbr:e.bn)):e.Hs()&&(r.ls.sid=r.ds.sid=e.bs.Qt(),r.ls.sst=r.ds.sst=e.Ps,r.ls.st=r.ds.st=e.Ms(),r.ls.mn=r.ds.mn=e.kn,r.ls.mv=r.ds.mv=e.Fn),n&&(t===N.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH||t===N.APP_TRACKER_EVENT.VIDEO_ERROR||t===N.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE||t===N.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT||t===N.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT||t===N.APP_TRACKER_EVENT.AD_BREAK_START||t===N.APP_TRACKER_EVENT.AD_BREAK_END))for(var s=Object.keys(n),o=0;o<s.length;o++)"object"===typeof n[s[o]]?r.ls[s[o]]=r.ds[s[o]]=JSON.stringify(n[s[o]]):r.ls[s[o]]=r.ds[s[o]]=n[s[o]]}"undefined"!==typeof document&&document&&"function"===typeof document.dispatchEvent&&document.dispatchEvent(r.ls)}}catch(t){}},this.Cs=function(){if(null!==r.ds)for(var t=Object.keys(r.ds),n=0;n<t.length;n++)delete r.ls[t[n]];r.ds={}},this.Bs=function(t,n,i){try{(r.Ct=i).ys()?t===g.Gs?n[g.Ds][g.js]?n[g.Ds][g.js]===g.Ks?r.ps(n):n[g.Ds][g.js]===g.Ws?r.Ts(n):n[g.Ds][g.js]===g.xs&&r.Rs(n):n[g.Ds][g.Ys]||n[g.Ds][g.qs]?r.Ss(n):r.Os(n):t===g.Xs?r.As({err:n[g.Js],ft:n[g.Qs]}):t===g.Zs?r._s():t===N.APP_TRACKER_EVENT.VIDEO_ATTEMPT?r.Es():t===g.zs&&(n[g.$s]===N.Events.POD_START?r.Is(n[g.no]):n[g.$s]===N.Events.POD_END?r.ws(n[g.no]):r.gs({name:n[g.$s],data:n[g.no]})):i.Hs()&&t===g.zs&&r.Ns({name:n[g.$s],data:n[g.no]})}catch(t){}}},J=L.PlayerMonitor=function(){var e=this;this.io=null,this.eo=null,this.yt=null,this.so=null,this.Pn=u.PlayerState.UNKNOWN,this.oo=-1,this.ro=-1,this.jn=[],this.uo=null,this.ho=null,this.ao=-2,this.fo=-2,this.Ln=-1,this.V=u.DEFAULT_SIGNAL_STRENGTH,this.co=null,this.Ii=null,this.U=null,this.L=null,this.pe=null,this.lo=null,this.do=null,this.vo=null,this.Eo=null,this.Ce=null,this.Re=null,this.Kn=null,this.Wn=null,this.xn=null,function(t){e.pe=t}.apply(this,arguments),this._o=function(){return e.Pn},this.Qe=function(t){e.Pn!==t&&(e.Le(),e.Pn=t,e.po())},this.Ro=function(){return e.Ao},this.To=function(){return e.So},this.$e=function(t,n){e.Le(),e.Ao=t,e.So=n,e.Oo()},this.No=function(){return e.oo},this.Ze=function(t){e.oo=t},this.Io=function(){return e.ro},this.ze=function(t){e.ro=t},this.Ee=function(){return e.ao},this.ts=function(t){e.ao!==t&&(e.ao=t,e.po())},this.wo=function(){return e.fo},this.ns=function(t){e.fo!==t&&(e.fo=t,e.po())},this.Co=function(){return e.Ln},this.es=function(t){e.Ln=t},this.yo=function(){return e.co},this.rs=function(t){e.co=t,e.po()},this.Ni=function(){return e.Ii},this.us=function(t){e.Ii=t,e.po()},this.hs=function(t){e.mo(t)},this.Do=function(){return e.V},this.oi=function(){return e.Kn},this.ui=function(){return e.Wn},this.ai=function(){return e.xn},this.fs=function(t){e.Kn!==t&&(e.Kn=t,e.po())},this.ss=function(t){e.Wn!==t&&(e.Wn=t,e.po())},this.os=function(t){e.xn!==t&&(e.xn=t,e.po())},this.bo=function(){return e.Po},this.Mo=function(){return e.Lo},this.Je=function(t,n){n<0&&(n=0),e.Po===(t=t<0?0:t)&&e.Lo===n||(e.Po=t,e.Lo=n,e.po())},this.Uo=function(){return e.eo},this.Vo=function(){e.Uo()&&(e.yt=new c,e.so={},e.do={},e.ko())},this.Fo=function(t){(e.eo||t)&&(this.Le(),e.eo&&(e.eo=null,e.Vo()),t)&&(e.eo=y.Ho(e.eo,t),e.Vo())},this.Oe=function(t){if(t)if(e.yt){var n,i=!1;for(n in t)if(e.yt[n]!==t[n]){i=!0;break}i&&(e.Le(),e.eo=y.Ho(t),e.ko())}else e.Fo(t)},this.Ne=function(t){t?e.vo!==t&&(e.vo=t,e.Bo()):(e.vo=null,e.Be())},this.Le=function(){e.Go||e.vo&&(e.Go=!0,e.vo(),e.Go=!1)},this.ce=function(){return e.io},this.ve=function(t,n){e.io!==t&&(e.Le(),e.io&&(e.jo(),e.Be(),e.we()),e.io=t,e.io)&&e.Ue(n)},this.Ko=function(){return e.uo},this.Wo=function(){return e.ho||null},this.xo=function(){return e.jn},this.Yo=function(){e.jn=[]},this.vi=function(t){this.Le(),e.jn.push(t),e.Oi()},this.Ie=function(t,n){e.Le(),e.uo=t,e.ho=n,e.qo()},this.Xo=function(){e.Le()},this.Bo=function(){e.Be(),e.lo=e.pe.create(e.Xo,1e3,"PlayerMonitor.update")},this.Be=function(){e.lo&&(e.lo(),e.lo=null)},this.ye=function(t,n,i){e.Eo=i,e.Ce=t,e.Jo(),e.Re=n,e.Ce&&N.AdType.CLIENT_SIDE===e.Ce&&(e.Pn=N.PlayerState.UNKNOWN,e.Qo(e.Ce,n,i?i[N.POD_POSITION]:null))},this.me=function(){e.Ce&&N.AdType.CLIENT_SIDE===e.Ce&&(e.Zo(),e.Pn=N.PlayerState.UNKNOWN),e.zo(),e.Ce=null,e.Re=null},this.$o=function(){return e.Eo},this.tr=function(){return e.Ce},this.getContentMetadata=function(){return this.yt},this.we=function(){this.io=null,this.eo=null,this.yt=null,this.so=null,this.Pn=u.PlayerState.UNKNOWN,this.oo=-1,this.ro=-1,this.jn=[],this.uo=null,this.ho=null,this.ao=-2,this.fo=-2,this.Ln=-1,this.V=u.DEFAULT_SIGNAL_STRENGTH,this.co=null,this.Ii=null,this.U=null,this.L=null,this.pe=null,this.lo=null,this.do=null,this.vo=null,this.Eo=null,this.Ce=null,this.Re=null,this.Kn=null,this.Wn=null,this.xn=null,e.Ve=null,e.He=a.NO_SESSION_KEY}},v=L.PlayerMonitorImpl=function(){var o=this;o.be=null,o.Ve=null,o.He=a.NO_SESSION_KEY,function(t,n){J.call(this,n),o.be=t}.apply(this,arguments),this.getPHT=function(){return o.No()},this.getBufferLength=function(){return o.Io()},this.getRenderedFrameRate=function(){return o.Co()},this.getSignalStrength=function(){return o.Do()},this.Oo=function(){o.Ve&&o._ContentSessionKey!==a.NO_SESSION_KEY&&(o.Ro()?o.Ve.setPlayerSeekStart(o.To()):o.Ve.setPlayerSeekEnd())},this.po=function(){o.Ve&&(o.Ve.setPlayerState(o._o()),o.Ee()>0&&o.Ve.setBitrateKbps(o.Ee()),o.wo()>0&&o.Ve.setAvgBitrateKbps(o.wo()),o.bo()>0&&o.Ve.setVideoResolutionWidth(o.bo()),o.Mo()>0&&o.Ve.setVideoResolutionHeight(o.Mo()),o.yo()&&o.Ve.setCDNServerIP(o.yo()),y.It(o.Ni())&&o.Ve.setDroppedFramesTotal(o.Ni()),y.Pt(o.oi())&&o.Ve.setAudioLang(o.oi()),y.Pt(o.ui())&&o.Ve.setSubtitleLang(o.ui()),y.Pt(o.ai()))&&o.Ve.setCcLang(o.ai())},this.Lt=function(){o.He!==a.NO_SESSION_KEY&&o.be&&o.be.updateContentMetadata(o.He,o.yt)},this.ke=function(){if(o.Ve){o.do&&y.Gt(o.do)>0&&(o.do[N.MODULE_NAME]&&o.do[N.MODULE_VERSION]&&(t=o.do[N.MODULE_NAME],n=o.do[N.MODULE_VERSION],y.Pt(t))&&y.Pt(n)&&o.Ve.setModuleNameAndVersion(t,n),o.do[N.FRAMEWORK_NAME]&&(t=o.do[N.FRAMEWORK_NAME],y.Pt(t))&&o.Ve.setPlayerType(t),o.do[N.FRAMEWORK_VERSION])&&(n=o.do[N.FRAMEWORK_VERSION],y.Pt(n))&&o.Ve.setPlayerVersion(n);var t,n,i=o.xo();o.Yo();for(var e=0;e<i.length;e++){var s=i[e];o.Ve.vi(s)}}},this.Zo=function(){o.Ve&&o.He!==a.NO_SESSION_KEY&&(o.po(),this.nr())},this.kt=function(){o.Ve&&o.He!==a.NO_SESSION_KEY&&(o.po(),o.be.Ft(o.He))},this.nr=function(){o.be&&o.He!==N.NO_SESSION_KEY&&o.be.adEnd(o.He)},this.Qo=function(t,n,i){var e;o.Ve&&o.He!==N.NO_SESSION_KEY&&(e=null,N.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:N.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),o.ir(e,n,i))},this.Ut=function(){o.Ve&&o.He!==N.NO_SESSION_KEY&&o.be.Vt(o.He)},this.ir=function(t,n,i){o.be&&o.He!==N.NO_SESSION_KEY&&o.be.adStart(o.He,t,n,i)},this.Ue=function(){if(o.be){o.Ve=o.be.getPlayerStateManager(!0),o.ke(),o.Ve.setClientMeasureInterface(this);try{var t;o.yt&&o.yt.custom&&!o.yt.custom[N.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n))&&s.push(e);return s}),""!==(t=y.er().split("?").join("").split("&").filter(function(t){return 2===t.split("=").length&&t.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&")))&&(o.yt.custom[N.UTM_TRACKING_URL]=t)}catch(t){o.R.error("PlayerMonitorImpl _createSession : "+t)}o.He=o.be.createSession(o.yt,o.Ve,!0)}},this.jo=function(){o.be&&(o.Ve&&(o.Ve.setPlayerState(N.PlayerState.STOPPED),o.Ve=null),o.He!==N.NO_SESSION_KEY)&&(o.be.cleanupSession(o.He),o.He=N.NO_SESSION_KEY)},this.Oi=function(){if(o.be&&o.He!==a.NO_SESSION_KEY){var t=o.xo();o.Yo();for(var n=0;n<t.length;n++){var i=t[n];o.be.reportError(o.He,i.sr(),i.rr())}}},this.qo=function(){o.He!==a.NO_SESSION_KEY&&o.be&&o.be.sendCustomEvent(o.He,o.Ko(),o.Wo())},this.ko=function(){var t,n=o.Uo(),i=!1,e=!1;for(t in n){var s=n[t];if(y.Pt(t)&&null!==s&&void 0!==s)switch(t){case N.STREAM_URL:e=!0,o.yt.streamUrl=s;break;case N.ASSET_NAME:e=!0,o.yt.assetName=s;break;case N.DEFAULT_RESOURCE:e=!0,o.yt.defaultResource=s;break;case N.VIEWER_ID:e=!0,o.yt.viewerId=s;break;case N.PLAYER_NAME:e=!0,o.yt.applicationName=s;break;case N.DURATION:e=!0,o.yt.duration=s;break;case N.IS_LIVE:e=!0,o.yt.streamType=s;break;case N.ENCODED_FRAMERATE:e=!0,o.yt.encodedFrameRate=s;break;case N.MODULE_NAME:case N.MODULE_VERSION:case N.FRAMEWORK_NAME:case N.FRAMEWORK_VERSION:i=!0,o.do[t]=s;break;default:N.APPLICATION_VERSION;e=!0,o.yt.custom[t]=s}}i&&this.ke(),e&&this.Lt()},this.Jo=function(){this.ur(N.Events.POD_START)},this.zo=function(){this.ur(N.Events.POD_END)},this.ur=function(t){var n,i,e;o.be&&o.He!==N.NO_SESSION_KEY&&(n={},(e=this.$o())&&((i=e[N.POD_POSITION])&&(n[N.POD_POSITION]=i),(i=e[N.POD_INDEX])&&(n[N.POD_INDEX]=i+""),t===N.Events.POD_START)&&(i=e[N.POD_DURATION])&&(n[N.POD_DURATION]=i+""),(e=this.tr())&&(n[N.AD_TYPE]=e),o.be.sendCustomEvent(o.He,t,n))},this.mo=function(t){o.Ve.setDroppedFramesCount(t)},this.hr=function(t){this.He===N.NO_SESSION_KEY&&t!==N.NO_SESSION_KEY&&(this.He=t)},this.Fe=function(){return this.He},this.Qt=function(){return o.be.getSessionId(this.He)},this.Zt=function(){return o.be.getClientId(this.He)},this.zt=function(t,n){o.be.zt(this.He,t,n)},v.prototype=Object.create(J.prototype),v.prototype.constructor=v},U.Impl=U.Impl||{},U.Impl.Html5Http=function(){!function(){}.apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Logging=function(){!function(){}.apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===h.LogLevel.DEBUG||n===h.LogLevel.INFO?console.log(t):console.warn&&n===h.LogLevel.WARNING?console.warn(t):console.error&&n===h.LogLevel.ERROR&&console.error(t))},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Metadata=function(){!function(){}.apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Storage=function(){!function(){}.apply(this,arguments),this.saveData=function(t,n,i,e){t=t+"."+n;try{localStorage.setItem(t,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){t=t+"."+n;try{i(!0,localStorage.getItem(t))}catch(t){i(!1,t.toString())}},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Time=function(){!function(){}.apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Timer=function(){!function(){}.apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}},E=L.VideoAnalytics=function(){var s=this;s._e=null,s.T=null,s.pe=null,s.de=null,s.Ae=null,this.release=function(){s.R,s.de&&s.de.ce()&&s.de.ve(!1),"undefined"!==typeof U.ProxyMonitor&&s.Ae&&(U.ProxyMonitor.release(s.Ae),s.Ae=null),s.de&&(s.de.Ne(null),s.de.we(),s.de=null),s.pe=null},function(t,n){s._e=t,s.T=n,s.pe=n.buildTimer(N.version),s.de=new v(s._e,s.pe),I.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.R,s.de&&(y.Gt(t)>0&&s.setContentInfo(t),s.de.ce()||s.de.ve(!0))},this.reportPlaybackEnded=function(){s.R,s.de&&s.de.ce()&&(s.de.ve(!1),"undefined"!==typeof U.ProxyMonitor&&s.Ae&&(U.ProxyMonitor.release(s.Ae),s.Ae=null),s.de.Ne(null))},this.reportPlaybackFailed=function(t,n){s.de&&(y.Gt(n)>0&&s.setContentInfo(n),s.de.ce()||s.de.ve(!0),s.R,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){y.Gt(t)<=0||s.de&&(s.R,s.de.Oe(t))},this.setPlayerInfo=function(t){y.Gt(t)<=0||s.de&&(s.R,s.de.Oe(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.ge(arguments[0]):2===arguments.length?s.ge(arguments[0],arguments[1]):3===arguments.length?s.ge(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.ge(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.de&&y.Pt(t)&&(s.R,t=new P(t,n),s.de.vi(t))},this.reportPlaybackEvent=function(t,n){if(y.Pt(t)&&s.de&&(s.R,s.de))switch(t){case N.Events.USER_WAIT_STARTED:case N.Events.BUMPER_VIDEO_STARTED:s.de.Ut();break;case N.Events.USER_WAIT_ENDED:case N.Events.BUMPER_VIDEO_ENDED:s.de.kt();break;default:s.de.Ie(t,n)}},this.setCallback=function(t){s.R,s.de&&s.de.Ne(t)},this.reportAdBreakStarted=function(t,n,i){s.de&&(s.R,s.de.ye(t,n,i))},this.reportAdBreakEnded=function(){s.de&&(s.R,s.de.me())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[N.CONVIVA_MODULE],e=n[N.MEDIA_ELEMENT]),"undefined"!==typeof i?U.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(U.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof U.ProxyMonitor)&&(s.R,!t&&s.Ae?(U.ProxyMonitor.release(s.Ae),s.Ae=null):t?(s.Ae&&U.ProxyMonitor.release(s.Ae),s.R,s.Ae="undefined"!==typeof e?U.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,U):U.ProxyMonitor.initConvivaDropIn(t,s.T,this,U)):"undefined"!==typeof e&&(s.Ae=U.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,U)))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===N.AdType.SERVER_SIDE?s.fe=t.getAdPlayerMonitor():s.getAdType()===N.AdType.CLIENT_SIDE&&s.R):s.fe=null},this.configureExistingSession=function(t){t!==N.NO_SESSION_KEY&&s.de&&(s.R,s.de.hr(t))},this.getSessionId=function(){return s.de?(s.R,s.de.Qt()):N.NO_SESSION_KEY},this.getClientId=function(){return s.de?(s.R,s.de.Zt()):null},this.Se=function(){return s.R,this.de},this.getAdType=function(){return s.de?s.de.Ce:null},this.De=function(){return s.de?s.de.Re:null},E.prototype=Object.create(I.prototype),E.prototype.constructor=E},L.JsonParse=(k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:n,text:V}},r=function(t){return t&&t!==s&&o("Expected '"+t+"' instead of '"+s+"'"),s=V.charAt(n),n+=1,s},F=function(){var t,n,i,e="";if('"'===s)for(;r();){if('"'===s)return r(),e;if("\\"===s)if(r(),"u"===s){for(n=i=0;n<4&&(t=parseInt(r(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof k[s])break;e+=k[s]}else e+=s}o("Bad string")},i=function(){for(;s&&s<=" ";)r()},e=function(){switch(i(),s){case"{":return vt();case"[":return dt();case'"':return F();case"-":return ct();default:return(s>="0"&&s<="9"?ct:lt)()}},function(t,r){return V=t,n=0,s=" ",t=e(),i(),s&&o("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t}),Z=L.JSON2={},"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof Z.stringify&&(_=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Z.stringify=function(t,n,i){var e;if(R=p="","number"===typeof i)for(e=0;e<i;e+=1)R+=" ";else"string"===typeof i&&(R=i);if(!(A=n)||"function"===typeof n||"object"===typeof n&&"number"===typeof n.length)return function t(n,i){var e,s,o,r,u,h=p,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),typeof(a="function"===typeof A?A.call(i,n,a):a)){case"string":return Et(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(p+=R,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";o=0===u.length?"[]":p?"[\n"+p+u.join(",\n"+p)+"\n"+h+"]":"["+u.join(",")+"]"}else{if(A&&"object"===typeof A)for(r=A.length,e=0;e<r;e+=1)"string"===typeof A[e]&&(o=t(s=A[e],a))&&u.push(Et(s)+(p?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(Et(s)+(p?": ":":")+o);o=0===u.length?"{}":p?"{\n"+p+u.join(",\n"+p)+"\n"+h+"}":"{"+u.join(",")+"}"}return p=h,o}}("",{"":t});throw new Error("JSON2.stringify")}),O=L.ar={cr:"0123456789abcdef",lr:function(t){for(var n="",i=7;i>=0;i--)n+=O.cr.charAt(t>>4*i&15);return n},dr:function(t){for(var n=1+(t.length+8>>6),i=new Array(16*n),e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<24-e%4*8;return i[e>>2]|=128<<24-e%4*8,i[16*n-1]=8*t.length,i},vr:function(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i},Er:function(t,n){return t<<n|t>>>32-n},_r:function(t,n,i,e){return t<20?n&i|~n&e:!(t<40)&&t<60?n&i|n&e|i&e:n^i^e},pr:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},Rr:function(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return O.Ar(n)},Ar:function(t){if(""===t)return"";for(var n,i=O.dr(t),e=new Array(80),s=1732584193,o=-271733879,r=-1732584194,u=271733878,h=-1009589776,a=0;a<i.length;a+=16){for(var f=s,c=o,l=r,d=u,v=h,E=0;E<80;E++)e[E]=E<16?i[a+E]:O.Er(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),n=O.vr(O.vr(O.Er(s,5),O._r(E,o,r,u)),O.vr(O.vr(h,e[E]),O.pr(E))),h=u,u=r,r=O.Er(o,30),o=s,s=n;s=O.vr(s,f),o=O.vr(o,c),r=O.vr(r,l),u=O.vr(u,d),h=O.vr(h,v)}return O.lr(s)+O.lr(o)+O.lr(r)+O.lr(u)+O.lr(h)}},(g=L.CwsProtocol=function(){this.Tr=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.Sr=function(t,n){var i=g.Zs;return this.Tr(t,n,i,{})}}).version="2.8",g.Or="/0/wsg",g.B="0",g.gr=-1,g.Nr=!1,g.Ir=!1,g.wr=2,g.Cr=-1,g.yr=-1,g.mr=1e3,g.Dr="sdk.js.1",g.Gs="CwsStateChangeEvent",g.Xs="CwsErrorEvent",g.Zs="CwsSessionEndEvent",g.zs="CwsCustomEvent",g.Pr="CwsSeekEvent",g.Mr="CwsDataSamplesEvent",g.Lr="ok",g.Ur="err",g.Vr="clid",g.kr="cfg",g.Fr="evs",g.Hr="maxhbinfos",g.Br="slg",g.Gr="hbi",g.jr="ad_shb",g.Kr="gw",g.Wr="fp",g.Yr="csi_en",g.qr="CwsSessionHb",g.Xr="t",g.Jr="st",g.Qr="sst",g.Zr="lv",g.zr="seq",g.$r="cid",g.tu="clid",g.nu="clv",g.iu="pver",g.eu="iid",g.su="sid",g.ou="vid",g.ru="an",g.uu="pn",g.hu="tags",g.au="sf",g.fu="evs",g.cu="lg",g.lu="hbinfos",g.du="sdk",g.vu="pj",g.js="ps",g.Ys="br",g.qs="avgbr",g.Eu="cl",g._u="efps",g.pu="afps",g.Ru="rfpstot",g.Au="rfpscnt",g.Tu="rs",g.Su="pht",g.Ou="bl",g.gu="url",g.Nu="caps",g.Iu="pm",g.wu="w",g.Cu="h",g.yu="ct",g.mu="le",g.Du="dftot",g.bu="dfcnt",g.Pu="al",g.Mu="sl",g.Lu="cal",g.Uu="ss",g.Vu="csi_n",g.ku="csi_t",g.Fu="csi_l",g.Hu="csi_v",g.Bu="csi_c",g.Gu="sch",g.ju="br",g.Ku="brv",g.Wu="dvb",g.xu="dvma",g.Yu="dvm",g.qu="dvt",g.Xu="dvv",g.Ju="sw",g.Qu="sh",g.Zu="scf",g.zu="fw",g.$u="fwv",g.th="cc",g.nh="mn",g.ih="mv",g.eh="os",g.sh="osv",g.oh="cat",g.rh="caps",g.uh="t",g.hh="seq",g.ah="st",g.fh="act",g.lh="skto",g.Js="err",g.Qs="ft",g.Ds="new",g.dh="old",g.$s="name",g.no="attr",g.Eh="seq",g._h="err",g.ph="rtt",g.Rh="ad",g.Ah="csi",g.Th=function(t){switch(t){case u.PlayerState.STOPPED:return g.Sh;case u.PlayerState.PLAYING:return g.Ks;case u.PlayerState.BUFFERING:return g.Ws;case u.PlayerState.PAUSED:return g.xs;case u.PlayerState.NOT_MONITORED:return g.Oh;default:return g.gh}},g.Sh=1,g.Ks=3,g.Ws=6,g.xs=12,g.Oh=98,g.gh=100,g.Nh={Ih:0,gt:1,wh:2,Ch:4},g.yh={mh:0},z=L.LibJSONInterface=function(){this.Dh=function(t){var n=null;try{n=Z.stringify(t)}catch(t){}return n},this.bh=function(t){var n=null;try{n=L.JsonParse(t)}catch(t){return n}return n=y.Ph(n)?n:null}},$=L.CwsHeartbeat=function(){this.Mh={},function(){}.apply(this,arguments),this.get=function(){return this.Mh},this.Lh=function(t,n){this.Mh[t]=n},this.Uh=function(t,n,i){this.Mh[t]||(this.Mh[t]={}),this.Mh[t][n]=i},this.Vh=function(t){this.Lh(g.Xr,t)},this.kh=function(t){this.Lh(g.Jr,t)},this.Fh=function(t){this.Lh(g.Qr,t)},this.Hh=function(t){this.Lh(g.Zr,t)},this.Bh=function(t){this.Lh(g.zr,t)},this.Gh=function(t){this.Lh(g.$r,t)},this.jh=function(t){this.Lh(g.tu,t)},this.Kh=function(t){this.Lh(g.nu,t)},this.Wh=function(t){this.Lh(g.iu,t)},this.xh=function(t){this.Lh(g.rh,t)},this.Yh=function(t){this.Lh(g.su,t)},this.qh=function(t){this.Lh(g.eu,t)},this.Xh=function(t){this.Lh(g.ou,t)},this.Jh=function(t){this.Lh(g.ru,t)},this.Qh=function(t){this.Lh(g.uu,t)},this.Zh=function(t){this.Lh(g.hu,t)},this.zh=function(t){this.Lh(g.au,t)},this.$h=function(t){this.Lh(g.Nu,t)},this.ta=function(t){this.Lh(g.fu,t)},this.na=function(t){this.Lh(g.du,t)},this.ia=function(t){this.Lh(g.cu,t)},this.ea=function(t){this.Lh(g.lu,t)},this.Qe=function(t){this.Lh(g.js,t)},this.sa=function(t){this.Lh(g.vu,t)},this.oa=function(t){this.Lh(g.Eu,t)},this.ra=function(t){this.Lh(g.Ys,t)},this.ua=function(t){this.Lh(g.qs,t)},this.ha=function(t){this.Lh(g.Tu,t)},this.aa=function(t){this.Lh(g._u,t)},this.fa=function(t){this.Lh(g.pu,t)},this.ca=function(t){this.Lh(g.Au,t)},this.la=function(t){this.Lh(g.Ru,t)},this.da=function(t){this.Uh(g.Iu,g.Gu,t)},this.va=function(t){this.Uh(g.Iu,g.ju,t)},this.Ea=function(t){this.Uh(g.Iu,g.Ku,t)},this._a=function(t){this.Uh(g.Iu,g.Wu,t)},this.pa=function(t){this.Uh(g.Iu,g.xu,t)},this.Ra=function(t){this.Uh(g.Iu,g.Yu,t)},this.Aa=function(t){this.Uh(g.Iu,g.qu,t)},this.Ta=function(t){this.Uh(g.Iu,g.Xu,t)},this.Sa=function(t){this.Uh(g.Iu,g.zu,t),this.Lh(g.zu,t)},this.Oa=function(t){this.Uh(g.Iu,g.$u,t),this.Lh(g.$u,t)},this.ga=function(t){this.Uh(g.Iu,g.eh,t.toUpperCase())},this.Na=function(t){this.Uh(g.Iu,g.sh,t)},this.Ia=function(t){this.Uh(g.Iu,g.oh,t)},this.wa=function(t){this.Uh(g.Iu,g.Ju,t)},this.Ca=function(t){this.Uh(g.Iu,g.Qu,t)},this.ya=function(t){this.Uh(g.Iu,g.Zu,t)},this.ma=function(t){this.Lh(g.Du,t)},this.mo=function(t){this.Lh(g.bu,t)},this.Da=function(t){this.Lh(g.Su,t)},this.ba=function(t){this.Lh(g.Ou,t)},this.Pa=function(t){this.Lh(g.gu,t)},this.Ma=function(t){this.Lh(g.wu,t)},this.La=function(t){this.Lh(g.Cu,t)},this.Ua=function(t){this.Lh(g.yu,t)},this.Va=function(t){this.Lh(g.mu,t)},this.ka=function(){this.Lh(g.Rh,!0)},this.Fa=function(t){this.Lh(g.Uu,t)},this.setModuleName=function(t){this.Uh(g.th,g.nh,t)},this.Ha=function(t){this.Uh(g.th,g.ih,t)},this.Ba=function(t){this.Lh(g.Ah,t)},this.Ga=function(t){t&&this.Lh(g.Vu,t)},this.ja=function(t){t&&this.Lh(g.ku,t)},this.Ka=function(t){t&&this.Lh(g.Fu,t)},this.Wa=function(t){t&&this.Lh(g.Hu,t)},this.xa=function(t){t&&this.Lh(g.Bu,t)},this.Ya=function(t){this.Lh(g.Pu,t)},this.qa=function(t){this.Lh(g.Mu,t)},this.Xa=function(t){this.Lh(g.Lu,t)}},(w=L.CwsSession=function(){var _=this;_.Qa=null,_.Za=200,_.za=5e3,_.yt=null,_.Ps=0,_.$a=0,_.tf=g.Nh.Ih,_.nf=g.yh.mh,_.if=[],_.ef=-1,_.Dn=-2,_.bn=-2,_.Ii=-1,_.sf=-1,_.rf=null,_.Pn=u.PlayerState.UNKNOWN,_.Cn=-1,_.Us=-1,_.gn=null,_.Hn=-1,_.Bn=-1,_.Ve=null,_.Rn=null,_.Sn=null,_.Ls=null,_.Vs=null,_.uf={},_.hf=null,_.af=null,_.ff=null,_.cf=null,_.lf=null,_.df=null,_.vf=null,_.Ef=null,_._f=null,_.pf=null,_.Rf=null,_.Af=null,_.Tf=null,_.Sf=null,_.Of=null,_.kn=null,_.Fn=null,_.L=null,_.U=null,_.co=null,_.gf=null,_.Nf=!1,_.If=!1,_.wf=!1,_.Cf=!1,_.yf=!1,_.mf=null,_.Df=1e3,_.bf=0,_.Pf=0,_.Mf={},_.D={},_.Lf=!1,_.Uf=null,_.Vf=null,_.kf=null,_.Ff=null,_.Hf=null,_.Bf=null,_.Gf=12e4,_.jf=g.Ir,_.Kf=!1,_.Wf=null,_.Fi=null,_.Kn=null,_.Wn=null,_.xn=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.xf=t,this._e=n,this.ki=i,this.R=e,this.R.setModuleName("CwsSession"),this.N=s,this.pe=o,this.Yf=r,this.qf=u,this.Xf=h,this.Hi=a,this.Jf=f,this.yt=c,this.yt&&(_.Cn=this.yt.encodedFrameRate,_.gn=this.yt.streamUrl,_.Us=this.yt.duration),this.Jf&&(_.Wf=_.Jf.get(C.H)),_.Fi=l}.apply(this,arguments),this.St=function(){this.Jf=null,this.Hi=null,this.g=null,this.Xf=null,this.qf=null,this.Yf=null,this.pe=null,this.N=null,this.R=null,this.ki=null,this._e=null,this.xf.Qf(),this.xf=null,this.gf=null,this.wf=!0},this.Zf=function(t){this.bs=t,this.zf=this.bs.zf,this.R.Yh(this.bs.C),this.Ps=this.Xf.current(),this.ys()||this.$f()?(this.tf+=w.Ja,_.R.info("start(): assetName="+_.yt.assetName)):_.R.info("start()"+_.tc())},this.nc=function(){this.Cf=!0},this.ic=function(){this.R.debug("initialize()"),(this.ys()||this.$f()||this.Hs())&&(this._e&&this._e._&&this._e._.Bs(N.APP_TRACKER_EVENT.VIDEO_ATTEMPT,{},this),_.ec(),_.sc(),_.oc(),this.ys()||this.$f())&&_.rc()},this.uc=function(){this.R.debug("end(): schedule the last hb before session cleanup"+_.tc()),this.hc(),this.ac(),this.fc(),this.cc()},this.lc=function(){var t;this.Cf||(t=_.Jf.get(C.dc),_.$f()&&"boolean"===typeof t&&t||this.cc(),this.vc())},this.va=function(t){var n=_.hf;n!==t&&t&&(_.R.debug("Change browserName from "+n+" to "+t),_.hf=t)},this.Ea=function(t){var n=_.af;n!==t&&t&&(_.R.debug("Change browserVersion from "+n+" to "+t),_.af=t)},this._a=function(t){var n=_.ff;n!==t&&t&&(_.R.debug("Change deviceBrand from "+n+" to "+t),_.ff=t)},this.pa=function(t){var n=_.cf;n!==t&&t&&(_.R.debug("Change deviceManufacturer from "+n+" to "+t),_.cf=t)},this.Ra=function(t){var n=_.lf;n!==t&&t&&(_.R.debug("Change deviceModel from "+n+" to "+t),_.lf=t)},this.Aa=function(t){var n=_.df;n!==t&&t&&(_.R.debug("Change deviceType from "+n+" to "+t),_.df=t)},this.Ta=function(t){var n=_.vf;n!==t&&t&&(_.R.debug("Change deviceVersion from "+n+" to "+t),_.vf=t)},this.ga=function(t){var n=_.pf;n!==t&&t&&(_.R.debug("Change operatingSystemName from "+n+" to "+t),_.pf=t)},this.Na=function(t){var n=_.Rf;n!==t&&t&&(_.R.debug("Change operatingSystemVersion from "+n+" to "+t),_.Rf=t)},this.Ia=function(t){var n=_.Af;n!==t&&t&&(_.R.debug("Change deviceCategory from "+n+" to "+t),_.Af=t)},this.wa=function(t){var n=_.Tf;n!==t&&t&&(_.R.debug("Change screenWidth from "+n+" to "+t),_.Tf=t)},this.Ca=function(t){var n=_.Sf;n!==t&&t&&(_.R.debug("Change screenHeight from "+n+" to "+t),_.Sf=t)},this.ya=function(t){var n=_.Af;n!==t&&t&&(_.R.debug("Change scaleFactor from "+n+" to "+t),_.Of=t)},this.ks=function(){return _.Ef},this.Sa=function(t){var n=_.Ef;n!==t&&t&&(_.R.debug("Change frameworkName from "+n+" to "+t),_.Ef=t)},this.Fs=function(){return _._f},this.Oa=function(t){var n=_._f;n!==t&&t&&(_.R.debug("Change frameworkVersion from "+n+" to "+t),_._f=t)},this.Pa=function(t){var n;_.yt.streamUrl||(n=_.gn)!==t&&t&&(_.R.debug("Change stream url from "+n+" to "+t),_.gn=t)},this.Ec=function(){_.ac(),_.Kf||(_._c(),_.Bf=_.pe.create(_._c,_.Gf,"CwsSession.startCdnTimer"),_.R.debug("fetching cdn ip timer started"))},this.ac=function(){_.Bf&&(_.Bf(),_.Rc(null,null,null,null,null),_.Bf=null)},this._c=function(){_.R.debug("detectCDNServerIp(): For "+_.gn),_.jf?_.Ac():_.ac()},this.Ac=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",_.gn,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?_.Rc("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):_.Rc("null","header","null","null",""+this.status))},t.send()):_.R.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){_.R.info("Exception caught in makeAkamaiHeadRequest")}},this.Rc=function(t,n,i,e,s){var o={},r={};_.Uf!==t&&(null!==_.Uf&&(r[g.Vu]=_.Uf),_.Uf=t,null===_.Uf?o[g.Vu]="null":o[g.Vu]=_.Uf),_.Vf!==n&&(null!==_.Vf&&(r[g.ku]=_.Vf),_.Vf=n,null===_.Vf?o[g.ku]="null":o[g.ku]=_.Vf),_.kf!==i&&(null!==_.kf&&(r[g.Fu]=_.kf),_.kf=i,null===_.kf?o[g.Fu]="null":o[g.Fu]=_.kf),_.Ff!==e&&(null!==_.Ff&&(r[g.Hu]=_.Ff),_.Ff=e,null===_.Ff?o[g.Hu]="null":o[g.Hu]=_.Ff),_.Hf!==s&&(null!==_.Hf&&(r[g.Bu]=_.Hf),_.Hf=s,null===_.Hf?o[g.Bu]="null":o[g.Bu]=_.Hf),"{}"!==JSON.stringify(o)&&_.Tc(o,r)},this.Sc=function(t){var n=_.Dn;n!==t&&t>0&&(_.R.info("Change bitrate from "+n+" to "+t),_.Oc(n,t),_.Dn=t)},this.gc=function(t){var n=_.bn;n!==t&&t>0&&(_.R.info("Change Avg bitrate from "+n+" to "+t),_.Nc(n,t),_.bn=t)},this.ma=function(t){var n=_.Ii;n!==t&&t>=0&&(_.R.info("Change dropped frames total from "+n+" to "+t),_.Ic(n,t),_.Ii=t)},this.mo=function(t){var n=_.sf,i=t+(-1===_.sf?0:_.sf);n!==t&&i>=0&&(_.R.info("Change dropped frames count from "+n+" to "+i),_.wc(n,i),_.sf=i)},this.ha=function(t){var n=_.rf;n!==t&&t&&(_.R.info("Change resource from "+n+" to "+t),_.rf=t)},this.Jh=function(t){_.Rn!==t&&t&&(_.R.info("Change assetName from "+_.Rn+" to "+t),_.Rn=t)},this.Hh=function(t){var n=_.Vs;n!==t&&y.ee(t)&&(_.R.info("Change isLive from "+n+" to "+t),_.Vs=t)},this.Xh=function(t){var n=_.Sn;n!==t&&t&&(_.R.info("Change viewerId from "+n+" to "+t),_.Sn=t)},this.Qh=function(t){var n=_.Ls;n!==t&&t&&(_.R.info("Change playerName from "+n+" to "+t),_.Ls=t)},this.Zh=function(t){var n=_.uf;!y.Cc(n,t)&&t&&(_.R.info("Change tags from "+y.yc(n)+" to "+y.yc(t)),_.uf=t)},this.aa=function(t){_.yt.encodedFrameRate>0||(_.R.debug("setEncodedFrameRate(): "+t),_.Cn=t)},this.oa=function(t){_.yt.duration>0||(_.R.debug("setContentLength(): "+t),_.Us=t)},this.Qe=function(t){var n,i=!1;_.If||t!==u.PlayerState.PLAYING||(_.If=!0,_.ys()&&(i=!0),y.Pt(_.yt.viewerId)||_.R.error("Missing viewerId. viewerId should be updated before first frame is rendered."),y.Pt(_.yt.streamType)&&c.StreamType.UNKNOWN!==_.yt.streamType||_.R.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),y.Pt(_.yt.applicationName))||_.R.error("Missing applicationName. applicationName should be updated before first frame is rendered."),_.Pn!==t&&(n=_.Pn,_.R.info("setPlayerState(): changing player state from "+n+" to "+t),_.mc(n,t),_.Pn=t,i)&&(_.R.info("SetPlayerState(): to playing state triggered urgent HB"),_.Dc())},this.bc=function(t){var n=_.Hn;n!==t&&t>0&&(_.R.debug("Change stream resolution width from "+n+" to "+t),_.Pc(n,t),_.Hn=t)},this.Mc=function(t){var n=_.Bn;n!==t&&t>0&&(_.R.debug("Change stream resolution height from "+n+" to "+t),_.Lc(n,t),_.Bn=t)},this.Ua=function(t){var n=_.L;n!==t&&t&&(_.R.debug("Change network connection type from "+n+" to "+t),_.Uc(n,t),_.L=t)},this.Va=function(t){var n=_.U;n!==t&&t&&(_.R.debug("Change network link encryption from "+n+" to "+t),_.Vc(n,t),_.U=t)},this.Ba=function(t){_.Kf=!0,_.ac();var n=_.co;n!==t&&y.Pt(t)&&(_.R.debug("Change CDN Server IP from "+n+" to "+t),_.kc(n,t),_.co=t)},this.Ya=function(t){var n=_.Kn;n!==t&&y.Pt(t)&&!_.bs.Fc&&(_.R.info("Change Audio Lang from "+n+" to "+t),_.Hc(n,t),_.Kn=t)},this.qa=function(t){var n=_.Wn;n!==t&&y.Pt(t)&&!_.bs.Bc&&(_.R.info("Change Subtitle Lang from "+n+" to "+t),_.Gc(n,t),_.Wn=t)},this.Xa=function(t){var n=_.xn;n!==t&&y.Pt(t)&&!_.bs.jc&&(_.R.info("Change Closed Caption Lang from "+n+" to "+t),_.Kc(n,t),_.xn=t)},this.Wc=function(t){var n;_.R.debug("togglePauseJoin()"),_.Nf===t?_.R.debug("togglePauseJoin(): same value, ignoring"):(t=_.Nf,n=!_.Nf,_.xc(t,n),_.Nf=!_.Nf)},this.Yc=function(t,n){_.qc(t,n),_.R.info("sendError(): triggered urgent HB");t=_.Jf.get(C.dc);_.$f()&&"boolean"===typeof t&&t||n&&_.Dc()},this.Xc=function(t,n){var i,e;n[g.uh]=t,n[g.ah]=this.Ms(),n[g.hh]=this.xf.Jc(),this.Ve&&(i=b.Qc(this.Ve.getPHT(),0,null,-1),e=b.Qc(this.Ve.getBufferLength(),0,null,-1),i>=0&&(n[g.Su]=i),e>0)&&(n[g.Ou]=e),this.xf.Zc(n),this._e._&&this._e._.Bs(t,n,this)},this.zc=function(t){_.Ve=t,_.Ve?_.$c():_.tl()},this.hc=function(){var t=this.qf.Sr(this.nl(),this.Ms());this._e._&&this._e._.Bs(g.Zs,{},this),this.xf.Zc(t)},this.qc=function(t,n){var i={};i[g.Js]=t,i[g.Qs]=n,this.Xc(g.Xs,i)},this.Oc=function(t,n){var i={},e={};t>0&&(e[g.Ys]=t),i[g.Ys]=n,this.Tc(i,e)},this.Nc=function(t,n){var i={},e={};t>0&&(e[g.qs]=t),i[g.qs]=n,this.Tc(i,e)},this.il=function(t,n){var i={};i[g.fh]=t,n>=0&&(i[g.lh]=n),this.Xc(g.Pr,i)},this.Pc=function(t,n){var i={},e={};-1!==t&&(e[g.wu]=t),i[g.wu]=n,this.Tc(i,e)},this.Lc=function(t,n){var i={},e={};-1!==t&&(e[g.Cu]=t),i[g.Cu]=n,this.Tc(i,e)},this.Uc=function(t,n){var i={},e={};null!==t&&(e[g.yu]=t),i[g.yu]=n,this.Tc(i,e)},this.Vc=function(t,n){var i={},e={};null!==t&&(e[g.mu]=t),i[g.mu]=n,this.Tc(i,e)},this.kc=function(t,n){var i={},e={};y.Pt(t)&&(e[g.Ah]=t),i[g.Ah]=n,this.Tc(i,e)},this.Ic=function(t,n){var i={},e={};t>=0&&(e[g.Du]=t),i[g.Du]=n,this.Tc(i,e)},this.wc=function(t,n){var i={},e={};t>=0&&(e[g.bu]=t),i[g.bu]=n,this.Tc(i,e)},this.Hc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[g.Pu]=t),i[g.Pu]=n),this.Tc(i,e)},this.Gc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[g.Mu]=t),i[g.Mu]=n),this.Tc(i,e)},this.Kc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[g.Lu]=t),i[g.Lu]=n),this.Tc(i,e)},this.xc=function(t,n){var i={},e={};e[g.vu]=t,i[g.vu]=n,this.Tc(i,e)},this.mc=function(t,n){var i={},e={};i[g.js]=g.Th(n),e[g.js]=g.Th(t),this.Tc(i,e)},this.Tc=function(t,n){var i={};i[g.Ds]=t,n&&y.Gt(n)>0&&(i[g.dh]=n),this.Xc(g.Gs,i)},this.el=function(t,n){var i={};i[g.$s]=t,y.Gt(n)>0&&(i[g.no]=n),this.Xc(g.zs,i)},this.fc=function(){_.Qa&&(_.Qa(),_.Qa=null)},this.vc=function(){_.fc();var t=1e3*_.ki.heartbeatInterval;_.Qa=_.pe.create(_.cc,t,"Session.sendHeartbeat:"+this.zf)},this.tl=function(){_.mf&&(_.mf(),_.mf=null)},this.$c=function(){_.tl(),_.mf=_.pe.create(_.sl,_.Df,"Session.startRfpsTimer")},this.ol=function(){var t={err:"pending"};t.seq=_.$a-1,t.sentAt=_.Ms(),t.rtt=-1,_.if.push(t);for(var n=0;n<_.if.length;n++)"ok"===(t=_.if[n]).err&&(_.if.splice(n,1),n--)},this.rl=function(t,n){for(var i=0;i<_.if.length;i++){var e=_.if[i];e.seq===t&&(e.rtt=_.Ms()-e.sentAt,e.err=n)}},this.ul=function(t){for(var n=0;n<_.if.length;n++){var i=_.if[n];i.seq===t&&(i.rtt=_.Ms()-i.sentAt,i.err="ok")}},this.hl=function(){for(var t,n,i=_.Jf.get(C.al),e=[],s=-1,o=0;o<_.if.length;o++)if("ok"===(n=_.if[o]).err){s=n.seq;break}for(var r=0;r<_.if.length;r++)((t=(n=_.if[r]).seq)<_.$a-i||t<s)&&e.push(r);for(var u=[],h=0;h<_.if.length;h++)t=(n=_.if[h]).seq,e.indexOf(h)<0&&u.push(_.if[h]);_.if=u},this.fl=function(){_.hl();for(var t=[],n=0;n<_.if.length;n++){var i=_.if[n],e={};e[g.Eh]=i.seq,e[g.ph]=i.rtt,e[g._h]=i.err,t.push(e)}return t},this.ll=function(){var t,n=-1,i=-1,e=_.xf.Qf();if(_.Hs()&&0===e.length)return null;var s=new $,o=(s.Vh(g.qr),s.Gh(_.ki.customerKey),s.jh(_.Jf.get(C.H)),s.Yh(_.bs.C),s.Bh(_.$a),s.Wh(g.version),N.version);if(_.Fi&&(o=_.Fi),s.Kh(o),s.qh(_._e.C),s.xh(0),_._e.L?s.Ua(_._e.L):_.L&&s.Ua(_.L),_._e.U?s.Va(_._e.U):_.U&&s.Va(_.U),y.Pt(_.co)&&s.Ba(_.co),s.da(g.Dr),_.hf&&s.va(_.hf),_.af&&s.Ea(_.af),_.ff&&s._a(_.ff),_.cf&&s.pa(_.cf),_.lf&&s.Ra(_.lf),_.df&&s.Aa(_.df),_.vf&&s.Ta(_.vf),_.pf&&s.ga(_.pf),_.Rf&&s.Na(_.Rf),_.Af&&s.Ia(_.Af),_.Ef&&s.Sa(_.Ef),_._f&&s.Oa(_._f),_.Tf&&!isNaN(_.Tf)&&s.wa(parseInt(_.Tf,10)),_.Sf&&!isNaN(_.Sf)&&s.Ca(parseInt(_.Sf,10)),_.Of&&!isNaN(_.Of)?s.ya(parseFloat(_.Of)):(_.Tf&&!isNaN(_.Tf)||_.Sf&&!isNaN(_.Sf))&&s.ya(1),_.Ve&&(_.kn=_.Ve.$n(),_.kn&&s.setModuleName(_.kn),_.Fn=_.Ve.ti(),_.Fn&&s.Ha(_.Fn),_.Ve.ni()&&(_.Ef=_.Ve.ni(),s.Sa(_.Ef)),_.Ve.ei())&&(_._f=_.Ve.ei(),s.Oa(_._f)),_.Sn&&s.Xh(_.Sn),y.Gt(_.uf)>0&&s.Zh(_.uf),_.ys()||_.$f()){_.$f()&&s.ka(),_.Rn&&s.Jh(_.Rn),s.zh(_.tf);o=g.Th(_.Pn),o=(s.Qe(o),s.sa(_.Nf),_.Ls&&s.Qh(_.Ls),y.ee(_.Vs)&&s.Hh(_.Vs),_.Us>0&&s.oa(_.Us),_.Dn>0&&s.ra(_.Dn),_.bn>0&&s.ua(_.bn),null!==_.rf&&s.ha(_.rf),_.Cn>0&&s.aa(_.Cn),_.Ve&&(n=b.Qc(_.Ve.getPHT(),0,null,-1),i=b.Qc(_.Ve.getBufferLength(),0,null,-1)),y.It(_._e.V)?t=_._e.V:_.Ve&&(t=_.Ve.getSignalStrength()),n>=0&&s.Da(n),i>0&&s.ba(i),_.dl());if(o>0&&s.fa(o),_.Pf>0&&s.la(b.Qc(_.Pf,0,null,-1)),_.bf>0&&s.ca(b.Qc(_.bf,0,null,-1)),t!==u.DEFAULT_SIGNAL_STRENGTH&&s.Fa(t),_.gn&&s.Pa(_.gn),_.Hn>0&&s.Ma(_.Hn),_.Bn>0&&s.La(_.Bn),_.Ii>-1&&s.ma(_.Ii),_.sf>-1&&(s.mo(_.sf),_.sf>0)&&(_.wc(_.sf,0),_.sf=0),_.Kn&&s.Ya(_.Kn),_.Wn&&s.qa(_.Wn),_.xn&&s.Xa(_.xn),"undefined"!==typeof _.gf)for(var r in _.gf)s.Lh(r,_.gf[r])}else s.zh(g.Nh.Ih);return e.length>0&&s.ta(e),s.$h(_.nf),s.na(!0),_.Jf.get(C.vl)&&s.ia(_.Hi.Qf()),_.Jf.get(C.al)>0&&(n=_.fl()).length>0&&s.ea(n),0===_.$a&&(s=_.El(s)),(s=0!==_.$a?_._l(s):s).Fh(_.Ps),s.kh(_.Ms()),_.jf&&(s.Ga(_.Uf),s.ja(_.Vf),s.Ka(_.kf),s.Wa(_.Ff),s.xa(_.Hf)),_.$a++,s.get()},this._l=function(t){var n,i=_.D,e={};for(n in t.Mh.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.Mh.tags[n]);t.Mh.tags=e,_.D={};for(var s=0;s<_.Mf.length;s++)Object.prototype.hasOwnProperty.call(_._e.D,_.Mf[s])?Object.prototype.hasOwnProperty.call(_._e.M,_.Mf[s])?_._e.M[_.Mf[s]]===C.tn.nn?(_.D[C.pl+""+_.Mf[s]]=C.tn.nn,_._e.P("End-user chose to opt-out of personal data collection")):_._e.M[_.Mf[s]]===C.tn.sn?(_.D[C.pl+""+_.Mf[s]]=C.tn.sn,_._e.P("End-user chose to opt-out of personal data collection")):_._e.M[_.Mf[s]]===C.tn.$t?(_.D[C.pl+""+_.Mf[s]]=C.tn.$t,_._e.P("End-user used privacy settings and chose to opt-out of personal data collection")):(_.D[C.pl+""+_.Mf[s]]=_._e.D[_.Mf[s]],_._e.P("Data collection successful")):(_.D[C.pl+""+_.Mf[s]]=_._e.D[_.Mf[s]],_._e.P("Data collection successful")):_.D[C.pl+""+_.Mf[s]]=C.tn.Rl;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(_.Mf)&&-1!==_.Mf.indexOf(""+u[2])||i[C.pl+""+u[2]]===C.tn.Al||(_._e.P("Data collection restricted from Conviva back-end"),_.D[C.pl+""+u[2]]=C.tn.Al,r[C.pl+""+u[2]]=C.tn.Al)}if("{}"!==JSON.stringify(_.D)){var h,a=y.Tl(_.D);for(h in t.Mh.tags)a[h]=t.Mh.tags[h];if(t.Mh.tags=a,!y.Cc(i,_.D)){var f={};if("{}"!==JSON.stringify(r)&&(f[g.hu]=r),"{}"!==JSON.stringify(i)){for(var c in i)_.D[c]&&i[c]!==_.D[c]&&(f[g.hu]||(f[g.hu]={}),f[g.hu][c]=_.D[c]);for(var l in _.D)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===_.D[l]||(f[g.hu]||(f[g.hu]={}),f[g.hu][l]=_.D[l])}"{}"===JSON.stringify(i)&&(f[g.hu]=_.D);var d,v,E={};E[g.Ds]=f,E[g.uh]=g.Gs,E[g.ah]=_.Ms(),E[g.hh]=_.xf.Jc(),_.Ve&&(d=b.Qc(_.Ve.getPHT(),0,null,-1),v=b.Qc(_.Ve.getBufferLength(),0,null,-1),d>=0&&(E[g.Su]=d),v>0)&&(E[g.Ou]=v),t.Mh.evs||(t.Mh.evs=[]),t.Mh.evs.push(E)}}return t},this.El=function(t){var n=_.Sl();if("{}"!==JSON.stringify(n)){var i,e=y.Tl(n);for(i in t.Mh.tags)e[i]=t.Mh.tags[i];t.Mh.tags=e;var s,o={},n=(o[g.hu]=n,{});n[g.Ds]=o,n[g.uh]=g.Gs,n[g.ah]=_.Ms(),n[g.hh]=_.xf.Jc(),_.Ve&&(o=b.Qc(_.Ve.getPHT(),0,null,-1),s=b.Qc(_.Ve.getBufferLength(),0,null,-1),o>=0&&(n[g.Su]=o),s>0)&&(n[g.Ou]=s),t.Mh.evs||(t.Mh.evs=[]),t.Mh.evs.push(n)}return t},this.Sl=function(){var t={};if("undefined"!==typeof navigator&&navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=_.Ol();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]="undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:""),t},this.Ol=function(){try{if("undefined"!==typeof document&&document&&"function"===typeof document.createElement){var t,n,i=document.createElement("CANVAS");if("undefined"!==typeof i&&i&&"function"===typeof i.getContext)return t=i.getContext("2d"),n="conviva",t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(n,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),O.Ar(i.toDataURL())}return""}catch(t){return""}},this.cc=function(){var t;_.wf||(t=_.ll())&&_.gl(t)},this.sl=function(){var t;_.Pn===u.PlayerState.PLAYING&&_.Ve&&(t=_.Ve.getRenderedFrameRate())>0&&(_.Pf+=t,_.bf++)},this.dl=function(){return _.Pf>0&&_.bf>0||(this.sl(),_.Pf>0&&_.bf>0)?y.Nl.Cast(+_.Pf/_.bf):u.DEFAULT_RENDERED_FRAME_RATE},this.gl=function(t){_.ol();var i=_.$a-1;_.R.info("postHeartbeat(): Send HB["+i+"]"+_.tc());_.Yf.Il(t,function(t,n){_.wl(t,n,i)})},this.wl=function(e,s,o){_.wf||_.N.F("onHeartbeatResponse",function(){var t,n,i;e?s?(_.R.debug("onHeartbeatResponse(): received valid response for HB["+o+"]"),_.ul(o),(i=s[g.Vr])&&i!==(t=_.Jf.get(C.H))&&(_.R.debug("onHeartbeatResponse(): setting the client id to "+i+" (from gateway)"),_.Jf.set(C.H,i),_.Jf.Cl(),t===g.B)&&i!==g.B&&(_._e.k(),_.yf)&&(_.R.debug("Send enqueued urgent hb as client id is available"),_.Dc()),(t=s[g.Ur])&&t!==g.Lr&&_.R.error("onHeartbeatResponse(): error from gateway: "+t),"object"===typeof(i=s[g.kr])&&((t=i[g.Hr])>=0&&_.Jf.get(C.al)!==t&&(_.R.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+t+" (from gateway)"),_.Jf.set(C.al,t)),n=i[g.Br],(n=!!y.ee(n)&&n)!==_.Jf.get(C.vl)&&(_.R.debug("onHeartbeatResponse(): turning "+(n?"on":"off")+" sending of logs"),_.Jf.set(C.vl,n)),n=i[g.Gr],y.It(n)&&((n=y.Nl.Cast(n))!==_.ki.heartbeatInterval&&(_.R.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),_.ki.heartbeatInterval=n,_.Qa)&&_.vc(),_.Jf.get(C.At)!==n)&&(_.R.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+t+" (from gateway)"),_.Jf.set(C.At,n),_.Jf.Cl(),_.Jf.yl()),(n=i[g.Kr])&&n!==_.ki.gatewayUrl&&(_.R.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),_.ki.gatewayUrl=n),_.ml()||(_.Mf={},(n=i[g.Wr])&&(_.Lf||(_.Lf=!0),_.R.debug("onHeartbeatResponse(): received fp from gateway: "+n),_.Mf=n.split(",")),_.jf=i[g.Yr],y.ee(_.jf)&&(_.jf?(_.R.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),_.Bf||_.Ec()):_.ac())),n=i[g.jr],y.ee(n)?_.Jf.get(C.dc)!==n&&(_.R.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+t+" (from gateway)"),_.Jf.set(C.dc,n),_.Jf.Cl(),_.Jf.yl()):_.Jf.get(C.dc)!==g.Nr&&(_.Jf.set(C.dc,g.Nr),_.Jf.Cl(),_.Jf.yl()))):_.R.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(y.Pt(i=s)?y.Dl(i,"HTTP timeout")?_.R.warning("onHeartbeatResponse(): "+i):_.R.error("onHeartbeatResponse(): failed to send heartbeat: "+i):(i=tt.bl,_.R.error("onHeartbeatResponse(): "+i)),_.rl(o,i))})},this.Ms=function(){return y.Nl.Cast(_.Xf.current()-_.Ps)},this.nl=function(){return this.xf.Jc()},this.tc=function(){return this.Hs()?" (global session)":""},this.Hs=function(){return this.zf===w.Nt.Ih},this.ml=function(){return this.zf===w.Nt.Ih&&"T"===this.uf["c3.IPV4IPV6GlobalSession"]},this.ys=function(){return this.zf===w.Nt.gt},this.$f=function(){return this.zf===w.Nt.bt},this.Lt=function(t){_.Pl(t),_.ec()},this.Pl=function(t){var n={},i={};if(y.Pt(t.assetName)&&!_.bs.Ml&&(_.yt.assetName!==t.assetName?(_.yt.assetName&&(n[g.ru]=_.yt.assetName),i[g.ru]=t.assetName,_.yt.assetName=t.assetName):_.R.warning("mergeContentMetadata(): assetName was not changed.")),y.Pt(t.applicationName)&&(_.yt.applicationName!==t.applicationName?(_.yt.applicationName&&(n[g.uu]=_.yt.applicationName),i[g.uu]=t.applicationName,_.yt.applicationName=t.applicationName):_.R.warning("mergeContentMetadata(): applicationName was not changed.")),y.Pt(t.streamUrl)&&!_.bs.Ll&&(_.yt.streamUrl!==t.streamUrl?(_.yt.streamUrl&&(n[g.gu]=_.yt.streamUrl),i[g.gu]=t.streamUrl,_.yt.streamUrl=t.streamUrl,_.gn=_.yt.streamUrl):_.R.warning("mergeContentMetadata(): streamUrl was not changed.")),y.Pt(t.viewerId)&&(_.yt.viewerId!==t.viewerId?(_.yt.viewerId&&(n[g.ou]=_.yt.viewerId),i[g.ou]=t.viewerId,_.yt.viewerId=t.viewerId):_.R.warning("mergeContentMetadata(): viewerId was not changed.")),y.Pt(t.defaultResource)&&!_.bs.Ul&&(_.yt.defaultResource!==t.defaultResource?(_.yt.defaultResource&&(n[g.Tu]=_.yt.defaultResource),i[g.Tu]=t.defaultResource,_.yt.defaultResource=t.defaultResource):_.R.warning("mergeContentMetadata(): defaultResource was not changed.")),y.It(t.duration)&&t.duration>0&&!_.bs.Vl&&(_.yt.duration!==t.duration?(_.Us>0&&(n[g.Eu]=_.Us),i[g.Eu]=t.duration,_.yt.duration=t.duration,_.Us=_.yt.duration):_.R.warning("mergeContentMetadata(): duration was not changed.")),y.It(t.encodedFrameRate)&&t.encodedFrameRate>0&&!_.bs.kl&&(_.yt.encodedFrameRate!==t.encodedFrameRate?(_.yt.encodedFrameRate>-1&&(n[g._u]=_.yt.encodedFrameRate),i[g._u]=t.encodedFrameRate,_.yt.encodedFrameRate=t.encodedFrameRate,_.Cn=_.yt.encodedFrameRate):_.R.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(_.yt.streamType!==t.streamType?(_.yt.streamType!==c.StreamType.UNKNOWN&&(_.yt.streamType===c.StreamType.LIVE?n[g.Zr]=!0:n[g.Zr]=!1),t.streamType===c.StreamType.LIVE?i[g.Zr]=!0:i[g.Zr]=!1,_.yt.streamType=t.streamType):_.R.warning("mergeContentMetadata(): streamType was not changed.")),y.Gt(t.custom)>0){var e,s={},o={};for(e in t.custom)_.yt.custom[e]!==t.custom[e]?(s[e]=t.custom[e],_.yt.custom[e]&&(o[e]=_.yt.custom[e]),_.yt.custom[e]=t.custom[e]):_.R.info("mergeContentMetadata(): custom."+e+" was not changed.");y.Gt(s)>0?(y.Gt(o)>0&&(n[g.hu]=o),i[g.hu]=s):_.R.warning("mergeContentMetadata(): custom was not changed.")}y.Gt(i)>0&&this.Tc(i,n)},this.ec=function(){var t;_.R.debug("setStatesFromContentMetadata()"),_.yt.defaultResource&&this.ha(_.yt.defaultResource),_.yt.streamUrl&&this.Pa(_.yt.streamUrl),_.yt.duration>0&&this.oa(_.yt.duration),_.yt.encodedFrameRate>0&&this.aa(_.yt.encodedFrameRate),_.yt.streamType!==c.StreamType.UNKNOWN&&(t=_.yt.streamType===c.StreamType.LIVE,this.Hh(t)),_.yt.assetName&&this.Jh(_.yt.assetName),_.yt.viewerId&&this.Xh(_.yt.viewerId),(_.yt.applicationName||_.yt.playerName)&&this.Qh(_.yt.applicationName||_.yt.playerName),y.Gt(_.yt.custom)>0&&this.Zh(_.yt.custom)},this.sc=function(){var t={};if(this.Hs()||(_.yt.assetName?t[g.ru]=_.yt.assetName:_.R.warning("enqueueEventForContentMetadata(): assetName was not set."),_.yt.applicationName?t[g.uu]=_.yt.applicationName:_.R.warning("enqueueEventForContentMetadata(): applicationName was not set."),_.yt.streamUrl?t[g.gu]=_.yt.streamUrl:_.R.warning("enqueueEventForContentMetadata(): streamUrl was not set."),_.yt.viewerId?t[g.ou]=_.yt.viewerId:_.R.warning("enqueueEventForContentMetadata(): viewerId was not set."),_.yt.defaultResource?t[g.Tu]=_.yt.defaultResource:_.R.warning("enqueueEventForContentMetadata(): defaultResource was not set."),_.yt.duration>-1?t[g.Eu]=_.yt.duration:_.R.warning("enqueueEventForContentMetadata(): duration was not set."),_.yt.encodedFrameRate>-1?t[g._u]=_.yt.encodedFrameRate:_.R.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),_.yt.streamType!==c.StreamType.UNKNOWN?_.yt.streamType===c.StreamType.LIVE?t[g.Zr]=!0:t[g.Zr]=!1:_.R.warning("enqueueEventForContentMetadata(): streamType was not set.")),y.Gt(_.yt.custom)>0)for(var n in t[g.hu]={},_.yt.custom)t[g.hu][n]=_.yt.custom[n];else this.Hs()||_.R.warning("enqueueEventForContentMetadata(): custom tags were not set.");y.Gt(t)>0&&this.Tc(t,null)},this.rc=function(){_.yt&&y.Pt(_.yt.assetName)||_.R.warning("Missing assetName during session creation"),_.yt&&y.Pt(_.yt.defaultResource)||_.R.warning("Missing resource during session creation"),_.yt&&y.Pt(_.yt.streamUrl)||_.R.warning("Missing streamUrl during session creation"),(!_.yt||_.yt.encodedFrameRate<=0)&&_.R.warning("Missing encodedFrameRate during session creation"),_.yt&&y.Pt(_.yt.viewerId)||_.R.warning("Missing viewerId during session creation"),_.yt&&_.yt.streamType&&c.StreamType.UNKNOWN!==_.yt.streamType||_.R.warning("Missing streamType during session creation"),_.yt&&y.Pt(_.yt.applicationName)||_.R.warning("Missing applicationName during session creation"),(!_.yt||_.yt.duration<=0)&&_.R.warning("Missing duration during session creation")},this.zt=function(t,n){_.gf||(_.gf={}),_.gf[t]=n},this.oc=function(){var t={};_._e&&_._e.L&&(t[g.yu]=_._e.L,_.L=_._e.L),_._e&&_._e.U&&(t[g.mu]=_._e.U,_.U=_._e.U),y.Gt(t)>0&&this.Tc(t,null)},this.Dc=function(){var t;_.Cf||((t=_.Jf.get(C.H))&&t!==g.B&&""!==t&&"null"!==t?(_.yf=!1,t=D.Fl(_.Za,_.za),_.vc(),setTimeout(function(){try{_&&(_.cc(),_.vc())}catch(t){}},t)):(_.R.debug("Delay sending of urgent hb due to missing client id"),_.yf=!0))}}).Ja=g.Nh.gt+g.Nh.wh+g.Nh.Ch,w.Nt={gt:"Video",Ih:"Global",bt:"Ad"},(tt=L.Session=function(){var e=this;e.Ve=null,e.C=0,e.zf=w.Nt.gt,e.Hl=!1,e.wf=!1,e.Bl=!1,e.Gl=null,e.Re=null,e.jl=null,e.Kl=!1,e.Wl=u.PlayerState.NOT_MONITORED,e.xl=!1,e.Yl=!1,e.ql=!1,e.kl=!1,e.Xl=!1,e.Bc=!1,e.jc=!1,e.Fc=!1,e.Ml=!1,e.Ll=!1,e.Jl=!1,e.Vl=!1,e.Ul=!1,e.Ql=!1,function(t,n,i,e,s,o,r){this.C=t,this.zf=n,this.Jf=i,this.Zl=e,this.Ct=s,this.N=o,this.R=r}.apply(e,arguments),this.Zf=function(t,n){e.Ct.Zf(this),t&&e.kt(t),e.Jf.zl()?e.$l(n):e.Jf.td(function(){e.$l(n)})},this.cleanup=function(){e.Hl=!0,e.Ct.nc(),e.Jf.zl()?e.nd():e.Jf.td(function(){e.nd()})},this.ed=function(){(e.ys()||e.$f())&&e.Ve&&e.sd(),e.N=null,e._e=null,e.Jf=null,e.Zl=null,e.Ct.St(),e.Ct=null,e.wf=!0},this.nd=function(){e.Ct.uc(),e.ed()},this.$l=function(t){e.Ct.ic(),e.od(),t?(e.Mt(t.sr(),t.rr()),e.Ct.Qe(u.PlayerState.STOPPED),e.Ct.uc(),e.ed()):e.Ct.lc()},this.od=function(){var t=e.Zl.get(),n=t[M.BROWSER_NAME],n=(n&&e.Ct.va(n),t[M.BROWSER_VERSION]),n=(n&&e.Ct.Ea(n),t[M.DEVICE_BRAND]),n=(n&&e.Ct._a(n),t[M.DEVICE_MANUFACTURER]),n=(n&&e.Ct.pa(n),t[M.DEVICE_MODEL]),n=(n&&e.Ct.Ra(n),t[M.DEVICE_TYPE]),n=(n&&e.Ct.Aa(n),t[M.DEVICE_VERSION]),n=(n&&e.Ct.Ta(n),t[M.FRAMEWORK_NAME]),n=(n&&e.Ct.Sa(n),t[M.FRAMEWORK_VERSION]),n=(n&&e.Ct.Oa(n),t[M.OPERATING_SYSTEM_NAME]),n=(n&&e.Ct.ga(n),t[M.OPERATING_SYSTEM_VERSION]),n=(n&&e.Ct.Na(n),t[M.DEVICE_CATEGORY]),n=(n&&e.Ct.Ia(n),t[M.SCREEN_WIDTH]),n=(n&&e.Ct.wa(n),t[M.SCREEN_HEIGHT]),n=(n&&e.Ct.Ca(n),t[M.SCALE_FACTOR]);n&&e.Ct.ya(n)},this._i=function(t){e.Ct.Pn===t||(e.Ct.Pn===u.PlayerState.NOT_MONITORED&&t!==u.PlayerState.NOT_MONITORED&&(e.Wl=t),e.Kl)||e.Ct.Qe(t)},this.pi=function(t){e.xl||e.Ct.Sc(t)},this.Ri=function(t){e.xl||e.Ct.gc(t)},this.wi=function(t){e.Yl||e.Ct.ma(t)},this.Ci=function(t){e.Yl||e.Ct.mo(t)},this.Ai=function(t,n){!y.It(n)&&e.Ql&&(n=-1),e.Ct.il(t,n)},this.Xn=function(t){t>0&&(e.kl||e.Ct.aa(t))},this.Zn=function(t){t>0&&(e.Vl||e.Ct.oa(t))},this.zn=function(t){e.Ct.Pa(t)},this.Ti=function(t){e.Ct.bc(t)},this.Si=function(t){e.Ct.Mc(t)},this.nt=function(t){e.Ct.Ua(t)},this.et=function(t){e.Ct.Va(t)},this.ii=function(t){e.Ct.ks()||e.Ct.Sa(t)},this.si=function(t){e.Ct.Fs()||e.Ct.Oa(t)},this.gi=function(t){e.Ct.Ba(t)},this.ri=function(t){e.Ct.Ya(t)},this.hi=function(t){e.Ct.qa(t)},this.fi=function(t){e.Ct.Xa(t)},this.Oi=function(t,n){e.Mt(t,n)},this.Yn=function(){e.sd()},this.xt=function(t,n,i){e.Bl||(e.Bl=!0,e.Gl=t,e.Re=n,e.jl=i,e.Ct.Wc(!0),e.Gl===a.AdStream.CONTENT||e.Re===a.AdPlayer.SEPARATE?(e.Ct.Pn!==u.PlayerState.NOT_MONITORED&&(e.Wl=e.Ct.Pn),e.Ct.Qe(u.PlayerState.NOT_MONITORED),e.Kl=!0):e.Gl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.Ct.Pn!==u.PlayerState.NOT_MONITORED&&(e.Wl=e.Ct.Pn),e.Ct.Qe(u.PlayerState.NOT_MONITORED),e.Kl=!0,e.xl=!0,e.Yl=!0,e.kl=!0,e.ql=!0,e.Bc=!0,e.jc=!0,e.Fc=!0,e.Ml=!0,e.Ll=!0,e.Jl=!0,e.Vl=!0,e.Ul=!0,e.Ql=!0))},this.Yt=function(){e.Bl&&(e.Ct.Wc(!1),e.Gl===a.AdStream.CONTENT||e.Re===a.AdPlayer.SEPARATE?e.rd||(e.Kl=!1,e.Ct.Qe(e.Wl)):e.Gl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.xl=!1,e.Yl=!1,e.kl=!1,e.ql=!1,e.Xl=!1,e.rd||(e.Kl=!1,e.Ct.Qe(e.Wl)),e.Bc=!1,e.jc=!1,e.Fc=!1,e.Ml=!1,e.Ll=!1,e.Jl=!1,e.Vl=!1,e.Ul=!1,e.Ql=!1),e.Bl=!1,e.Gl=e.Re=e.jl=null)},this.Ut=function(){e.Ve&&(e.N.F("Session.detachPlayer",function(){e.Ve.qn()}),e.Ve=null,e.Ct.zc(null),e.Ct.Qe(u.PlayerState.NOT_MONITORED))},this.sd=function(){e.Ve&&(e.N.F("Session.releasePlayerStateManager",function(){e.Ve.qn()}),e.Ve=null,e.Ct.zc(null),e.Ct.Qe(u.PlayerState.NOT_MONITORED))},this.Vt=function(){e.Ct.Wc(!0),e.Ct.Pn!==u.PlayerState.NOT_MONITORED&&(e.Wl=e.Ct.Pn),e.Ct.Qe(u.PlayerState.NOT_MONITORED),e.Kl=!0},this.kt=function(t){e.Ve||t instanceof u&&e.N.F("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.C)&&(t.ci(),e.Ve=t,e.Ct.zc(e.Ve))})},this.Ft=function(){e.Ct.Wc(!1),e.xl=!1,e.Yl=!1,e.ud=!1,e.ql=!1,e.Xl=!1,e.Bc=!1,e.jc=!1,e.Fc=!1,e.Ml=!1,e.Ll=!1,e.Jl=!1,e.Vl=!1,e.Ul=!1,e.Ql=!1,e.rd||(e.Kl=!1,e.Wl!==u.PlayerState.NOT_MONITORED&&e.Ct.Qe(e.Wl))},this.Xt=function(){return e.Ve},this.Ht=function(){e.rd||(e.rd=!0,e.Kl=!0)},this.Bt=function(){e.rd&&(e.rd=!1,e.Bl||(e.Kl=!1,e.Wl!==u.PlayerState.NOT_MONITORED&&e.Ct.Qe(e.Wl)))},this.Mt=function(t,n){!y.Pt(t)||n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.Xl||(n=n===a.ErrorSeverity.FATAL,e.Ct.Yc(t,n))},this.Lt=function(t){e.N.F("Session.updateContentMetadata",function(){e.Ct.Lt(t)})},this.Wt=function(t,n){e.Ct.el(t,n)},this.Hs=function(){return e.zf===w.Nt.Ih},this.ys=function(){return e.zf===w.Nt.gt},this.$f=function(){return e.zf===w.Nt.bt},this.tc=function(){return e.Hs()?" (global session)":""},this.Qt=function(){return this.C},this.Zt=function(){var t=null;return t=e.Jf.zl()?e.Jf.get(C.H):t},this.zt=function(t,n){e.Ct.zt(t,n)}}).bl="received no response (or a bad response) to heartbeat POST request",nt=L.SessionFactory=function(){var o=this;o.Hi=null,o.hd=0,o.ad=null,function(t,n,i,e){o._e=t,o.ki=n,o.Jf=i,o.T=e,o.hd=0,o.ad={}}.apply(o,arguments),this.St=function(){for(var t in o.Hi=null,o.ad)o.ad[t].cleanup();o.ad=null,o.hd=0},this.fd=function(){var t=o.hd;return o.hd++,t},this.Ot=function(t,n,i,e,s){return t||(t=new c),o.ld(t,n,i,e,s)},this.Y=function(t){return o.ld(t,w.Nt.Ih,void 0,N.version)},this.dd=function(){return D.vd()},this.ld=function(t,n,i,e,s){n=o.T.zi(o._e,o.ki,o.Jf,o.dd(),n,t.ct(),e),t=o.fd();return"undefined"!==typeof s&&"undefined"!==typeof s.error?n.Zf(i,s.error):(o.Ed(t,n),n.Zf(i)),t},this.Kt=function(t){t=o.ad[t];return t},this.wt=function(t){t=this.Kt(t);return t=!t||t.ys()||t.$f()?t:null},this.Ed=function(t,n){o.ad[t]=n},this._d=function(t){delete o.ad[t]},this.qt=function(t){var n=o.Kt(t);o._d(t),n.cleanup()},this.tt=function(){return o.ad}},it=L.pd=function(t){this.pe=t,this.Rd=function(i,t,n){var e=!1;this.pe.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},(C=L.Config=function(t,n,i){var e=this;this.Td=n,this.Sd=i,this.Od={clientId:g.B,iid:g.gr,sendLogs:!1,maxHbInfos:g.wr,ad_shb:g.Nr},this.I=y.Tl(this.Od),this.gd=!1,this.Nd=!1,this.Id=[],this.zl=function(){return this.gd},this.Et=function(){this.Td.Et(C.wd,function(t,n){t&&(e.I[C.wd]=e.Sd.bh(n),e.Cd(n))}),this.Td.Et(C.Ad,function(t,n){t&&(e.I[C.Ad]=e.Sd.bh(n),e.yd(n)),e.gd=!0,e.md()})},this.yd=function(t){var n,i,t=this.Sd.bh(t),e=!1;t?t&&(n=t[C.Dd],i=t[C._t],n&&n!==g.B&&""!==n&&"null"!==n?this.I[C.H]=n:(this.I[C.H]=this.bd(),this.Cl()),i!==g.gr&&""!==i&&"null"!==i&&(this.I[C._t]=i),(n=t[C.dc])&&n!==g.Nr&&""!==n&&"null"!==n?this.I[C.dc]=n:"undefined"!==typeof this.I[C.dc]&&(e=!0),(i=t[C.At])&&""!==i&&"null"!==i?this.I[C.At]=i:"undefined"!==typeof this.I[C.At]&&(e=!0),e)&&this.Cl():(this.I[C.H]=this.bd(),this.Cl(),this.Nd=!0)},this.Cd=function(t){var n,t=this.Sd.bh(t);t&&((n=t[C.dc])&&n!==g.Nr&&""!==n&&"null"!==n&&(this.I[C.dc]=n),n=t[C.At])&&""!==n&&"null"!==n&&(this.I[C.At]=n)},this.Pd=function(){var t=e.I[C.Ad]||{};return t[C.Dd]=this.I.clientId,"undefined"!==typeof this.I[C.dc]?t[C.dc]=this.I[C.dc]:t[C.dc]=g.Nr,"undefined"!==typeof this.I[C.At]&&(t[C.At]=this.I[C.At]),this.Sd.Dh(t)},this.Cl=function(){this.Td.Cl(C.Ad,this.Pd(),function(t,n){})},this.yl=function(){var t=e.I[C.wd]||{};"undefined"!==typeof this.I[C.dc]?t[C.dc]=this.I[C.dc]:t[C.dc]=g.Nr,"undefined"!==typeof this.I[C.At]&&(t[C.At]=this.I[C.At]),this.Td.Cl(C.wd,this.Sd.Dh(t),function(t,n){})},this.td=function(t){this.zl()?t():this.Id.push(t)},this.get=function(t){return this.gd?this.I[t]:null},this.set=function(t,n){this.gd&&(this.I[t]=n)},this.md=function(){for(var t;"undefined"!==typeof(t=this.Id.shift());)t()},this.getClientId=function(){return this.I.clientId},this.bd=function(){try{var t=2147483647;return Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()}catch(t){this.R.debug("error caught in _generateClid()")}return"0"},this.getIid=function(){return this.I.iid}}).Ad="sdkConfig",C.wd="sdkAdConfig",C.Dd="clId",C._t="iid",C.dc=g.jr,C.At="hbi",C.H="clientId",C.vl="sendLogs",C.al="maxHbInfos",C.pl="c3.fp.",C.tn={Rl:"0",Md:"1",nn:"2",$t:"3",Al:"4",sn:"5",en:"6"},et=L.EventQueue=function(){this.Ld=[],this.Ud=0,this.Zc=function(t){this.Ld.push(t)},this.Jc=function(){var t=this.Ud;return this.Ud++,t},this.Qf=function(){var t=this.Ld;return this.Ld=[],t}},st=L.ExceptionCatcher=function(t,n,i){this.Vd=n,this.g=i,this.F=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.g.allowUncaughtExceptions)throw t;this.kd(n,t)}}},this.kd=function(t,n){t="Uncaught exception: "+t+": "+n.toString();if(this.Vd)try{this.Vd.Il(t)}catch(t){}}},ot=L.GatewayControl=function(t,n,i,e,s){var o=this;this.ki=t,this.Fd=i,this.Sd=e,this.Hd=s,this.Il=function(t,e){var n=(this.Hd?this.Hd.indexOf("ipv4")>-1?this.ki.G:this.ki.q:this.ki.gatewayUrl)+g.Or;this.Fd.Bd("POST",n,this.Sd.Dh(t),"application/json",function(t,n){var i;t?(i=o.Sd.bh(n),e(t,i)):e(t,n)})}},y=L.Lang={Gd:function(t){return y.Pt(t)&&t&&"undefined"!==t&&"null"!==t},jt:function(t){var n,i,e={};for(n in t)y.Gd(n)&&(i=t[n],y.Gd(i))&&(e[n]=i);return e},Jn:function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.")},Gt:function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},Dt:function(t){return""+t},jd:function(t){return Math.floor(t)},ln:function(t){return Math.abs(y.jd(t))},Kd:function(t){return Boolean(t)},Pt:function(t){return"string"===typeof t&&""!==t},Dl:function(t,n){return"string"===typeof t&&"string"===typeof n&&"function"===typeof t.indexOf&&0===t.indexOf(n)},ee:function(t){return"boolean"===typeof t},Wd:function(t){return escape(t)},Ph:function(t){return"object"===typeof t},yc:function(t){var n,i="";for(n in t)i+=n+"="+t[n];return"Object{"+i+"}"},xd:function(t){var n,i=y.Tl(t);for(n in i)i[n]||delete i[n];return i},Tl:function(t){var n,i={};for(n in t)i[n]=t[n];return i},Cc:function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(y.Gt(t)!==y.Gt(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},Ho:function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=arguments[n][i]);return t},It:function(t){return"number"===typeof t&&Math.round(t)===t},Yd:function(t){return"[object Array]"===Object.prototype.toString.call(t)},qd:function(t,n){if(t!==n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(y.Yd(t[i])&&y.Yd(n[i])){if(!y.qd(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1}return!0},Xd:function(){return"undefined"!==typeof Object.defineProperty&&(()=>{try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}})()},un:function(t,n,i){if(y.Xd())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},hn:function(t,n,i){if(y.Xd())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,i)}}},(T={two32:4294967296}).Jd=T.two32-1,T.Qd=0,y.Zd=T,y.Zd.Cast=function(t){t=parseInt(t,10);return t>T.Jd?t=t%T.two32:t<T.Qd&&(t=T.two32-(t=-t%T.two32)),t},y.Zd.zd=function(t){t=parseInt(t,10);return t<=T.Jd&&t>=T.Qd},S={Jd:2147483647,Qd:-2147483648},y.Nl=S,y.Nl.Cast=function(t){t=parseInt(t,10);return t>S.Jd?t=t%S.Jd:t<S.Qd&&(t=S.Jd-(t=-t%S.Jd)),t},y.Nl.zd=function(t){t=parseInt(t,10);return t<=S.Jd&&t>=S.Qd},y.er=function(){return"undefined"!==typeof window&&window&&window.location&&window.location.search?window.location.search:""},y.$d=function(){return document&&document.referrer?document.referrer:""},rt=L.LogBuffer=function(){this.tv=[],this.vr=function(t){this.tv.length>=32&&this.tv.shift(),this.tv.push(t)},this.Qf=function(){var t=this.tv;return this.tv=[],t}},(m=L.Ping=function(t,n,i,e){this.iv=!1,this.ev=null,this.R=t,this.R.setModuleName("Ping"),this.Fd=n,this.ki=i,this.Fi=e,this.Il=function(t){this.iv||(this.iv=!0,t=this.sv()+"&d="+y.Wd(t.toString()),this.R.error("send(): "+t),this.Fd.Bd("GET",t,null,null,null),this.iv=!1)},this.sv=function(){if(!this.ev){var t=m.ov+"?comp="+m.nv+"&clv="+(this.Fi||a.version);if(this.ki&&(t+="&cid="+this.ki.customerKey),t+="&sch="+g.Dr,!this.ki)return t;this.ev=t}return this.ev}}).nv="sdkjs",m.ov="https://pings.conviva.com/ping.ping",D=L.rv={uv:4294967295,hv:2147483647,av:-2147483648,vd:function(){return Math.floor(Math.random()*D.uv)+D.av},Rt:function(){return Math.floor(Math.random()*D.uv)},Fl:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}},b=L.fv={Qc:function(t,n,i,e){return isNaN(t)||"number"!==typeof t||t===e?e:(e=y.jd(t),b.cv(e,n,i))},cv:function(t,n,i){return y.It(i)&&t>i?t=i:y.It(n)&&t<n&&(t=n),t},wn:function(t){return t=-1!==t&&-2!==t?b.Qc(t,0,null,-1):t}},P=L.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.sr=function(){return i.errorCode},this.rr=function(){return i.severity}},ut=L.HttpClient=function(t,n,i,e){this.bi=n,this.dv=i,this.g=e,this.Bd=function(t,n,i,e,s){var o=1e3*this.g.httpTimeout,r=null;s&&(r=this.dv.Rd(s,o,"HTTP timeout")),this.bi.makeRequest(t,n,i,e,o,r)}},(ht=L.Logger=function(t,n,i,e,s){this.Li=t,this.mi=n,this.O=i,this.Hi=e,this.Vi=s,this.debug=function(t){this.log(t,h.LogLevel.DEBUG)},this.info=function(t){this.log(t,h.LogLevel.INFO)},this.warning=function(t){this.log(t,h.LogLevel.WARNING)},this.error=function(t){this.log(t,h.LogLevel.ERROR)},this.log=function(t,n){t=this.Ev(t,n);this.Hi.vr(t),this.O.logLevel<=n&&this.Li.consoleLog(t,n)},this._v=function(t){return"["+this.kn+"] "+t},this.pv=function(t){return"["+this.Vi+"] "+t},this.Rv=function(t){return"[Conviva] "+t},this.Av=function(t){return"["+(this.mi.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+t},this.Tv=function(t,n){return"["+ht.vv(n)+"] "+t},this.Sv=function(t){return t=this.Ov?"sid="+this.Ov+" "+t:t},this.Yh=function(t){this.Ov=t},this.setModuleName=function(t){this.kn=t},this.Ev=function(t,n){return this.Rv(this.Av(this.Tv(this.pv(this._v(this.Sv(t))),n)))}}).vv=function(t){var n;switch(t){case h.LogLevel.ERROR:n="ERROR";break;case h.LogLevel.WARNING:n="WARNING";break;case h.LogLevel.INFO:n="INFO";break;case h.LogLevel.DEBUG:n="DEBUG"}return n},L.Storage=function(t,n,i,e){this.Pi=n,this.dv=i,this.g=e,this.Et=function(t,n){n=this.dv.Rd(n,1e3*this.g.storageTimeout,"storage load timeout");this.Pi.loadData(L.Storage.gv,t,n)},this.Cl=function(t,n,i){i=this.dv.Rd(i,1e3*this.g.storageTimeout,"storage save timeout");this.Pi.saveData(L.Storage.gv,t,n,i)}},L.Storage.gv="Conviva",(M=L.SystemMetadata=function(t,n,i){this.Mi=n,this.N=i,this.Nv=null,this.get=function(){return this.Nv||this.retrieve(),this.Nv},this.retrieve=function(){var t,n={},e=(n[M.BROWSER_NAME]=this.Mi.getBrowserName,n[M.BROWSER_VERSION]=this.Mi.getBrowserVersion,n[M.DEVICE_BRAND]=this.Mi.getDeviceBrand,n[M.DEVICE_MANUFACTURER]=this.Mi.getDeviceManufacturer,n[M.DEVICE_MODEL]=this.Mi.getDeviceModel,n[M.DEVICE_TYPE]=this.Mi.getDeviceType,n[M.DEVICE_VERSION]=this.Mi.getDeviceVersion,n[M.FRAMEWORK_NAME]=this.Mi.getFrameworkName,n[M.FRAMEWORK_VERSION]=this.Mi.getFrameworkVersion,n[M.OPERATING_SYSTEM_NAME]=this.Mi.getOperatingSystemName,n[M.OPERATING_SYSTEM_VERSION]=this.Mi.getOperatingSystemVersion,n[M.DEVICE_CATEGORY]=this.Mi.getDeviceCategory,n[M.SCREEN_WIDTH]=this.Mi.getScreenWidth,n[M.SCREEN_HEIGHT]=this.Mi.getScreenHeight,n[M.SCALE_FACTOR]=this.Mi.getScaleFactor,this);for(t in n)((n,i)=>{e.N.F("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.Mi)})})(t,n),y.Pt(n[t])||delete n[t];var i=!1;if("undefined"!==typeof n[M.DEVICE_TYPE]){for(var s in a.DeviceType)if(n[M.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete n[M.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof n[M.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(n[M.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete n[M.DEVICE_CATEGORY]}this.Nv=y.xd(n)}}).BROWSER_NAME="browserName",M.BROWSER_VERSION="browserVersion",M.DEVICE_BRAND="deviceBrand",M.DEVICE_MANUFACTURER="deviceManufacturer",M.DEVICE_MODEL="deviceModel",M.DEVICE_TYPE="deviceType",M.DEVICE_VERSION="deviceVersion",M.FRAMEWORK_NAME="frameworkName",M.FRAMEWORK_VERSION="frameworkVersion",M.OPERATING_SYSTEM_NAME="operatingSystemName",M.OPERATING_SYSTEM_VERSION="operatingSystemVersion",M.DEVICE_CATEGORY="deviceCategory",M.SCREEN_WIDTH="screenWidth",M.SCREEN_HEIGHT="screenHeight",M.SCALE_FACTOR="scaleFactor",at=L.Time=function(t,n){this.mi=t,this.R=n,this.current=function(){var t=this.mi.getEpochTimeMs();return y.It(t),t}},ft=L.Timer=function(t,n,i){var s=this;this.Di=n,this.N=i,this.create=function(t,n,i){return this.createTimer(function(){s.N.F(i,function(){t()})},n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.N.F(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.Di.createTimer(t,n,i)}},U});