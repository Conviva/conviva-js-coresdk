/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */
!function(t,n){"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"===typeof t||!t||t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading)}(this,function(){var ct={};return function(){"use strict";var n,s,V,k,o,r,F,e,u,T,a,f,c,A,B,H,j,G,K,W,x,Y,h,i,l,q,S,J,v,d,E,_,R,X,p,O,N,w,g,I,Q,Z,C,z,$,tt,y,nt,it,et,m,st,D,P,b,M,ot,rt,L,ut,ht,U={};function at(){var t,n="";for("-"===s&&r(n="-");s>="0"&&s<="9";)n+=s,r();if("."===s)for(n+=".";r()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,r(),"-"!==s&&"+"!==s||(n+=s,r());s>="0"&&s<="9";)n+=s,r();if(t=+n,!isNaN(t))return t;o("Bad number")}function t(t){return t<10?"0"+t:t}function ft(t){return E.lastIndex=0,E.test(t)?'"'+t.replace(E,function(t){var n=X[t];return"string"===typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}T=ct.Constants={version:"4.5.10",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement"},(a=ct.Client=function(){var h=this;this._=!1,this.version=a.version,this.R=null,this.p=null,this.T=null,this.A=-1,this.S=null,this.O=null,this.N=null,this.g=null,this.I=-1,this.C=!1,this.m={},this.D=function(){h.R},this.P={},this.M=null,this.L=null,this.U=null,this.V=function(){this.N.k("Client.makeIPV4IPV6GlobalSessions",function(){var t;h.g&&null!==(t=h.g.get(y.F))&&t!==I.B&&h.p&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.S.H.indexOf(f.j)>-1?f.j:f.G,h.K=h.p.W(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.S.Y.indexOf(f.q)>-1?f.q:f.J,h.X=h.p.W(t,null))})},this.Z=function(i){h.N.k("Client.updateConnectionType",function(){if(h.M=i,h.p){var t,n=h.p.$();for(t in n)n[t].tt(i)}})},this.nt=function(i){h.N.k("Client.updateLinkEncryption",function(){if(h.L=i,h.p){var t,n=h.p.$();for(t in n)n[t].it(i)}})},this.et=function(t){h.N.k("Client.updateSignalStrength",function(){h.U=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof Y))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.ot+f.rt&&t.gatewayUrl!==f.ut+f.rt||(this._=!0),e&&(this.version=e),this.S=t.ht(),this.T=n,this.T.ft("SDK",this.S,this.version),this.N=this.T.ct(this.version),this.N.k("Client.init",function(){if(h.g=h.T.lt(),h.g.vt(),h.I=h.g.get(y.dt),-1!==h.I&&void 0!==h.I&&null!==h.I||(h.I=P.Et()),h.p=h.T._t(h,h.S,h.g),i)for(var t in i)switch(t){case T.Network.CONNECTION_TYPE:h.Z(i[t]);break;case T.Network.LINK_ENCRYPTION:h.nt(i[t]);break;case T.Network.SIGNAL_STRENGTH:h.et(i[t])}h.V()},function(t){throw new Error("Client constructor failed: "+t.message)})}.apply(this,arguments),this.release=function(){this.C||this.N.k("Client.release",function(){h.R,h.p.Rt(),h.p=null,h.A=-1,h.I=-1,h.N=null,h.S=null,h.O=null,h.T=null,h.C=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.C||(!t||t instanceof c)&&this.N.k("Client.createSession",function(){e=h.p.Tt(t,C.St.At,n,(i?T:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.C||(!e||e instanceof c)&&this.N.k("Client.createAdSession",function(){var t,n;e||(e=new c),m.Ot(i)&&i!==a.NO_SESSION_KEY&&(t=h.p.Nt(i))&&(n=e.custom[T.APPLICATION_VERSION],t.wt&&t.wt.gt&&(!e.viewerId&&t.wt.gt.viewerId&&(e.viewerId=t.wt.gt.viewerId),!e.applicationName&&t.wt.gt.applicationName&&(e.applicationName=t.wt.gt.applicationName),e.streamType===T.StreamType.UNKNOWN&&t.wt.gt.streamType!==T.StreamType.UNKNOWN&&(e.streamType=t.wt.gt.streamType),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.wt.gt.custom[T.APPLICATION_VERSION])&&n&&(e.custom[T.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=m.It(t.I)),u=h.p.Tt(e,C.St.Ct,s,(o?T:h).version,r)}),u},this.reportError=function(n,i,e){this.C||!m.yt(i)||e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.N.k("Client.reportError",function(){var t=h.p.Nt(n);t&&t.Dt(i,e)})},this.updateContentMetadata=function(i,e){this.C||e instanceof c&&this.N.k("Client.updateContentMetadata",function(){var t,n=h.p.Nt(i);n&&(t=e.ht(),n.Pt(t))})},this.detachPlayer=function(n){this.C||this.N.k("Client.detachPlayer",function(){var t=h.p.Nt(n);t&&t.bt()})},this.Mt=function(n){this.C||this.N.k("Client.offFocus",function(){var t=h.p.Nt(n);t&&t.Mt()})},this.attachPlayer=function(n,i){this.C||i instanceof A&&this.N.k("Client.attachPlayer",function(){var t=h.p.Nt(n);t&&t.Lt(i)})},this.Ut=function(n){this.C||this.N.k("Client.onFocus",function(){var t=h.p.Nt(n);t&&t.Ut()})},this.contentPreload=function(n){this.C||this.N.k("Client.contentPreload",function(){var t=h.p.Nt(n);t&&t.Vt()})},this.contentStart=function(n){this.C||this.N.k("Client.contentStart",function(){var t=h.p.Nt(n);t&&t.kt()})},this.sendCustomEvent=function(i,e,s){this.C||m.yt(e)&&(m.Ft(s),this.N.k("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.A<0&&(t=new c,h.A=h.p.W(t,null)),i=h.A);var t=m.Bt(s),n=h.p.Ht(i);n&&n.jt(e,t)}))},this.adStart=function(n,i,e,s){this.C||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.N.k("Client.adStart",function(){var t=h.p.Nt(n);t&&t.Gt(i,e,s)}))},this.adEnd=function(n){this.C||this.N.k("Client.adEnd",function(){var t=h.p.Nt(n);t&&t.Kt()})},this.cleanupSession=function(t){this.C||t!==a.NO_SESSION_KEY&&this.N.k("Client.cleanupSession",function(){h.p.Nt(t)&&h.p.Wt(t)})},this.getAttachedPlayer=function(n){var i=null;return this.C||n!==a.NO_SESSION_KEY&&this.N.k("Client.getAttachedPlayer",function(){var t=h.p.Nt(n);t&&(i=t.xt())}),i},this.isPlayerAttached=function(t){return!this.C&&null!==this.getAttachedPlayer(t)},this.getPlayerStateManager=function(t){if(this.C)throw new Error("This instance of Conviva.Client has been released.");return new A(this.T,(t?T:h).version)},this.releasePlayerStateManager=function(t){if(this.C)throw new Error("This instance of Conviva.Client has been released.");this.N.k("Client.releasePlayerStateManager",function(){t instanceof A&&t.release()})},this.Yt=function(){return this.S},this.getId=function(){return this.I},this.getSessionId=function(n){var i;return this.C?T.NO_SESSION_KEY:(i=null,this.N.k("Client.getSessionId",function(){var t=h.p.Nt(n);t&&(i=t.qt())}),i)},this.getClientId=function(n){var i;return this.C?null:(i=null,this.N.k("Client.getClientId",function(){var t=h.p.Nt(n);t&&(i=t.Jt())}),i)},this.Xt=function(n,i,e){this.C||this.N.k("Client.updateCustomMetric",function(){var t=h.p.Nt(n);t&&t.Xt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.C)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)this.m[i]=t[i];n&&(this.D=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.C)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.P[i]=n?y.Zt.Qt:y.Zt.zt:this.P[i]=y.Zt.$t},this.setUserPreferenceForDataDeletion=function(t){if(this.C)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.P[n]=y.Zt.tn:this.P[n]=y.Zt.$t}}).version="4.5.10L",a.NO_SESSION_KEY=T.NO_SESSION_KEY,a.AdPosition={PREROLL:T.AdPosition.PREROLL,MIDROLL:T.AdPosition.MIDROLL,POSTROLL:T.AdPosition.POSTROLL},a.AdStream={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:T.ErrorSeverity.FATAL,WARNING:T.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:T.DeviceType.DESKTOP,CONSOLE:T.DeviceType.CONSOLE,SETTOP:T.DeviceType.SETTOP,MOBILE:T.DeviceType.MOBILE,TABLET:T.DeviceType.TABLET,SMARTTV:T.DeviceType.SMARTTV},a.AdTechnology={CLIENT_SIDE:T.AdType.CLIENT_SIDE,SERVER_SIDE:T.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:T.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:T.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:T.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:T.AdSlates.OTHER_SLATE,VPAID:T.AdSlates.VPAID,REGULAR:T.AdSlates.REGULAR},a.AdServingType={INLINE:T.AdServingType.INLINE,WRAPPER:T.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:T.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:T.DeviceCategory.APPLE_DEVICE,CHROMECAST:T.DeviceCategory.CHROMECAST,DESKTOP_APP:T.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:T.DeviceCategory.DEVICE_SIMULATOR,LG_TV:T.DeviceCategory.LG_TV,NINTENDO:T.DeviceCategory.NINTENDO,PLAYSTATION:T.DeviceCategory.PLAYSTATION,ROKU:T.DeviceCategory.ROKU,SAMSUNG_TV:T.DeviceCategory.SAMSUNG_TV,SMART_TV:T.DeviceCategory.SMART_TV,SET_TOP_BOX:T.DeviceCategory.SET_TOP_BOX,TIVO:T.DeviceCategory.TIVO,WEB:T.DeviceCategory.WEB,WINDOWS_DEVICE:T.DeviceCategory.WINDOWS_DEVICE,XBOX:T.DeviceCategory.XBOX,KAIOS_DEVICE:T.DeviceCategory.KAIOS_DEVICE},(f=ct.ClientSettings=function(){var e=this;this.en=null,m.sn(this,"customerKey",function(){return this.en}),m.on(this,"customerKey",function(t){m.yt(t)&&(this.en=t)}),this.rn=f.un,m.sn(this,"heartbeatInterval",function(){return this.rn}),m.on(this,"heartbeatInterval",function(t){var n;"number"===typeof t&&(n=m.hn(t))===t&&(this.rn=n)}),this.an=null,this.H=null,this.Y=null,m.sn(this,"gatewayUrl",function(){return this.an}),m.on(this,"gatewayUrl",function(t){var n;!m.yt(t)||"https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1===t.indexOf(".com",t.length-".com".length)||(this.an=t)}),function(t){if(!m.yt(t))throw new Error("customerKey must be valid");this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.ht=function(){var t=new f(this.customerKey);return t.gatewayUrl=function(t){if(m.yt(t)){var n,i=t.split("://");if("https"===i[0]||"http"===i[0])return i[1]!==f.rt&&-1!==i[1].indexOf(f.rt)?(n=i[1].split(f.rt),e.H="https://"+n[0]+f.j,e.Y="https://"+n[0]+f.q):i[1]!==f.fn&&-1!==i[1].indexOf("testonly.conviva.com")?(n=i[1].split("testonly.conviva.com"),e.H="https://"+n[0]+f.G,e.Y="https://"+n[0]+f.J):i[1]===f.fn?(e.H="https://"+e.customerKey+"."+f.G,e.Y="https://"+e.customerKey+"."+f.J):(e.H="https://"+e.customerKey+"."+f.j,e.Y="https://"+e.customerKey+"."+f.q,t="https://"+e.customerKey+"."+f.rt),t}return e.H="https://"+e.customerKey+"."+f.j,e.Y="https://"+e.customerKey+"."+f.q,"https://"+e.customerKey+"."+f.rt}(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.H=this.H,t.Y=this.Y,t}}).nn="https://conviva.testonly.conviva.com",f.cn="https://cws.conviva.com",f.rt="cws.conviva.com",f.j="ipv4.cws.conviva.com",f.q="ipv6.cws.conviva.com",f.fn="conviva.testonly.conviva.com",f.G="ipv4.testonly.conviva.com",f.J="ipv6.testonly.conviva.com",f.ot="https://",f.ut="http://",f.ln=5,f.un=20,(c=ct.ContentMetadata=function(){this.vn=null,m.sn(this,"assetName",function(){return this.vn}),m.on(this,"assetName",function(t){"string"===typeof t&&(this.vn=t)}),this.dn={},m.sn(this,"custom",function(){return this.dn}),m.on(this,"custom",function(t){"object"===typeof t&&(this.dn=m.Bt(t))}),this.En=null,m.sn(this,"defaultResource",function(){return this.En}),m.on(this,"defaultResource",function(t){"string"===typeof t&&(this.En=t)}),this._n=null,m.sn(this,"viewerId",function(){return this._n}),m.on(this,"viewerId",function(t){"string"===typeof t&&(this._n=t)}),this.Rn=null,m.sn(this,"applicationName",function(){return this.Rn}),m.on(this,"applicationName",function(t){"string"===typeof t&&(this.Rn=t)}),this.pn=null,m.sn(this,"streamUrl",function(){return this.pn}),m.on(this,"streamUrl",function(t){"string"===typeof t&&(this.pn=t)}),this.Tn=c.StreamType.UNKNOWN,m.sn(this,"streamType",function(){return this.Tn}),m.on(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.Tn=t)}),this.An=-1,m.sn(this,"duration",function(){return this.An}),m.on(this,"duration",function(t){this.An=b.Sn(t)}),this.On=-1,m.sn(this,"encodedFrameRate",function(){return this.On}),m.on(this,"encodedFrameRate",function(t){this.On=b.Sn(t)}),function(){}.apply(this,arguments),this.ht=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}}).StreamType={UNKNOWN:T.StreamType.UNKNOWN,LIVE:T.StreamType.LIVE,VOD:T.StreamType.VOD},ct.ErrorType={ERROR_UNKNOWN:T.ErrorType.ERROR_UNKNOWN,ERROR_IO:T.ErrorType.ERROR_IO,ERROR_TIMEOUT:T.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:T.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:T.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:T.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:T.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:T.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:T.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:T.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:T.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:T.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:T.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},ct.Events={AD_REQUESTED:T.Events.AD_REQUESTED,AD_RESPONSE:T.Events.AD_RESPONSE,AD_SLOT_STARTED:T.Events.AD_SLOT_STARTED,AD_ATTEMPTED:T.Events.AD_ATTEMPTED,AD_SLOT_ENDED:T.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:T.Events.AD_IMPRESSION_START,AD_START:T.Events.AD_START,AD_FIRST_QUARTILE:T.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:T.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:T.Events.AD_THIRD_QUARTILE,AD_COMPLETE:T.Events.AD_COMPLETE,AD_END:T.Events.AD_END,AD_IMPRESSION_END:T.Events.AD_IMPRESSION_END,AD_SKIPPED:T.Events.AD_SKIPPED,AD_ERROR:T.Events.AD_ERROR,AD_PROGRESS:T.Events.AD_PROGRESS,AD_CLOSE:T.Events.AD_CLOSE,CONTENT_PAUSED:T.Events.CONTENT_PAUSED,CONTENT_RESUMED:T.Events.CONTENT_RESUMED,POD_START:T.Events.POD_START,POD_END:T.Events.POD_END},(A=ct.PlayerStateManager=function(){var e=this;e.Nn=null,e.wn=-2,e.gn=A.PlayerState.UNKNOWN,e.In={},e.Cn=-2,e.On=-2,e.An=-2,e.yn=null,e.mn=null,e.pn=null,e.Dn=null,e.Pn=null,e.bn=-1,e.Mn=-1,e.M=null,e.L=null,e.Ln=null,e.Un=[],e.C=!1,this.release=function(){e.C||e.N.k("PlayerStateManager.release",function(){e.Nn&&e.Nn.Vn(),e.kn(),e.T=null,e.N=null,e.C=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.On},this.setEncodedFrameRate=function(n){e.C||e.N.k("PlayerStateManager.setEncodedFrameRate",function(){var t=b.Sn(n);t>=-1&&(e.On=t,e.Nn)&&e.Nn.Fn(e.On)})},this.getDuration=function(){return e.An},this.setClientMeasureInterface=function(t){m.Bn(t,new ct.ClientMeasureInterface,"ClientMeasureInterface"),this.Hn=t},this.getPHT=function(){return this.Hn&&"function"===typeof this.Hn.getPHT?this.Hn.getPHT():A.DEFAULT_PHT},this.getBufferLength=function(){return this.Hn&&"function"===typeof this.Hn.getBufferLength?this.Hn.getBufferLength():A.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Hn&&"function"===typeof this.Hn.getSignalStrength?this.Hn.getSignalStrength():A.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Hn&&"function"===typeof this.Hn.getRenderedFrameRate?this.Hn.getRenderedFrameRate():A.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.C||e.N.k("PlayerStateManager.setDuration",function(){var t=b.Sn(n);t>=-1&&(e.An=t,e.Nn)&&e.Nn.jn(e.An)})},this.getStreamUrl=function(){return e.pn},this.setStreamUrl=function(t){e.C||e.N.k("PlayerStateManager.setStreamUrl",function(){t&&(e.pn=t,e.Nn)&&e.Nn.Gn(e.pn)})},this.Kn=function(){return e.Dn},this.Wn=function(){return e.Pn},this.setModuleNameAndVersion=function(t,n){e.Dn=t,e.Pn=n},this.xn=function(){return e.mn},this.setPlayerType=function(t){e.C||e.N.k("PlayerStateManager.setPlayerType",function(){e.mn=t,e.Nn&&e.Nn.Yn(e.mn)})},this.qn=function(){return e.yn},this.setPlayerVersion=function(t){e.C||e.N.k("PlayerStateManager.setPlayerVersion",function(){e.yn=t,e.Nn&&e.Nn.Jn(e.yn)})},this.setMonitoringNotifier=function(t){return!e.C&&!e.Nn&&(e.Nn=t,e.R,!0)},this.kn=function(){e.C||(e.Nn=null,e.R)},this.Xn=function(){e.setPlayerState(e.getPlayerState()),e.setBitrateKbps(e.Qn()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.xn()),e.setPlayerVersion(e.qn());for(var t=0;t<e.Un.length;t++){var n=e.Un[t];e.Zn(n)}e.Un=[]},this.getPlayerState=function(){return e.gn},this.setPlayerState=function(t){e.C||e.N.k("PlayerStateManager.setPlayerState",function(){A.zn(t)&&(e.gn=t,e.Nn)&&e.Nn.$n(e.gn)})},this.Qn=function(){return e.wn},this.setBitrateKbps=function(n){e.C||e.N.k("PlayerStateManager.setBitrateKbps",function(){var t=b.Sn(n);t>=-1&&(e.wn=t,e.Nn)&&e.Nn.ti(e.wn)})},this.setPlayerSeekStart=function(t){e.C||e.N.k("PlayerStateManager.setPlayerSeekStart()",function(){e.Nn&&e.Nn.ni(A.SEEK_ACTIONS_TYPE.SEEK_START,t)})},this.setPlayerSeekEnd=function(){e.C||e.N.k("PlayerStateManager.setPlayerSeekEnd()",function(){e.Nn&&e.Nn.ni(A.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.C||e.N.k("PlayerStateManager.setUserSeekButtonUp()",function(){e.Nn&&e.Nn.ni(A.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.C||e.N.k("PlayerStateManager.setUserSeekButtonDown()",function(){e.Nn&&e.Nn.ni(A.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.C||e.N.k("PlayerStateManager.setVideoResolutionWidth()",function(){var t=b.Sn(n);t>0&&(e.bn=t),e.Nn&&e.Nn.ii(e.bn)})},this.setVideoResolutionHeight=function(n){e.C||e.N.k("PlayerStateManager.setVideoResolutionHeight()",function(){var t=b.Sn(n);t>0&&(e.Mn=t),e.Nn&&e.Nn.ei(e.Mn)})},this.setConnectionType=function(t){e.C||e.N.k("PlayerStateManager.setConnectionType()",function(){e.M=t,e.Nn&&e.Nn.tt(e.M)})},this.setLinkEncryption=function(t){e.C||e.N.k("PlayerStateManager.setLinkEncryption()",function(){e.L=t,e.Nn&&e.Nn.it(e.L)})},this.setSignalStrength=function(){},this.Zn=function(t){var n,i;e.Ln=t,e.Nn?(n=t.errorCode,i=t.severity,e.Nn.si(n,i)):e.Un.push(t)},this.sendError=function(n,i){e.C||e.N.k("PlayerStateManager.sendError",function(){var t=new M(n,i);e.Zn(t)})},this.reset=function(){e.C||e.N.k("PlayerStateManager.reset",function(){e.wn=-2,e.gn=A.PlayerState.UNKNOWN,e.In={},e.Cn=-1,e.On=-1,e.An=-1,e.yn=null,e.mn=null,e.pn=null,e.Ln=null,e.Un=[]})},this.setCDNServerIP=function(t){e.C||e.N.k("PlayerStateManager.setCDNServerIP",function(){e.Nn&&e.Nn.oi(t)})},this.ri=function(){return e.ui},this.setDroppedFramesTotal=function(t){e.C||e.N.k("PlayerStateManager.setDroppedFramesTotal",function(){e.Nn&&e.Nn.hi(t)})},this.setDroppedFramesCount=function(t){e.C||e.N.k("PlayerStateManager.setDroppedFramesCount",function(){e.Nn&&e.Nn.ai(t)})},this.fi=function(){return e.Ln},function(t,n){e.T=t,e.N=e.T.ct(n)}.apply(e,arguments)}).PlayerState={STOPPED:T.PlayerState.STOPPED,PLAYING:T.PlayerState.PLAYING,BUFFERING:T.PlayerState.BUFFERING,PAUSED:T.PlayerState.PAUSED,UNKNOWN:T.PlayerState.UNKNOWN,NOT_MONITORED:T.PlayerState.NOT_MONITORED},A.zn=function(t){return t===A.PlayerState.STOPPED||t===A.PlayerState.PLAYING||t===A.PlayerState.BUFFERING||t===A.PlayerState.PAUSED||t===A.PlayerState.UNKNOWN||t===A.PlayerState.NOT_MONITORED},A.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},A.DEFAULT_SIGNAL_STRENGTH=1e3,A.DEFAULT_RENDERED_FRAME_RATE=-1,A.DEFAULT_BUFFER_LENGTH=-1,A.DEFAULT_PHT=-1,ct.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},B=ct.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},H=ct.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},j=ct.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},G=ct.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},K=ct.SystemInterface=function(){!function(t,n,i,e,s,o){m.Bn(t,new W,"TimeInterface"),m.Bn(n,new x,"TimerInterface"),m.Bn(i,new B,"HttpInterface"),m.Bn(e,new G,"StorageInterface"),m.Bn(s,new j,"MetadataInterface"),m.Bn(o,new H,"LoggingInterface"),this.ci=t,this.li=n,this.vi=i,this.di=e,this.Ei=s,this._i=o}.apply(this,arguments),this.release=function(){this.ci&&(this.ci.release(),this.ci=null),this.li&&(this.li.release(),this.li=null),this.vi&&(this.vi.release(),this.vi=null),this.di&&(this.di.release(),this.di=null),this.Ei&&(this.Ei.release(),this.Ei=null),this._i&&(this._i.release(),this._i=null)}},W=ct.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},x=ct.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},Y=ct.SystemFactory=function(){var t=this;!function(t,n){if(!(t instanceof K))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Ri=t,this.ci=this.Ri.ci,this.li=this.Ri.li,this.vi=this.Ri.vi,this.di=this.Ri.di,this.Ei=this.Ri.Ei,this._i=this.Ri._i,n instanceof h?this.S=n.ht():this.S=new h}.apply(this,arguments),this.ft=function(t,n,i){this.pi=t,this.Ti=n,this.Ai=i},this.release=function(){this.Ri.release(),this.Ri=null,this.pi=null,this.S=null,this.Si=null};var n=function(){return new rt(t._i,t.ci,t.Yt(),t.Si,t.pi)};this.buildLogger=function(){return n()},this._t=function(t,n,i){return new $(t,n,i,this)},this.Oi=function(t){return new D(this.buildLogger(),this.Ni(),this.Ti,t)},this.wi=function(){return new tt(this.buildTimer(t.Ai))},this.gi=function(){var t=new ht(this.buildLogger(),this.li,new it(this.buildLogger(),null,this.Yt()));return new tt(t)},this.Ni=function(){return new ot(this.buildLogger(),this.vi,this.gi(),this.Yt())},this.ct=function(t){return new it(this.buildLogger(),this.Oi(t),this.Yt())},this.buildTime=function(){return new ut(this.ci,this.buildLogger())},this.buildTimer=function(t){return new ht(this.buildLogger(),this.li,this.ct(t))},this.Ii=function(){return new U.Storage(this.buildLogger(),this.di,this.wi(),this.Yt())},this.lt=function(){return new y(this.buildLogger(),this.Ii(),this.Ci())},this.yi=function(t){return new L(this.buildLogger(),this.Ei,this.ct(t))},this.mi=function(){return new I},this.Di=function(t,n){return new et(t,this.buildLogger(),this.Ni(),this.Ci(),n)},this.Pi=function(t,n,i,e,s){var o=this.Di(n,e.custom["c3.domain"]);return new C(this.bi(),t,n,this.buildLogger(),this.ct(s),this.buildTimer(s),o,this.mi(),this.buildTime(),this.Mi(),i,e,s)},this.Li=function(t,n,i,e,s,o,r){t=this.Pi(t,n.ht(),i,o,r);return new z(e,s,i,this.yi(r),t,this.ct(r),this.buildLogger())},this.bi=function(){return new nt},this.Ci=function(){return new Q},this.Mi=function(){return this.Si},this.Yt=function(){return this.S},this.Si=new st},(h=ct.SystemSettings=function(){this.Ui=h.Vi,m.sn(this,"logLevel",function(){return this.Ui}),m.on(this,"logLevel",function(t){var n;"number"===typeof t&&(n=m.hn(t))===t&&n>=h.LogLevel.DEBUG&&n<=h.LogLevel.ERROR&&(this.Ui=n)}),this.ki=h.Fi,m.sn(this,"allowUncaughtExceptions",function(){return this.ki}),m.on(this,"allowUncaughtExceptions",function(t){m.Bi(t)&&(this.ki=t)}),this.Hi=h.ji,m.sn(this,"storageTimeout",function(){return this.Hi}),m.on(this,"storageTimeout",function(t){var n;"number"===typeof t&&(n=m.hn(t))===t&&(this.Hi=n)}),this.Gi=h.Ki,m.sn(this,"httpTimeout",function(){return this.Gi}),m.on(this,"httpTimeout",function(t){var n;"number"===typeof t&&(n=m.hn(t))===t&&(this.Gi=n)}),function(){}.apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ht=function(){var t=new h;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:T.LogLevel.DEBUG,INFO:T.LogLevel.INFO,WARNING:T.LogLevel.WARNING,ERROR:T.LogLevel.ERROR,NONE:T.LogLevel.NONE},h.Wi=h.LogLevel.DEBUG,h.Vi=h.LogLevel.NONE,h.xi=!0,h.Fi=!1,h.ji=10,h.Ki=10,i=U.AdAnalytics=function(){var e=this;function n(t){e.Yi?(m.Ft(t)>0&&e.setAdInfo(t),e.Yi.qi()||(e.Yi.Ji(e.Xi),e.Yi.Qi(!0),e.getAdType()===T.AdType.SERVER_SIDE&&e.reportAdMetric(T.Playback.BITRATE,e.Xi.Zi()))):e.R}e.zi=null,e.T=null,e.$i=null,e.Xi=null,e.Yi=null,e.te=null,e.ne=null,e.ie=null,function(t,n,i){e.zi=t,e.ie=i,e.T=n,i&&(e.Xi=i.ee()),e.$i=n.buildTimer(T.version),e.Yi=new l(e.zi,e.$i),S.call(this)}.apply(this,arguments),this.setAdInfo=function(t){m.Ft(t)<=0?e.R:(e.R,e.Yi&&e.Yi.se(t))},this.setAdPlayerInfo=function(t){m.Ft(t)<=0?e.R:(e.R,e.Yi&&e.Yi.se(t))},this.reportAdMetric=function(){0===arguments.length?e.R:1===arguments.length?e.oe(arguments[0]):2===arguments.length?e.oe(arguments[0],arguments[1]):3===arguments.length?e.oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.oe(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(t){e.Yi&&e.Yi.re(t)},this.reportAdFailed=function(t,n){e.Yi?(m.Ft(n)>0&&e.setAdInfo(n),e.Yi.qi()?(e.R,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.Yi.Ji(e.Xi),e.R,n=new M(t,a.ErrorSeverity.FATAL),e.Yi.Qi(!0,n))):e.R},this.reportAdLoaded=function(t){e.R,n(t)},this.reportAdStarted=function(t){e.R,n(t)},this.reportAdEnded=function(){e.Yi?(e.R,e.Yi.qi()&&(e.Yi.Ji(null),e.Yi.Qi(!1))):e.R},this.reportAdError=function(t,n){e.Yi?(e.R,t=new M(t,n),e.Yi.Zn(t)):e.R},this.reportAdPlayerEvent=function(t,n){if(m.yt(t))if(e.R,e.Yi)switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:e.Yi.bt();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:e.Yi.Lt();break;default:e.Yi.ue(t,n)}else e.R;else e.R},this.reportAdSkipped=function(){e.Yi?(e.R,e.reportAdPlayerEvent(T.Events.AD_SKIPPED),e.reportAdEnded()):e.R},this.release=function(){e.R,e.Yi&&(e.Yi.qi()&&(e.Yi.Ji(null),e.Yi.Qi(!1)),e.Yi.re(null),e.Yi.he(),e.Yi=null),"undefined"!==typeof ct.AdProxyMonitor&&e.ne&&(ct.AdProxyMonitor.release(e.ne),e.ne=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?ct.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(ct.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof ct.AdProxyMonitor)&&(!t&&e.ne?(ct.AdProxyMonitor.release(e.ne),e.ne=null):t&&e.ne?(ct.AdProxyMonitor.release(e.ne),e.R,e.ne=ct.AdProxyMonitor.initConvivaDropIn(t,n,this,ct,e.T)):t&&!e.ne&&(e.R,e.ne=ct.AdProxyMonitor.initConvivaDropIn(t,n,this,ct,e.T)))},this.reportAdBreakStarted=function(t,n,i){e.Xi&&(e.R,e.ae=t,e.te=n,e.Xi.fe(t,n,i))},this.reportAdBreakEnded=function(){e.Xi&&(e.R,e.ae=null,e.te=null,e.Xi.ce())},this.getSessionId=function(){return e.Xi?(e.R,e.Yi.qt()):T.NO_SESSION_KEY},this.getClientId=function(){return e.Xi?(e.R,e.Yi.Jt()):null},this.getPlayerMonitor=function(){return e.Xi},this.getAdPlayerMonitor=function(){return e.Yi},this.getVideoAnalytics=function(){return e.ie},this.getAdType=function(){return e.Xi?e.Xi.ae:null},this.le=function(){return e.Xi?e.Xi.te:null},i.prototype=Object.create(S.prototype),i.prototype.constructor=i},l=U.AdPlayerMonitorImpl=function(){var s=this;s.ve=null,s.de=null,function(t,n){v.call(this,t,n)}.apply(this,arguments),this.Ji=function(t){this.Ee()!==t&&(this._e(),s.de=t||null)},this.Ee=function(){return s.de},this.Re=function(t){var n,i=this.Ee(),e={};e.error=t,s.ve&&(s.pe=s.ve.getPlayerStateManager(!0),s.Te(),s.pe.setClientMeasureInterface(this),n=null,i&&(n=i.Ae()),s.Se=s.ve.createAdSession(n,s.gt,s.pe,!0,e),"undefined"!==typeof t)&&(s.Oe(),s.he())},l.prototype=Object.create(v.prototype),l.prototype.constructor=l},q=ct.Analytics={init:function(){if(this.zi,arguments.length<=0)throw new Error("customerKey must be valid");var t=null,n=null,i=null;if("string"===typeof arguments[0]&&!m.yt(t=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof arguments[1]&&(n=arguments[1]),arguments.length>=3&&"object"===typeof arguments[2]&&(i=arguments[2]);var t=new f(t),e=new h,i=(m.Ft(i)>0&&(i[T.GATEWAY_URL]&&(t.gatewayUrl=i[T.GATEWAY_URL]),i[T.LOG_LEVEL]>=0)&&(e.logLevel=i[T.LOG_LEVEL]),new ct.Impl.Html5Logging),s=new ct.Impl.Html5Storage,o=new ct.Impl.Html5Http,r=new ct.Impl.Html5Timer,u=new ct.Impl.Html5Time;this.Ei||(this.Ei=new ct.Impl.Html5Metadata),n&&(n[T.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=n[T.CallbackFunctions.CONSOLE_LOG]),n[T.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=n[T.CallbackFunctions.MAKE_REQUEST]),n[T.CallbackFunctions.SAVE_DATA]&&(s.saveData=n[T.CallbackFunctions.SAVE_DATA]),n[T.CallbackFunctions.LOAD_DATA]&&(s.loadData=n[T.CallbackFunctions.LOAD_DATA]),n[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(u.getEpochTimeMs=n[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),n[T.CallbackFunctions.CREATE_TIMER])&&(r.createTimer=n[T.CallbackFunctions.CREATE_TIMER]),this.Ri=new K(u,r,o,s,this.Ei,i),this.T=new Y(this.Ri,e),this.T.ft("Analytics",t),this.zi=new a(t,this.T,this.Ne,q.version)},release:function(){var t=0;if(this.we){for(t=0;t<this.we.length;t++){var n=this.we[t];n&&(n.release(),n.R=null,n.$i=null,this.we.splice(t,1),t--)}this.we=null}if(this.ge){for(t=0;t<this.ge.length;t++){var i=this.ge[t];i&&(i.release(),i.R=null,i.$i=null,this.ge.splice(t,1),t--)}this.ge=null}this.T&&(this.T.release(),this.T=null),this.zi&&(this.zi.release(),this.zi=null),this.zi=null,this.R=null,this.Ri=null,this.Ei=null,this.Ne=null},setUniqueIdentifier:function(t,n){if(!this.zi)throw new Error(T.i);this.zi.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this.zi)throw new Error(T.i);this.zi.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this.zi)throw new Error(T.i);this.zi.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this.zi)throw new Error(T.i);this.zi.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this.zi)throw new Error(T.i);this.zi.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.zi)throw new Error(T.i);this.zi.sendCustomEvent(a.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(T.i);this.zi=t,this.T=this.zi.T},buildVideoAnalytics:function(){var t;if(this.zi)return t=new d(this.zi,this.T),this.ge||(this.ge=[]),this.ge.push(t),t;throw new Error(T.i)},buildAdAnalytics:function(t){if(this.zi)return t=new i(this.zi,this.T,t||null),this.we||(this.we=[]),this.we.push(t),t;throw new Error(T.i)},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===m.Ft(t)||(this.Ei||(this.Ei=new ct.Impl.Html5Metadata),t[T.DeviceMetadata.BRAND]&&(this.Ei.getDeviceBrand=function(){return t[T.DeviceMetadata.BRAND]}),t[T.DeviceMetadata.MANUFACTURER]&&(this.Ei.getDeviceManufacturer=function(){return t[T.DeviceMetadata.MANUFACTURER]}),t[T.DeviceMetadata.MODEL]&&(this.Ei.getDeviceModel=function(){return t[T.DeviceMetadata.MODEL]}),t[T.DeviceMetadata.TYPE]&&(this.Ei.getDeviceType=function(){return t[T.DeviceMetadata.TYPE]}),t[T.DeviceMetadata.VERSION]&&(this.Ei.getDeviceVersion=function(){return t[T.DeviceMetadata.VERSION]}),t[T.DeviceMetadata.OS_NAME]&&(this.Ei.getOperatingSystemName=function(){return t[T.DeviceMetadata.OS_NAME]}),t[T.DeviceMetadata.OS_VERSION]&&(this.Ei.getOperatingSystemVersion=function(){return t[T.DeviceMetadata.OS_VERSION]}),t[T.DeviceMetadata.CATEGORY]&&(this.Ei.getDeviceCategory=function(){return t[T.DeviceMetadata.CATEGORY]}),n=t[T.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],m.Ot(n)&&(this.Ei.getScreenWidth=function(){return n.toString()}),i=t[T.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],m.Ot(i)&&(this.Ei.getScreenHeight=function(){return i.toString()}),e=t[T.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],m.Ot(e)&&(this.Ei.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.Ne||(this.Ne={}),t){case T.Network.CONNECTION_TYPE:m.yt(n)&&(this.Ne[t]=n,this.zi)&&this.zi.Z(this.Ne[T.Network.CONNECTION_TYPE]);break;case T.Network.LINK_ENCRYPTION:m.yt(n)&&(this.Ne[t]=n,this.zi)&&this.zi.nt(this.Ne[T.Network.LINK_ENCRYPTION]);break;case T.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);m.Ot(i)&&A.DEFAULT_SIGNAL_STRENGTH!==i&&(this.Ne[t]=i,this.zi)&&this.zi.et(i)}},version:"4.5.10"},S=U.AnalyticsImpl=function(){var a=this;function f(){var t=!!a.Yi,n=a.getAdType(),i=a.le();return n===T.AdType.SERVER_SIDE&&i===T.AdPlayer.CONTENT?S.Ce.Ie:n!==T.AdType.SERVER_SIDE||i!==T.AdPlayer.SEPARATE?n===T.AdType.CLIENT_SIDE&&i===T.AdPlayer.CONTENT||(n===T.AdType.CLIENT_SIDE&&T.AdPlayer.SEPARATE,t)?S.Ce.ye:S.Ce.me:void 0}function c(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!a.Yi||i!==S.Ce.ye&&i!==S.Ce.Ie||a.Yi.De(t,n),!a.Xi)||i!==S.Ce.me&&i!==S.Ce.Ie||a.Xi.De(t,n)}function l(t,n){A.zn(t)&&(!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.Pe(t),a.Xi&&n===S.Ce.me||n===S.Ce.Ie)&&a.Xi.Pe(t)}function v(t,n){t=parseInt(t,10);isNaN(t)||(!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.be(t),!a.Xi)||n!==S.Ce.me&&n!==S.Ce.Ie||a.Xi.be(t)}function d(t,n){t=parseInt(t,10);isNaN(t)||(!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.Me(t),!a.Xi)||n!==S.Ce.me&&n!==S.Ce.Ie||a.Xi.Me(t)}function E(t,n){t=parseInt(t,10);!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.Le(!0,t),!a.Xi||n!==S.Ce.me&&n!==S.Ce.Ie||a.Xi.Le(!0,t)}function _(t){!a.Yi||t!==S.Ce.ye&&t!==S.Ce.Ie||a.Yi.Le(!1,-1),!a.Xi||t!==S.Ce.me&&t!==S.Ce.Ie||a.Xi.Le(!1,-1)}function R(t,n){t=parseInt(t,10);isNaN(t)||(!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.Ue(t),!a.Xi)||n!==S.Ce.me&&n!==S.Ce.Ie||a.Xi.Ue(t)}function p(t,n){t=parseInt(t,10);isNaN(t)||(!a.Yi||n!==S.Ce.ye&&n!==S.Ce.Ie||a.Yi.Ve(t),!a.Xi)||n!==S.Ce.me&&n!==S.Ce.Ie||a.Xi.Ve(t)}!function(){}.apply(this,arguments),this.oe=function(t,n,i,e){switch(t){case T.Playback.BITRATE:e===S.Ce.ye?R(n,S.Ce.ye):R(n,f());break;case T.Playback.PLAY_HEAD_TIME:e===S.Ce.ye?v(n,S.Ce.ye):v(n,f());break;case T.Playback.RESOLUTION:e===S.Ce.ye?c(n,i,S.Ce.ye):c(n,i,f());break;case T.Playback.BUFFER_LENGTH:e===S.Ce.ye?d(n,S.Ce.ye):d(n,f());break;case T.Playback.PLAYER_STATE:e===S.Ce.ye?l(n,S.Ce.ye):l(n,f());break;case T.Playback.RENDERED_FRAMERATE:e===S.Ce.ye?p(n,S.Ce.ye):p(n,f());break;case T.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?E(n,f()):i===S.Ce.ye?E(-1,S.Ce.ye):E(-1,f());break;case T.Playback.SEEK_ENDED:i===S.Ce.ye?_(S.Ce.ye):_(f());break;case T.Playback.CDN_IP:u=n,h=f(),m.yt(u)&&(!a.Yi||h!==S.Ce.ye&&h!==S.Ce.Ie||a.Yi.ke(u),!a.Xi||h!==S.Ce.me&&h!==S.Ce.Ie||a.Xi.ke(u));break;case T.Playback.DROPPED_FRAMES_TOTAL:h=n,u=f();h=parseInt(h,10),isNaN(h)||(!a.Yi||u!==S.Ce.ye&&u!==S.Ce.Ie||a.Yi.Fe(h),!a.Xi)||u!==S.Ce.me&&u!==S.Ce.Ie||a.Xi.Fe(h);break;case T.Playback.DROPPED_FRAMES_COUNT:var s=n,o=f();s=parseInt(s,10),isNaN(s)||(!a.Yi||o!==S.Ce.ye&&o!==S.Ce.Ie||a.Yi.Be(s),!a.Xi)||o!==S.Ce.me&&o!==S.Ce.Ie||a.Xi.Be(s);break;default:o=t,s=n,r=f(),m.yt(o)&&s&&(!a.Yi||r!==S.Ce.ye&&r!==S.Ce.Ie||a.Yi.Xt(o,s),!a.Xi||r!==S.Ce.me&&r!==S.Ce.Ie||a.Xi.Xt(o,s))}var r,u,h}},U.AnalyticsImpl.Ce={ye:1,me:2,Ie:3},J=U.PlayerMonitor=function(){var e=this;this.He=null,this.je=null,this.gt=null,this.Ge=null,this.gn=A.PlayerState.UNKNOWN,this.Ke=-1,this.We=-1,this.Un=[],this.xe=null,this.Ye=null,this.qe=-2,this.Cn=-1,this.U=A.DEFAULT_SIGNAL_STRENGTH,this.Je=null,this.ui=null,this.L=null,this.M=null,this.$i=null,this.Xe=null,this.Qe=null,this.Ze=null,this.ze=null,this.ae=null,this.te=null,function(t){e.$i=t}.apply(this,arguments),this.$e=function(){return e.gn},this.Pe=function(t){e.gn!==t&&(e._e(),e.gn=t,e.ts())},this.ns=function(){return e.es},this.ss=function(){return e.os},this.Le=function(t,n){e._e(),e.es=t,e.os=n,e.rs()},this.us=function(){return e.Ke},this.be=function(t){e.Ke=t},this.hs=function(){return e.We},this.Me=function(t){e.We=t},this.Zi=function(){return e.qe},this.Ue=function(t){e.qe!==t&&(e.qe=t,e.ts())},this.fs=function(){return e.Cn},this.Ve=function(t){e.Cn=t},this.cs=function(){return e.Je},this.ke=function(t){e.Je=t,e.ts()},this.ri=function(){return e.ui},this.Fe=function(t){e.ui=t,e.ts()},this.Be=function(t){e.ls(t)},this.vs=function(){return e.U},this.ds=function(){return e.Es},this._s=function(){return e.Rs},this.De=function(t,n){n<0&&(n=0),e.Es===(t=t<0?0:t)&&e.Rs===n||(e.Es=t,e.Rs=n,e.ts())},this.ps=function(){return e.je},this.Ts=function(){e.ps()&&(e.gt=new c,e.Ge={},e.Qe={},e.As())},this.Ss=function(t){(e.je||t)&&(this._e(),e.je&&(e.je=null,e.Ts()),t)&&(e.je=m.Os(e.je,t),e.Ts())},this.se=function(t){if(t)if(e.gt){var n,i=!1;for(n in t)if(e.gt[n]!==t[n]){i=!0;break}i&&(e._e(),e.je=m.Os(t),e.As())}else e.Ss(t)},this.re=function(t){t?e.Ze!==t&&(e.Ze=t,e.Ns()):(e.Ze=null,e.Oe())},this._e=function(){e.ws||e.Ze&&(e.ws=!0,e.Ze(),e.ws=!1)},this.qi=function(){return e.He},this.Qi=function(t,n){e.He!==t&&(e._e(),e.He&&(e.gs(),e.Oe(),e.he()),e.He=t,e.He)&&e.Re(n)},this.Is=function(){return e.xe},this.Cs=function(){return e.Ye||null},this.ys=function(){return e.Un},this.Ds=function(){e.Un=[]},this.Zn=function(t){this._e(),e.Un.push(t),e.si()},this.ue=function(t,n){e._e(),e.xe=t,e.Ye=n,e.Ps()},this.bs=function(){e._e()},this.Ns=function(){e.Oe(),e.Xe=e.$i.create(e.bs,1e3,"PlayerMonitor.update")},this.Oe=function(){e.Xe&&(e.Xe(),e.Xe=null)},this.fe=function(t,n,i){e.ze=i,e.ae=t,e.Ms(),e.te=n,e.ae&&T.AdType.CLIENT_SIDE===e.ae&&(e.gn=T.PlayerState.UNKNOWN,e.Ls(e.ae,n,i?i[T.POD_POSITION]:null))},this.ce=function(){e.ae&&T.AdType.CLIENT_SIDE===e.ae&&(e.Us(),e.gn=T.PlayerState.UNKNOWN),e.Vs(),e.ae=null,e.te=null},this.ks=function(){return e.ze},this.Fs=function(){return e.ae},this.getContentMetadata=function(){return this.gt},this.he=function(){this.He=null,this.je=null,this.gt=null,this.Ge=null,this.gn=A.PlayerState.UNKNOWN,this.Ke=-1,this.We=-1,this.Un=[],this.xe=null,this.Ye=null,this.qe=-2,this.Cn=-1,this.U=A.DEFAULT_SIGNAL_STRENGTH,this.Je=null,this.ui=null,this.L=null,this.M=null,this.$i=null,this.Xe=null,this.Qe=null,this.Ze=null,this.ze=null,this.ae=null,this.te=null,e.pe=null,e.Se=a.NO_SESSION_KEY}},v=U.PlayerMonitorImpl=function(){var o=this;o.ve=null,o.pe=null,o.Se=a.NO_SESSION_KEY,function(t,n){J.call(this,n),o.ve=t}.apply(this,arguments),this.getPHT=function(){return o.us()},this.getBufferLength=function(){return o.hs()},this.getRenderedFrameRate=function(){return o.fs()},this.getSignalStrength=function(){return o.vs()},this.rs=function(){o.pe&&o._ContentSessionKey!==a.NO_SESSION_KEY&&(o.ns()?o.pe.setPlayerSeekStart(o.ss()):o.pe.setPlayerSeekEnd())},this.ts=function(){o.pe&&(o.pe.setPlayerState(o.$e()),o.Zi()>0&&o.pe.setBitrateKbps(o.Zi()),o.ds()>0&&o.pe.setVideoResolutionWidth(o.ds()),o._s()>0&&o.pe.setVideoResolutionHeight(o._s()),o.cs()&&o.pe.setCDNServerIP(o.cs()),m.Ot(o.ri()))&&o.pe.setDroppedFramesTotal(o.ri())},this.Pt=function(){o.Se!==a.NO_SESSION_KEY&&o.ve&&o.ve.updateContentMetadata(o.Se,o.gt)},this.Te=function(){if(o.pe){o.Qe&&m.Ft(o.Qe)>0&&(o.Qe[T.MODULE_NAME]&&o.Qe[T.MODULE_VERSION]&&(t=o.Qe[T.MODULE_NAME],n=o.Qe[T.MODULE_VERSION],m.yt(t))&&m.yt(n)&&o.pe.setModuleNameAndVersion(t,n),o.Qe[T.FRAMEWORK_NAME]&&(t=o.Qe[T.FRAMEWORK_NAME],m.yt(t))&&o.pe.setPlayerType(t),o.Qe[T.FRAMEWORK_VERSION])&&(n=o.Qe[T.FRAMEWORK_VERSION],m.yt(n))&&o.pe.setPlayerVersion(n);var t,n,i=o.ys();o.Ds();for(var e=0;e<i.length;e++){var s=i[e];o.pe.Zn(s)}}},this.Us=function(){o.pe&&o.Se!==a.NO_SESSION_KEY&&(o.ts(),this.Bs())},this.Lt=function(){o.pe&&o.Se!==a.NO_SESSION_KEY&&(o.ts(),o.ve.Ut(o.Se))},this.Bs=function(){o.ve&&o.Se!==T.NO_SESSION_KEY&&o.ve.adEnd(o.Se)},this.Ls=function(t,n,i){var e;o.pe&&o.Se!==T.NO_SESSION_KEY&&(e=null,T.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:T.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),o.Hs(e,n,i))},this.bt=function(){o.pe&&o.Se!==T.NO_SESSION_KEY&&o.ve.Mt(o.Se)},this.Hs=function(t,n,i){o.ve&&o.Se!==T.NO_SESSION_KEY&&o.ve.adStart(o.Se,t,n,i)},this.Re=function(){if(o.ve){o.pe=o.ve.getPlayerStateManager(!0),o.Te(),o.pe.setClientMeasureInterface(this);try{var t;o.gt&&o.gt.custom&&!o.gt.custom[T.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n))&&s.push(e);return s}),""!==(t=m.js().split("?").join("").split("&").filter(function(t){return 2===t.split("=").length&&t.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&")))&&(o.gt.custom[T.UTM_TRACKING_URL]=t)}catch(t){o.R.error("PlayerMonitorImpl _createSession : "+t)}o.Se=o.ve.createSession(o.gt,o.pe,!0)}},this.gs=function(){o.ve&&(o.pe&&(o.pe.setPlayerState(T.PlayerState.STOPPED),o.pe=null),o.Se!==T.NO_SESSION_KEY)&&(o.ve.cleanupSession(o.Se),o.Se=T.NO_SESSION_KEY)},this.si=function(){if(o.ve&&o.Se!==a.NO_SESSION_KEY){var t=o.ys();o.Ds();for(var n=0;n<t.length;n++){var i=t[n];o.ve.reportError(o.Se,i.Gs(),i.Ks())}}},this.Ps=function(){o.Se!==a.NO_SESSION_KEY&&o.ve&&o.ve.sendCustomEvent(o.Se,o.Is(),o.Cs())},this.As=function(){var t,n=o.ps(),i=!1,e=!1;for(t in n){var s=n[t];if(m.yt(t)&&null!==s&&void 0!==s)switch(t){case T.STREAM_URL:e=!0,o.gt.streamUrl=s;break;case T.ASSET_NAME:e=!0,o.gt.assetName=s;break;case T.DEFAULT_RESOURCE:e=!0,o.gt.defaultResource=s;break;case T.VIEWER_ID:e=!0,o.gt.viewerId=s;break;case T.PLAYER_NAME:e=!0,o.gt.applicationName=s;break;case T.DURATION:e=!0,o.gt.duration=s;break;case T.IS_LIVE:e=!0,o.gt.streamType=s;break;case T.ENCODED_FRAMERATE:e=!0,o.gt.encodedFrameRate=s;break;case T.MODULE_NAME:case T.MODULE_VERSION:case T.FRAMEWORK_NAME:case T.FRAMEWORK_VERSION:i=!0,o.Qe[t]=s;break;default:T.APPLICATION_VERSION;e=!0,o.gt.custom[t]=s}}i&&this.Te(),e&&this.Pt()},this.Ms=function(){this.Ws(T.Events.POD_START)},this.Vs=function(){this.Ws(T.Events.POD_END)},this.Ws=function(t){var n,i,e;o.ve&&o.Se!==T.NO_SESSION_KEY&&(n={},(e=this.ks())&&((i=e[T.POD_POSITION])&&(n[T.POD_POSITION]=i),(i=e[T.POD_INDEX])&&(n[T.POD_INDEX]=i+""),t===T.Events.POD_START)&&(i=e[T.POD_DURATION])&&(n[T.POD_DURATION]=i+""),(e=this.Fs())&&(n[T.AD_TYPE]=e),o.ve.sendCustomEvent(o.Se,t,n))},this.ls=function(t){o.pe.setDroppedFramesCount(t)},this.xs=function(t){this.Se===T.NO_SESSION_KEY&&t!==T.NO_SESSION_KEY&&(this.Se=t)},this.Ae=function(){return this.Se},this.qt=function(){return o.ve.getSessionId(this.Se)},this.Jt=function(){return o.ve.getClientId(this.Se)},this.Xt=function(t,n){o.ve.Xt(this.Se,t,n)},v.prototype=Object.create(J.prototype),v.prototype.constructor=v},ct.Impl=ct.Impl||{},ct.Impl.Html5Http=function(){!function(){}.apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},ct.Impl=ct.Impl||{},ct.Impl.Html5Logging=function(){!function(){}.apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===h.LogLevel.DEBUG||n===h.LogLevel.INFO?console.log(t):console.warn&&n===h.LogLevel.WARNING?console.warn(t):console.error&&n===h.LogLevel.ERROR&&console.error(t))},this.release=function(){}},ct.Impl=ct.Impl||{},ct.Impl.Html5Metadata=function(){!function(){}.apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},ct.Impl=ct.Impl||{},ct.Impl.Html5Storage=function(){!function(){}.apply(this,arguments),this.saveData=function(t,n,i,e){t=t+"."+n;try{localStorage.setItem(t,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){t=t+"."+n;try{i(!0,localStorage.getItem(t))}catch(t){i(!1,t.toString())}},this.release=function(){}},ct.Impl=ct.Impl||{},ct.Impl.Html5Time=function(){!function(){}.apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},ct.Impl=ct.Impl||{},ct.Impl.Html5Timer=function(){!function(){}.apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}},d=U.VideoAnalytics=function(){var s=this;s.zi=null,s.T=null,s.$i=null,s.Xi=null,s.ne=null,this.release=function(){s.R,s.Xi&&s.Xi.qi()&&s.Xi.Qi(!1),"undefined"!==typeof ct.ProxyMonitor&&s.ne&&(ct.ProxyMonitor.release(s.ne),s.ne=null),s.Xi&&(s.Xi.re(null),s.Xi.he(),s.Xi=null),s.$i=null},function(t,n){s.zi=t,s.T=n,s.$i=n.buildTimer(T.version),s.Xi=new v(s.zi,s.$i),S.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.R,s.Xi&&(m.Ft(t)>0&&s.setContentInfo(t),s.Xi.qi()||s.Xi.Qi(!0))},this.reportPlaybackEnded=function(){s.R,s.Xi&&s.Xi.qi()&&(s.Xi.Qi(!1),"undefined"!==typeof ct.ProxyMonitor&&s.ne&&(ct.ProxyMonitor.release(s.ne),s.ne=null),s.Xi.re(null))},this.reportPlaybackFailed=function(t,n){s.Xi&&(m.Ft(n)>0&&s.setContentInfo(n),s.Xi.qi()||s.Xi.Qi(!0),s.R,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){m.Ft(t)<=0||s.Xi&&(s.R,s.Xi.se(t))},this.setPlayerInfo=function(t){m.Ft(t)<=0||s.Xi&&(s.R,s.Xi.se(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.oe(arguments[0]):2===arguments.length?s.oe(arguments[0],arguments[1]):3===arguments.length?s.oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.oe(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.Xi&&m.yt(t)&&(s.R,t=new M(t,n),s.Xi.Zn(t))},this.reportPlaybackEvent=function(t,n){if(m.yt(t)&&s.Xi&&(s.R,s.Xi))switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:s.Xi.bt();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:s.Xi.Lt();break;default:s.Xi.ue(t,n)}},this.setCallback=function(t){s.R,s.Xi&&s.Xi.re(t)},this.reportAdBreakStarted=function(t,n,i){s.Xi&&(s.R,s.Xi.fe(t,n,i))},this.reportAdBreakEnded=function(){s.Xi&&(s.R,s.Xi.ce())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[T.CONVIVA_MODULE],e=n[T.MEDIA_ELEMENT]),"undefined"!==typeof i?ct.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(ct.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof ct.ProxyMonitor)&&(s.R,!t&&s.ne?(ct.ProxyMonitor.release(s.ne),s.ne=null):t?(s.ne&&ct.ProxyMonitor.release(s.ne),s.R,s.ne="undefined"!==typeof e?ct.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,ct):ct.ProxyMonitor.initConvivaDropIn(t,s.T,this,ct)):"undefined"!==typeof e&&(s.ne=ct.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,ct)))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===T.AdType.SERVER_SIDE?s.Yi=t.getAdPlayerMonitor():s.getAdType()===T.AdType.CLIENT_SIDE&&s.R):s.Yi=null},this.configureExistingSession=function(t){t!==T.NO_SESSION_KEY&&s.Xi&&(s.R,s.Xi.xs(t))},this.getSessionId=function(){return s.Xi?(s.R,s.Xi.qt()):T.NO_SESSION_KEY},this.getClientId=function(){return s.Xi?(s.R,s.Xi.Jt()):null},this.ee=function(){return s.R,this.Xi},this.getAdType=function(){return s.Xi?s.Xi.ae:null},this.le=function(){return s.Xi?s.Xi.te:null},d.prototype=Object.create(S.prototype),d.prototype.constructor=d},U.JsonParse=(k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:n,text:V}},r=function(t){return t&&t!==s&&o("Expected '"+t+"' instead of '"+s+"'"),s=V.charAt(n),n+=1,s},F=function(){var t,n,i,e="";if('"'===s)for(;r();){if('"'===s)return r(),e;if("\\"===s)if(r(),"u"===s){for(n=i=0;n<4&&(t=parseInt(r(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof k[s])break;e+=k[s]}else e+=s}o("Bad string")},e=function(){for(;s&&s<=" ";)r()},u=function(){switch(e(),s){case"{":var t,n={};if("{"===s){if(r("{"),e(),"}"===s)return r("}"),n;for(;s;){if(t=F(),e(),r(":"),Object.hasOwnProperty.call(n,t)&&o('Duplicate key "'+t+'"'),n[t]=u(),e(),"}"===s)return r("}"),n;r(","),e()}}return void o("Bad object");case"[":var i=[];if("["===s){if(r("["),e(),"]"===s)return r("]"),i;for(;s;){if(i.push(u()),e(),"]"===s)return r("]"),i;r(","),e()}}return void o("Bad array");case'"':return F();case"-":return at();default:return(s>="0"&&s<="9"?at:function(){switch(s){case"t":return r("t"),r("r"),r("u"),r("e"),!0;case"f":return r("f"),r("a"),r("l"),r("s"),r("e"),!1;case"n":return r("n"),r("u"),r("l"),r("l"),null}o("Unexpected '"+s+"'")})()}},function(t,r){return V=t,n=0,s=" ",t=u(),e(),s&&o("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t}),O=U.JSON2={},"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof O.stringify&&(E=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,X={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},O.stringify=function(t,n,i){var e;if(R=_="","number"===typeof i)for(e=0;e<i;e+=1)R+=" ";else"string"===typeof i&&(R=i);if(!(p=n)||"function"===typeof n||"object"===typeof n&&"number"===typeof n.length)return function t(n,i){var e,s,o,r,u,h=_,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),typeof(a="function"===typeof p?p.call(i,n,a):a)){case"string":return ft(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(_+=R,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";o=0===u.length?"[]":_?"[\n"+_+u.join(",\n"+_)+"\n"+h+"]":"["+u.join(",")+"]"}else{if(p&&"object"===typeof p)for(r=p.length,e=0;e<r;e+=1)"string"===typeof p[e]&&(o=t(s=p[e],a))&&u.push(ft(s)+(_?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(ft(s)+(_?": ":":")+o);o=0===u.length?"{}":_?"{\n"+_+u.join(",\n"+_)+"\n"+h+"}":"{"+u.join(",")+"}"}return _=h,o}}("",{"":t});throw new Error("JSON2.stringify")}),g=U.Ys={qs:"0123456789abcdef",Js:function(t){for(var n="",i=7;i>=0;i--)n+=g.qs.charAt(t>>4*i&15);return n},Xs:function(t){for(var n=1+(t.length+8>>6),i=new Array(16*n),e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<24-e%4*8;return i[e>>2]|=128<<24-e%4*8,i[16*n-1]=8*t.length,i},Qs:function(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i},Zs:function(t,n){return t<<n|t>>>32-n},zs:function(t,n,i,e){return t<20?n&i|~n&e:!(t<40)&&t<60?n&i|n&e|i&e:n^i^e},$s:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},no:function(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return g.io(n)},io:function(t){if(""===t)return"";for(var n,i=g.Xs(t),e=new Array(80),s=1732584193,o=-271733879,r=-1732584194,u=271733878,h=-1009589776,a=0;a<i.length;a+=16){for(var f=s,c=o,l=r,v=u,d=h,E=0;E<80;E++)e[E]=E<16?i[a+E]:g.Zs(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),n=g.Qs(g.Qs(g.Zs(s,5),g.zs(E,o,r,u)),g.Qs(g.Qs(h,e[E]),g.$s(E))),h=u,u=r,r=g.Zs(o,30),o=s,s=n;s=g.Qs(s,f),o=g.Qs(o,c),r=g.Qs(r,l),u=g.Qs(u,v),h=g.Qs(h,d)}return g.Js(s)+g.Js(o)+g.Js(r)+g.Js(u)+g.Js(h)}},(I=U.CwsProtocol=function(){this.eo=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.so=function(t,n){var i=I.oo;return this.eo(t,n,i,{})}}).version="2.6",I.ro="/0/wsg",I.B="0",I.uo=-1,I.ho=!1,I.ao=2,I.fo=-1,I.co=-1,I.lo=1e3,I.vo="sdk.js.1",I.do="CwsStateChangeEvent",I.Eo="CwsErrorEvent",I.oo="CwsSessionEndEvent",I._o="CwsCustomEvent",I.Ro="CwsSeekEvent",I.po="CwsDataSamplesEvent",I.To="ok",I.Ao="err",I.So="clid",I.Oo="cfg",I.No="evs",I.wo="maxhbinfos",I.Io="slg",I.Co="hbi",I.yo="gw",I.mo="fp",I.Do="csi_en",I.Po="CwsSessionHb",I.bo="t",I.Mo="st",I.Lo="sst",I.Uo="lv",I.Vo="seq",I.ko="cid",I.Fo="clid",I.Bo="clv",I.Ho="pver",I.jo="iid",I.Go="sid",I.Ko="vid",I.Wo="an",I.xo="pn",I.Yo="tags",I.qo="sf",I.Jo="evs",I.Xo="lg",I.Qo="hbinfos",I.Zo="sdk",I.zo="pj",I.$o="ps",I.tr="br",I.nr="cl",I.ir="efps",I.er="afps",I.sr="rfpstot",I.rr="rfpscnt",I.ur="rs",I.hr="pht",I.ar="bl",I.cr="url",I.lr="caps",I.vr="pm",I.dr="w",I.Er="h",I._r="ct",I.Rr="le",I.pr="dftot",I.Tr="dfcnt",I.Ar="ss",I.Sr="csi_n",I.Or="csi_t",I.Nr="csi_l",I.wr="csi_v",I.gr="csi_c",I.Ir="sch",I.Cr="br",I.yr="brv",I.mr="dvb",I.Dr="dvma",I.Pr="dvm",I.br="dvt",I.Mr="dvv",I.Lr="sw",I.Ur="sh",I.Vr="scf",I.kr="fw",I.Fr="fwv",I.Br="cc",I.Hr="mn",I.jr="mv",I.Gr="os",I.Kr="osv",I.Wr="cat",I.Yr="caps",I.qr="t",I.Jr="seq",I.Xr="st",I.Qr="act",I.Zr="skto",I.zr="err",I.$r="ft",I.tu="new",I.nu="old",I.iu="name",I.eu="attr",I.su="seq",I.ou="err",I.ru="rtt",I.uu="ad",I.hu="csi",I.au=function(t){switch(t){case A.PlayerState.STOPPED:return I.fu;case A.PlayerState.PLAYING:return I.cu;case A.PlayerState.BUFFERING:return I.lu;case A.PlayerState.PAUSED:return I.vu;case A.PlayerState.NOT_MONITORED:return I.du;default:return I.Eu}},I.fu=1,I.cu=3,I.lu=6,I.vu=12,I.du=98,I.Eu=100,I._u={Ru:0,At:1,pu:2,Tu:4},I.Au={Su:0},Q=U.LibJSONInterface=function(){this.Ou=function(t){var n=null;try{n=O.stringify(t)}catch(t){}return n},this.Nu=function(t){var n=null;try{n=U.JsonParse(t)}catch(t){return n}return n=m.wu(n)?n:null}},Z=U.CwsHeartbeat=function(){this.gu={},function(){}.apply(this,arguments),this.get=function(){return this.gu},this.Iu=function(t,n){this.gu[t]=n},this.Cu=function(t,n,i){this.gu[t]||(this.gu[t]={}),this.gu[t][n]=i},this.yu=function(t){this.Iu(I.bo,t)},this.mu=function(t){this.Iu(I.Mo,t)},this.Du=function(t){this.Iu(I.Lo,t)},this.Pu=function(t){this.Iu(I.Uo,t)},this.bu=function(t){this.Iu(I.Vo,t)},this.Mu=function(t){this.Iu(I.ko,t)},this.Lu=function(t){this.Iu(I.Fo,t)},this.Uu=function(t){this.Iu(I.Bo,t)},this.Vu=function(t){this.Iu(I.Ho,t)},this.ku=function(t){this.Iu(I.Yr,t)},this.Fu=function(t){this.Iu(I.Go,t)},this.Bu=function(t){this.Iu(I.jo,t)},this.Hu=function(t){this.Iu(I.Ko,t)},this.ju=function(t){this.Iu(I.Wo,t)},this.Gu=function(t){this.Iu(I.xo,t)},this.Ku=function(t){this.Iu(I.Yo,t)},this.Wu=function(t){this.Iu(I.qo,t)},this.xu=function(t){this.Iu(I.lr,t)},this.Yu=function(t){this.Iu(I.Jo,t)},this.qu=function(t){this.Iu(I.Zo,t)},this.Ju=function(t){this.Iu(I.Xo,t)},this.Xu=function(t){this.Iu(I.Qo,t)},this.Pe=function(t){this.Iu(I.$o,t)},this.Qu=function(t){this.Iu(I.zo,t)},this.Zu=function(t){this.Iu(I.nr,t)},this.zu=function(t){this.Iu(I.tr,t)},this.$u=function(t){this.Iu(I.ur,t)},this.th=function(t){this.Iu(I.ir,t)},this.nh=function(t){this.Iu(I.er,t)},this.ih=function(t){this.Iu(I.rr,t)},this.eh=function(t){this.Iu(I.sr,t)},this.sh=function(t){this.Cu(I.vr,I.Ir,t)},this.oh=function(t){this.Cu(I.vr,I.Cr,t)},this.rh=function(t){this.Cu(I.vr,I.yr,t)},this.uh=function(t){this.Cu(I.vr,I.mr,t)},this.hh=function(t){this.Cu(I.vr,I.Dr,t)},this.ah=function(t){this.Cu(I.vr,I.Pr,t)},this.fh=function(t){this.Cu(I.vr,I.br,t)},this.lh=function(t){this.Cu(I.vr,I.Mr,t)},this.dh=function(t){this.Cu(I.vr,I.kr,t),this.Iu(I.kr,t)},this.Eh=function(t){this.Cu(I.vr,I.Fr,t),this.Iu(I.Fr,t)},this._h=function(t){this.Cu(I.vr,I.Gr,t.toUpperCase())},this.Rh=function(t){this.Cu(I.vr,I.Kr,t)},this.ph=function(t){this.Cu(I.vr,I.Wr,t)},this.Th=function(t){this.Cu(I.vr,I.Lr,t)},this.Ah=function(t){this.Cu(I.vr,I.Ur,t)},this.Sh=function(t){this.Cu(I.vr,I.Vr,t)},this.Oh=function(t){this.Iu(I.pr,t)},this.ls=function(t){this.Iu(I.Tr,t)},this.Nh=function(t){this.Iu(I.hr,t)},this.wh=function(t){this.Iu(I.ar,t)},this.gh=function(t){this.Iu(I.cr,t)},this.Ih=function(t){this.Iu(I.dr,t)},this.Ch=function(t){this.Iu(I.Er,t)},this.yh=function(t){this.Iu(I._r,t)},this.mh=function(t){this.Iu(I.Rr,t)},this.Dh=function(){this.Iu(I.uu,!0)},this.Ph=function(t){this.Iu(I.Ar,t)},this.setModuleName=function(t){this.Cu(I.Br,I.Hr,t)},this.bh=function(t){this.Cu(I.Br,I.jr,t)},this.Mh=function(t){this.Iu(I.hu,t)},this.Lh=function(t){t&&this.Iu(I.Sr,t)},this.Uh=function(t){t&&this.Iu(I.Or,t)},this.Vh=function(t){t&&this.Iu(I.Nr,t)},this.kh=function(t){t&&this.Iu(I.wr,t)},this.Fh=function(t){t&&this.Iu(I.gr,t)}},(C=U.CwsSession=function(){var _=this;_.Hh=null,_.gt=null,_.jh=0,_.Gh=0,_.Kh=I._u.Ru,_.Wh=I.Au.Su,_.xh=[],_.Yh=-1,_.wn=-2,_.ui=-1,_.qh=-1,_.Jh=null,_.gn=A.PlayerState.UNKNOWN,_.On=-1,_.Xh=-1,_.pn=null,_.bn=-1,_.Mn=-1,_.pe=null,_.vn=null,_._n=null,_.Qh=null,_.Zh=null,_.zh={},_.$h=null,_.ta=null,_.na=null,_.ia=null,_.ea=null,_.sa=null,_.oa=null,_.ra=null,_.ua=null,_.ha=null,_.aa=null,_.fa=null,_.ca=null,_.la=null,_.va=null,_.Dn=null,_.Pn=null,_.M=null,_.L=null,_.Je=null,_.da=null,_.Ea=!1,_._a=!1,_.Ra=!1,_.pa=!1,_.Ta=null,_.Aa=1e3,_.Sa=0,_.Oa=0,_.Na={},_.m={},_.wa=!1,_.ga=null,_.Ia=null,_.Ca=null,_.ya=null,_.ma=null,_.Da=null,_.Pa=12e4,_.ba=I.ho,_.Ma=!1,_.La=null,_.Ai=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.Ua=t,this.zi=n,this.Ti=i,this.R=e,this.R.setModuleName("CwsSession"),this.N=s,this.$i=o,this.Va=r,this.ka=u,this.Fa=h,this.Si=a,this.Ba=f,this.gt=c,this.gt&&(_.On=this.gt.encodedFrameRate,_.pn=this.gt.streamUrl,_.Xh=this.gt.duration),this.Ba&&(_.La=_.Ba.get(y.F)),_.Ai=l}.apply(this,arguments),this.Rt=function(){this.Ba=null,this.Si=null,this.O=null,this.Fa=null,this.ka=null,this.Va=null,this.$i=null,this.N=null,this.R=null,this.Ti=null,this.zi=null,this.Ua.Ha(),this.Ua=null,this.da=null,this.Ra=!0},this.ja=function(t){this.Ga=t,this.Ka=this.Ga.Ka,this.R.Fu(this.Ga.I),this.jh=this.Fa.current(),this.Wa()||this.xa()?(this.Kh+=C.Bh,_.R.info("start(): assetName="+_.gt.assetName)):_.R.info("start()"+_.Ya())},this.qa=function(){this.pa=!0},this.Ja=function(){this.R.debug("initialize()"),(this.Wa()||this.xa()||this.Xa())&&(_.Qa(),_.Za(),_.za(),this.Wa()||this.xa())&&_.$a()},this.tf=function(){this.R.debug("end(): schedule the last hb before session cleanup"+_.Ya()),this.nf(),this.if(),this.ef(),this.sf()},this.rf=function(){this.pa||(this.sf(),this.uf())},this.oh=function(t){var n=_.$h;n!==t&&t&&(_.R.debug("Change browserName from "+n+" to "+t),_.$h=t)},this.rh=function(t){var n=_.ta;n!==t&&t&&(_.R.debug("Change browserVersion from "+n+" to "+t),_.ta=t)},this.uh=function(t){var n=_.na;n!==t&&t&&(_.R.debug("Change deviceBrand from "+n+" to "+t),_.na=t)},this.hh=function(t){var n=_.ia;n!==t&&t&&(_.R.debug("Change deviceManufacturer from "+n+" to "+t),_.ia=t)},this.ah=function(t){var n=_.ea;n!==t&&t&&(_.R.debug("Change deviceModel from "+n+" to "+t),_.ea=t)},this.fh=function(t){var n=_.sa;n!==t&&t&&(_.R.debug("Change deviceType from "+n+" to "+t),_.sa=t)},this.lh=function(t){var n=_.oa;n!==t&&t&&(_.R.debug("Change deviceVersion from "+n+" to "+t),_.oa=t)},this._h=function(t){var n=_.ha;n!==t&&t&&(_.R.debug("Change operatingSystemName from "+n+" to "+t),_.ha=t)},this.Rh=function(t){var n=_.aa;n!==t&&t&&(_.R.debug("Change operatingSystemVersion from "+n+" to "+t),_.aa=t)},this.ph=function(t){var n=_.fa;n!==t&&t&&(_.R.debug("Change deviceCategory from "+n+" to "+t),_.fa=t)},this.Th=function(t){var n=_.ca;n!==t&&t&&(_.R.debug("Change screenWidth from "+n+" to "+t),_.ca=t)},this.Ah=function(t){var n=_.la;n!==t&&t&&(_.R.debug("Change screenHeight from "+n+" to "+t),_.la=t)},this.Sh=function(t){var n=_.fa;n!==t&&t&&(_.R.debug("Change scaleFactor from "+n+" to "+t),_.va=t)},this.hf=function(){return _.ra},this.dh=function(t){var n=_.ra;n!==t&&t&&(_.R.debug("Change frameworkName from "+n+" to "+t),_.ra=t)},this.af=function(){return _.ua},this.Eh=function(t){var n=_.ua;n!==t&&t&&(_.R.debug("Change frameworkVersion from "+n+" to "+t),_.ua=t)},this.gh=function(t){var n;_.gt.streamUrl||(n=_.pn)!==t&&t&&(_.R.debug("Change stream url from "+n+" to "+t),_.pn=t)},this.ff=function(){_.if(),_.Ma||(_.cf(),_.Da=_.$i.create(_.cf,_.Pa,"CwsSession.startCdnTimer"),_.R.debug("fetching cdn ip timer started"))},this.if=function(){_.Da&&(_.Da(),_.lf(null,null,null,null,null),_.Da=null)},this.cf=function(){_.R.debug("detectCDNServerIp(): For "+_.pn),_.ba?_.vf():_.if()},this.vf=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",_.pn,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?_.lf("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):_.lf("null","header","null","null",""+this.status))},t.send()):_.R.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){_.R.info("Exception caught in makeAkamaiHeadRequest")}},this.lf=function(t,n,i,e,s){var o={},r={};_.ga!==t&&(null!==_.ga&&(r[I.Sr]=_.ga),_.ga=t,null===_.ga?o[I.Sr]="null":o[I.Sr]=_.ga),_.Ia!==n&&(null!==_.Ia&&(r[I.Or]=_.Ia),_.Ia=n,null===_.Ia?o[I.Or]="null":o[I.Or]=_.Ia),_.Ca!==i&&(null!==_.Ca&&(r[I.Nr]=_.Ca),_.Ca=i,null===_.Ca?o[I.Nr]="null":o[I.Nr]=_.Ca),_.ya!==e&&(null!==_.ya&&(r[I.wr]=_.ya),_.ya=e,null===_.ya?o[I.wr]="null":o[I.wr]=_.ya),_.ma!==s&&(null!==_.ma&&(r[I.gr]=_.ma),_.ma=s,null===_.ma?o[I.gr]="null":o[I.gr]=_.ma),"{}"!==JSON.stringify(o)&&_.df(o,r)},this.Ef=function(t){var n=_.wn;n!==t&&t>0&&(_.R.info("Change bitrate from "+n+" to "+t),_._f(n,t),_.wn=t)},this.Oh=function(t){var n=_.ui;n!==t&&t>=0&&(_.R.info("Change dropped frames total from "+n+" to "+t),_.Rf(n,t),_.ui=t)},this.ls=function(t){var n=_.qh,i=t+(-1===_.qh?0:_.qh);n!==t&&i>=0&&(_.R.info("Change dropped frames count from "+n+" to "+i),_.pf(n,i),_.qh=i)},this.$u=function(t){var n=_.Jh;n!==t&&t&&(_.R.info("Change resource from "+n+" to "+t),_.Jh=t)},this.ju=function(t){_.vn!==t&&t&&(_.R.info("Change assetName from "+_.vn+" to "+t),_.vn=t)},this.Pu=function(t){var n=_.Zh;n!==t&&m.Bi(t)&&(_.R.info("Change isLive from "+n+" to "+t),_.Zh=t)},this.Hu=function(t){var n=_._n;n!==t&&t&&(_.R.info("Change viewerId from "+n+" to "+t),_._n=t)},this.Gu=function(t){var n=_.Qh;n!==t&&t&&(_.R.info("Change playerName from "+n+" to "+t),_.Qh=t)},this.Ku=function(t){var n=_.zh;!m.Tf(n,t)&&t&&(_.R.info("Change tags from "+m.Af(n)+" to "+m.Af(t)),_.zh=t)},this.th=function(t){_.gt.encodedFrameRate>0||(_.R.debug("setEncodedFrameRate(): "+t),_.On=t)},this.Zu=function(t){_.gt.duration>0||(_.R.debug("setContentLength(): "+t),_.Xh=t)},this.Pe=function(t){var n;_._a||t!==A.PlayerState.PLAYING||(_._a=!0,m.yt(_.gt.viewerId)||_.R.error("Missing viewerId. viewerId should be updated before first frame is rendered."),m.yt(_.gt.streamType)&&c.StreamType.UNKNOWN!==_.gt.streamType||_.R.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),m.yt(_.gt.applicationName))||_.R.error("Missing applicationName. applicationName should be updated before first frame is rendered."),_.gn!==t&&(n=_.gn,_.R.info("setPlayerState(): changing player state from "+n+" to "+t),_.Sf(n,t),_.gn=t)},this.Of=function(t){var n=_.bn;n!==t&&t>0&&(_.R.debug("Change stream resolution width from "+n+" to "+t),_.Nf(n,t),_.bn=t)},this.wf=function(t){var n=_.Mn;n!==t&&t>0&&(_.R.debug("Change stream resolution height from "+n+" to "+t),_.gf(n,t),_.Mn=t)},this.yh=function(t){var n=_.M;n!==t&&t&&(_.R.debug("Change network connection type from "+n+" to "+t),_.If(n,t),_.M=t)},this.mh=function(t){var n=_.L;n!==t&&t&&(_.R.debug("Change network link encryption from "+n+" to "+t),_.Cf(n,t),_.L=t)},this.Mh=function(t){_.Ma=!0,_.if();var n=_.Je;n!==t&&m.yt(t)&&(_.R.debug("Change CDN Server IP from "+n+" to "+t),_.yf(n,t),_.Je=t)},this.mf=function(t){var n;_.R.debug("togglePauseJoin()"),_.Ea===t?_.R.debug("togglePauseJoin(): same value, ignoring"):(t=_.Ea,n=!_.Ea,_.Df(t,n),_.Ea=!_.Ea)},this.Pf=function(t,n){_.bf(t,n)},this.Mf=function(t,n){var i;n[I.qr]=t,n[I.Xr]=this.Lf(),n[I.Jr]=this.Ua.Uf(),this.pe&&(t=b.Vf(this.pe.getPHT(),0,null,-1),i=b.Vf(this.pe.getBufferLength(),0,null,-1),t>=0&&(n[I.hr]=t),i>0)&&(n[I.ar]=i),this.Ua.kf(n)},this.Ff=function(t){_.pe=t,_.pe?_.Bf():_.Hf()},this.nf=function(){var t=this.ka.so(this.jf(),this.Lf());this.Ua.kf(t)},this.bf=function(t,n){var i={};i[I.zr]=t,i[I.$r]=n,this.Mf(I.Eo,i)},this._f=function(t,n){var i={},e={};t>0&&(e[I.tr]=t),i[I.tr]=n,this.df(i,e)},this.Gf=function(t,n){var i={};i[I.Qr]=t,n>=0&&(i[I.Zr]=n),this.Mf(I.Ro,i)},this.Nf=function(t,n){var i={},e={};-1!==t&&(e[I.dr]=t),i[I.dr]=n,this.df(i,e)},this.gf=function(t,n){var i={},e={};-1!==t&&(e[I.Er]=t),i[I.Er]=n,this.df(i,e)},this.If=function(t,n){var i={},e={};null!==t&&(e[I._r]=t),i[I._r]=n,this.df(i,e)},this.Cf=function(t,n){var i={},e={};null!==t&&(e[I.Rr]=t),i[I.Rr]=n,this.df(i,e)},this.yf=function(t,n){var i={},e={};m.yt(t)&&(e[I.hu]=t),i[I.hu]=n,this.df(i,e)},this.Rf=function(t,n){var i={},e={};t>=0&&(e[I.pr]=t),i[I.pr]=n,this.df(i,e)},this.pf=function(t,n){var i={},e={};t>=0&&(e[I.Tr]=t),i[I.Tr]=n,this.df(i,e)},this.Df=function(t,n){var i={},e={};e[I.zo]=t,i[I.zo]=n,this.df(i,e)},this.Sf=function(t,n){var i={},e={};i[I.$o]=I.au(n),e[I.$o]=I.au(t),this.df(i,e)},this.df=function(t,n){var i={};i[I.tu]=t,n&&m.Ft(n)>0&&(i[I.nu]=n),this.Mf(I.do,i)},this.Kf=function(t,n){var i={};i[I.iu]=t,m.Ft(n)>0&&(i[I.eu]=n),this.Mf(I._o,i)},this.ef=function(){_.Hh&&(_.Hh(),_.Hh=null)},this.uf=function(){_.ef();var t=1e3*_.Ti.heartbeatInterval;_.Hh=_.$i.create(_.sf,t,"Session.sendHeartbeat:"+this.Ka)},this.Hf=function(){_.Ta&&(_.Ta(),_.Ta=null)},this.Bf=function(){_.Hf(),_.Ta=_.$i.create(_.Wf,_.Aa,"Session.startRfpsTimer")},this.xf=function(){var t={err:"pending"};t.seq=_.Gh-1,t.sentAt=_.Lf(),t.rtt=-1,_.xh.push(t);for(var n=0;n<_.xh.length;n++)"ok"===(t=_.xh[n]).err&&(_.xh.splice(n,1),n--)},this.Yf=function(t,n){for(var i=0;i<_.xh.length;i++){var e=_.xh[i];e.seq===t&&(e.rtt=_.Lf()-e.sentAt,e.err=n)}},this.qf=function(t){for(var n=0;n<_.xh.length;n++){var i=_.xh[n];i.seq===t&&(i.rtt=_.Lf()-i.sentAt,i.err="ok")}},this.Jf=function(){for(var t,n,i=_.Ba.get(y.Xf),e=[],s=-1,o=0;o<_.xh.length;o++)if("ok"===(n=_.xh[o]).err){s=n.seq;break}for(var r=0;r<_.xh.length;r++)((t=(n=_.xh[r]).seq)<_.Gh-i||t<s)&&e.push(r);for(var u=[],h=0;h<_.xh.length;h++)t=(n=_.xh[h]).seq,e.indexOf(h)<0&&u.push(_.xh[h]);_.xh=u},this.Qf=function(){_.Jf();for(var t=[],n=0;n<_.xh.length;n++){var i=_.xh[n],e={};e[I.su]=i.seq,e[I.ru]=i.rtt,e[I.ou]=i.err,t.push(e)}return t},this.Zf=function(){var t,n=-1,i=-1,e=_.Ua.Ha();if(_.Xa()&&0===e.length)return null;var s=new Z,o=(s.yu(I.Po),s.Mu(_.Ti.customerKey),s.Lu(_.Ba.get(y.F)),s.Fu(_.Ga.I),s.bu(_.Gh),s.Vu(I.version),T.version);if(_.Ai&&(o=_.Ai),s.Uu(o),s.Bu(_.zi.I),s.ku(0),_.zi.M?s.yh(_.zi.M):_.M&&s.yh(_.M),_.zi.L?s.mh(_.zi.L):_.L&&s.mh(_.L),m.yt(_.Je)&&s.Mh(_.Je),s.sh(I.vo),_.$h&&s.oh(_.$h),_.ta&&s.rh(_.ta),_.na&&s.uh(_.na),_.ia&&s.hh(_.ia),_.ea&&s.ah(_.ea),_.sa&&s.fh(_.sa),_.oa&&s.lh(_.oa),_.ha&&s._h(_.ha),_.aa&&s.Rh(_.aa),_.fa&&s.ph(_.fa),_.ra&&s.dh(_.ra),_.ua&&s.Eh(_.ua),_.ca&&!isNaN(_.ca)&&s.Th(parseInt(_.ca,10)),_.la&&!isNaN(_.la)&&s.Ah(parseInt(_.la,10)),_.va&&!isNaN(_.va)?s.Sh(parseFloat(_.va)):(_.ca&&!isNaN(_.ca)||_.la&&!isNaN(_.la))&&s.Sh(1),_.pe&&(_.Dn=_.pe.Kn(),_.Dn&&s.setModuleName(_.Dn),_.Pn=_.pe.Wn(),_.Pn&&s.bh(_.Pn),_.pe.xn()&&(_.ra=_.pe.xn(),s.dh(_.ra)),_.pe.qn())&&(_.ua=_.pe.qn(),s.Eh(_.ua)),_._n&&s.Hu(_._n),m.Ft(_.zh)>0&&s.Ku(_.zh),_.Wa()||_.xa()){_.xa()&&s.Dh(),_.vn&&s.ju(_.vn),s.Wu(_.Kh);o=I.au(_.gn),o=(s.Pe(o),s.Qu(_.Ea),_.Qh&&s.Gu(_.Qh),m.Bi(_.Zh)&&s.Pu(_.Zh),_.Xh>0&&s.Zu(_.Xh),_.wn>0&&s.zu(_.wn),null!==_.Jh&&s.$u(_.Jh),_.On>0&&s.th(_.On),_.pe&&(n=b.Vf(_.pe.getPHT(),0,null,-1),i=b.Vf(_.pe.getBufferLength(),0,null,-1)),m.Ot(_.zi.U)?t=_.zi.U:_.pe&&(t=_.pe.getSignalStrength()),n>=0&&s.Nh(n),i>0&&s.wh(i),_.zf());if(o>0&&s.nh(o),_.Oa>0&&s.eh(b.Vf(_.Oa,0,null,-1)),_.Sa>0&&s.ih(b.Vf(_.Sa,0,null,-1)),t!==A.DEFAULT_SIGNAL_STRENGTH&&s.Ph(t),_.pn&&s.gh(_.pn),_.bn>0&&s.Ih(_.bn),_.Mn>0&&s.Ch(_.Mn),_.ui>-1&&s.Oh(_.ui),_.qh>-1&&(s.ls(_.qh),_.qh>0)&&(_.pf(_.qh,0),_.qh=0),"undefined"!==typeof _.da)for(var r in _.da)s.Iu(r,_.da[r])}else s.Wu(I._u.Ru);return e.length>0&&s.Yu(e),s.xu(_.Wh),s.qu(!0),_.Ba.get(y.$f)&&s.Ju(_.Si.Ha()),_.Ba.get(y.Xf)>0&&(n=_.Qf()).length>0&&s.Xu(n),0===_.Gh&&(s=_.tc(s)),(s=0!==_.Gh?_.nc(s):s).Du(_.jh),s.mu(_.Lf()),_.ba&&(s.Lh(_.ga),s.Uh(_.Ia),s.Vh(_.Ca),s.kh(_.ya),s.Fh(_.ma)),_.Gh++,s.get()},this.nc=function(t){var n,i=_.m,e={};for(n in t.gu.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.gu.tags[n]);t.gu.tags=e,_.m={};for(var s=0;s<_.Na.length;s++)Object.prototype.hasOwnProperty.call(_.zi.m,_.Na[s])?Object.prototype.hasOwnProperty.call(_.zi.P,_.Na[s])?_.zi.P[_.Na[s]]===y.Zt.zt?(_.m[y.ic+""+_.Na[s]]=y.Zt.zt,_.zi.D("End-user chose to opt-out of personal data collection")):_.zi.P[_.Na[s]]===y.Zt.tn?(_.m[y.ic+""+_.Na[s]]=y.Zt.tn,_.zi.D("End-user chose to opt-out of personal data collection")):_.zi.P[_.Na[s]]===y.Zt.Qt?(_.m[y.ic+""+_.Na[s]]=y.Zt.Qt,_.zi.D("End-user used privacy settings and chose to opt-out of personal data collection")):(_.m[y.ic+""+_.Na[s]]=_.zi.m[_.Na[s]],_.zi.D("Data collection successful")):(_.m[y.ic+""+_.Na[s]]=_.zi.m[_.Na[s]],_.zi.D("Data collection successful")):_.m[y.ic+""+_.Na[s]]=y.Zt.ec;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(_.Na)&&-1!==_.Na.indexOf(""+u[2])||i[y.ic+""+u[2]]===y.Zt.sc||(_.zi.D("Data collection restricted from Conviva back-end"),_.m[y.ic+""+u[2]]=y.Zt.sc,r[y.ic+""+u[2]]=y.Zt.sc)}if("{}"!==JSON.stringify(_.m)){var h,a=m.oc(_.m);for(h in t.gu.tags)a[h]=t.gu.tags[h];if(t.gu.tags=a,!m.Tf(i,_.m)){var f={};if("{}"!==JSON.stringify(r)&&(f[I.Yo]=r),"{}"!==JSON.stringify(i)){for(var c in i)_.m[c]&&i[c]!==_.m[c]&&(f[I.Yo]||(f[I.Yo]={}),f[I.Yo][c]=_.m[c]);for(var l in _.m)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===_.m[l]||(f[I.Yo]||(f[I.Yo]={}),f[I.Yo][l]=_.m[l])}"{}"===JSON.stringify(i)&&(f[I.Yo]=_.m);var v,d,E={};E[I.tu]=f,E[I.qr]=I.do,E[I.Xr]=_.Lf(),E[I.Jr]=_.Ua.Uf(),_.pe&&(v=b.Vf(_.pe.getPHT(),0,null,-1),d=b.Vf(_.pe.getBufferLength(),0,null,-1),v>=0&&(E[I.hr]=v),d>0)&&(E[I.ar]=d),t.gu.evs||(t.gu.evs=[]),t.gu.evs.push(E)}}return t},this.tc=function(t){var n=_.rc();if("{}"!==JSON.stringify(n)){var i,e=m.oc(n);for(i in t.gu.tags)e[i]=t.gu.tags[i];t.gu.tags=e;var s,o={},n=(o[I.Yo]=n,{});n[I.tu]=o,n[I.qr]=I.do,n[I.Xr]=_.Lf(),n[I.Jr]=_.Ua.Uf(),_.pe&&(o=b.Vf(_.pe.getPHT(),0,null,-1),s=b.Vf(_.pe.getBufferLength(),0,null,-1),o>=0&&(n[I.hr]=o),s>0)&&(n[I.ar]=s),t.gu.evs||(t.gu.evs=[]),t.gu.evs.push(n)}return t},this.rc=function(){var t={};if("undefined"!==typeof navigator&&navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=_.uc();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]="undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:""),t},this.uc=function(){try{if("undefined"!==typeof document&&document){var t,n,i=document.createElement("CANVAS");if("undefined"!==typeof i&&i&&"function"===typeof i.getContext)return t=i.getContext("2d"),n="conviva",t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(n,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),g.io(i.toDataURL())}return""}catch(t){return""}},this.sf=function(){var t;_.Ra||(t=_.Zf())&&_.hc(t)},this.Wf=function(){var t;_.gn===A.PlayerState.PLAYING&&_.pe&&(t=_.pe.getRenderedFrameRate())>0&&(_.Oa+=t,_.Sa++)},this.zf=function(){return _.Oa>0&&_.Sa>0||(this.Wf(),_.Oa>0&&_.Sa>0)?m.ac.Cast(+_.Oa/_.Sa):A.DEFAULT_RENDERED_FRAME_RATE},this.hc=function(t){_.xf();var i=_.Gh-1;_.R.info("postHeartbeat(): Send HB["+i+"]"+_.Ya());_.Va.fc(t,function(t,n){_.cc(t,n,i)})},this.cc=function(i,e,s){_.Ra||_.N.k("onHeartbeatResponse",function(){var t,n;i?e?(_.R.debug("onHeartbeatResponse(): received valid response for HB["+s+"]"),_.qf(s),(t=e[I.So])&&t!==(n=_.Ba.get(y.F))&&(_.R.debug("onHeartbeatResponse(): setting the client id to "+t+" (from gateway)"),_.Ba.set(y.F,t),_.Ba.lc(),n===I.B)&&t!==I.B&&_.zi.V(),(n=e[I.Ao])&&n!==I.To&&_.R.error("onHeartbeatResponse(): error from gateway: "+n),"object"===typeof(t=e[I.Oo])&&((n=t[I.wo])>=0&&_.Ba.get(y.Xf)!==n&&(_.R.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+n+" (from gateway)"),_.Ba.set(y.Xf,n)),n=t[I.Io],(n=!!m.Bi(n)&&n)!==_.Ba.get(y.$f)&&(_.R.debug("onHeartbeatResponse(): turning "+(n?"on":"off")+" sending of logs"),_.Ba.set(y.$f,n)),n=t[I.Co],m.Ot(n)&&(n=m.ac.Cast(n))!==_.Ti.heartbeatInterval&&(_.R.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),_.Ti.heartbeatInterval=n,_.Hh)&&_.uf(),(n=t[I.yo])&&n!==_.Ti.gatewayUrl&&(_.R.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),_.Ti.gatewayUrl=n),_.vc()||(_.Na={},(n=t[I.mo])&&(_.wa||(_.wa=!0),_.R.debug("onHeartbeatResponse(): received fp from gateway: "+n),_.Na=n.split(",")),_.ba=t[I.Do],m.Bi(_.ba)&&(_.ba?(_.R.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),_.Da||_.ff()):_.if())))):_.R.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(m.yt(n=e)?m.dc(n,"HTTP timeout")?_.R.warning("onHeartbeatResponse(): "+n):_.R.error("onHeartbeatResponse(): failed to send heartbeat: "+n):(n=z.Ec,_.R.error("onHeartbeatResponse(): "+n)),_.Yf(s,n))})},this.Lf=function(){return m.ac.Cast(_.Fa.current()-_.jh)},this.jf=function(){return this.Ua.Uf()},this.Ya=function(){return this.Xa()?" (global session)":""},this.Xa=function(){return this.Ka===C.St.Ru},this.vc=function(){return this.Ka===C.St.Ru&&"T"===this.zh["c3.IPV4IPV6GlobalSession"]},this.Wa=function(){return this.Ka===C.St.At},this.xa=function(){return this.Ka===C.St.Ct},this.Pt=function(t){_._c(t),_.Qa()},this._c=function(t){var n={},i={};if(m.yt(t.assetName)&&(_.gt.assetName!==t.assetName?(_.gt.assetName&&(n[I.Wo]=_.gt.assetName),i[I.Wo]=t.assetName,_.gt.assetName=t.assetName):_.R.warning("mergeContentMetadata(): assetName was not changed.")),m.yt(t.applicationName)&&(_.gt.applicationName!==t.applicationName?(_.gt.applicationName&&(n[I.xo]=_.gt.applicationName),i[I.xo]=t.applicationName,_.gt.applicationName=t.applicationName):_.R.warning("mergeContentMetadata(): applicationName was not changed.")),m.yt(t.streamUrl)&&(_.gt.streamUrl!==t.streamUrl?(_.gt.streamUrl&&(n[I.cr]=_.gt.streamUrl),i[I.cr]=t.streamUrl,_.gt.streamUrl=t.streamUrl,_.pn=_.gt.streamUrl):_.R.warning("mergeContentMetadata(): streamUrl was not changed.")),m.yt(t.viewerId)&&(_.gt.viewerId!==t.viewerId?(_.gt.viewerId&&(n[I.Ko]=_.gt.viewerId),i[I.Ko]=t.viewerId,_.gt.viewerId=t.viewerId):_.R.warning("mergeContentMetadata(): viewerId was not changed.")),m.yt(t.defaultResource)&&(_.gt.defaultResource!==t.defaultResource?(_.gt.defaultResource&&(n[I.ur]=_.gt.defaultResource),i[I.ur]=t.defaultResource,_.gt.defaultResource=t.defaultResource):_.R.warning("mergeContentMetadata(): defaultResource was not changed.")),m.Ot(t.duration)&&t.duration>0&&(_.gt.duration!==t.duration?(_.Xh>0&&(n[I.nr]=_.Xh),i[I.nr]=t.duration,_.gt.duration=t.duration,_.Xh=_.gt.duration):_.R.warning("mergeContentMetadata(): duration was not changed.")),m.Ot(t.encodedFrameRate)&&t.encodedFrameRate>0&&(_.gt.encodedFrameRate!==t.encodedFrameRate?(_.gt.encodedFrameRate>-1&&(n[I.ir]=_.gt.encodedFrameRate),i[I.ir]=t.encodedFrameRate,_.gt.encodedFrameRate=t.encodedFrameRate,_.On=_.gt.encodedFrameRate):_.R.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(_.gt.streamType!==t.streamType?(_.gt.streamType!==c.StreamType.UNKNOWN&&(_.gt.streamType===c.StreamType.LIVE?n[I.Uo]=!0:n[I.Uo]=!1),t.streamType===c.StreamType.LIVE?i[I.Uo]=!0:i[I.Uo]=!1,_.gt.streamType=t.streamType):_.R.warning("mergeContentMetadata(): streamType was not changed.")),m.Ft(t.custom)>0){var e,s={},o={};for(e in t.custom)_.gt.custom[e]!==t.custom[e]?(s[e]=t.custom[e],_.gt.custom[e]&&(o[e]=_.gt.custom[e]),_.gt.custom[e]=t.custom[e]):_.R.info("mergeContentMetadata(): custom."+e+" was not changed.");m.Ft(s)>0?(m.Ft(o)>0&&(n[I.Yo]=o),i[I.Yo]=s):_.R.warning("mergeContentMetadata(): custom was not changed.")}m.Ft(i)>0&&this.df(i,n)},this.Qa=function(){var t;_.R.debug("setStatesFromContentMetadata()"),_.gt.defaultResource&&this.$u(_.gt.defaultResource),_.gt.streamUrl&&this.gh(_.gt.streamUrl),_.gt.duration>0&&this.Zu(_.gt.duration),_.gt.encodedFrameRate>0&&this.th(_.gt.encodedFrameRate),_.gt.streamType!==c.StreamType.UNKNOWN&&(t=_.gt.streamType===c.StreamType.LIVE,this.Pu(t)),_.gt.assetName&&this.ju(_.gt.assetName),_.gt.viewerId&&this.Hu(_.gt.viewerId),(_.gt.applicationName||_.gt.playerName)&&this.Gu(_.gt.applicationName||_.gt.playerName),m.Ft(_.gt.custom)>0&&this.Ku(_.gt.custom)},this.Za=function(){var t={};if(this.Xa()||(_.gt.assetName?t[I.Wo]=_.gt.assetName:_.R.warning("enqueueEventForContentMetadata(): assetName was not set."),_.gt.applicationName?t[I.xo]=_.gt.applicationName:_.R.warning("enqueueEventForContentMetadata(): applicationName was not set."),_.gt.streamUrl?t[I.cr]=_.gt.streamUrl:_.R.warning("enqueueEventForContentMetadata(): streamUrl was not set."),_.gt.viewerId?t[I.Ko]=_.gt.viewerId:_.R.warning("enqueueEventForContentMetadata(): viewerId was not set."),_.gt.defaultResource?t[I.ur]=_.gt.defaultResource:_.R.warning("enqueueEventForContentMetadata(): defaultResource was not set."),_.gt.duration>-1?t[I.nr]=_.gt.duration:_.R.warning("enqueueEventForContentMetadata(): duration was not set."),_.gt.encodedFrameRate>-1?t[I.ir]=_.gt.encodedFrameRate:_.R.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),_.gt.streamType!==c.StreamType.UNKNOWN?_.gt.streamType===c.StreamType.LIVE?t[I.Uo]=!0:t[I.Uo]=!1:_.R.warning("enqueueEventForContentMetadata(): streamType was not set.")),m.Ft(_.gt.custom)>0)for(var n in t[I.Yo]={},_.gt.custom)t[I.Yo][n]=_.gt.custom[n];else this.Xa()||_.R.warning("enqueueEventForContentMetadata(): custom tags were not set.");m.Ft(t)>0&&this.df(t,null)},this.$a=function(){_.gt&&m.yt(_.gt.assetName)||_.R.warning("Missing assetName during session creation"),_.gt&&m.yt(_.gt.defaultResource)||_.R.warning("Missing resource during session creation"),_.gt&&m.yt(_.gt.streamUrl)||_.R.warning("Missing streamUrl during session creation"),(!_.gt||_.gt.encodedFrameRate<=0)&&_.R.warning("Missing encodedFrameRate during session creation"),_.gt&&m.yt(_.gt.viewerId)||_.R.warning("Missing viewerId during session creation"),_.gt&&_.gt.streamType&&c.StreamType.UNKNOWN!==_.gt.streamType||_.R.warning("Missing streamType during session creation"),_.gt&&m.yt(_.gt.applicationName)||_.R.warning("Missing applicationName during session creation"),(!_.gt||_.gt.duration<=0)&&_.R.warning("Missing duration during session creation")},this.Xt=function(t,n){_.da||(_.da={}),_.da[t]=n},this.za=function(){var t={};_.zi.M&&(t[I._r]=_.zi.M,_.M=_.zi.M),_.zi.L&&(t[I.Rr]=_.zi.L,_.L=_.zi.L),m.Ft(t)>0&&this.df(t,null)}}).Bh=I._u.At+I._u.pu+I._u.Tu,C.St={At:"Video",Ru:"Global",Ct:"Ad"},(z=U.Session=function(){var e=this;e.pe=null,e.I=0,e.Ka=C.St.At,e.Rc=!1,e.Ra=!1,e.Tc=!1,e.Ac=null,e.te=null,e.Sc=null,e.Oc=!1,e.Nc=A.PlayerState.NOT_MONITORED,e.wc=!1,e.gc=!1,e.Ic=!1,e.Cc=!1,e.yc=!1,function(t,n,i,e,s,o,r){this.I=t,this.Ka=n,this.Ba=i,this.mc=e,this.wt=s,this.N=o,this.R=r}.apply(e,arguments),this.ja=function(t,n){e.wt.ja(this),t&&e.Lt(t),e.Ba.Dc()?e.Pc(n):e.Ba.bc(function(){e.Pc(n)})},this.cleanup=function(){e.Rc=!0,e.wt.qa(),e.Ba.Dc()?e.Mc():e.Ba.bc(function(){e.Mc()})},this.Lc=function(){(e.Wa()||e.xa())&&e.pe&&e.Uc(),e.N=null,e.zi=null,e.Ba=null,e.mc=null,e.wt.Rt(),e.wt=null,e.Ra=!0},this.Mc=function(){e.wt.tf(),e.Lc()},this.Pc=function(t){e.wt.Ja(),e.Vc(),t?(e.Dt(t.Gs(),t.Ks()),e.wt.Pe(A.PlayerState.STOPPED),e.wt.tf(),e.Lc()):e.wt.rf()},this.Vc=function(){var t=e.mc.get(),n=t[L.BROWSER_NAME],n=(n&&e.wt.oh(n),t[L.BROWSER_VERSION]),n=(n&&e.wt.rh(n),t[L.DEVICE_BRAND]),n=(n&&e.wt.uh(n),t[L.DEVICE_MANUFACTURER]),n=(n&&e.wt.hh(n),t[L.DEVICE_MODEL]),n=(n&&e.wt.ah(n),t[L.DEVICE_TYPE]),n=(n&&e.wt.fh(n),t[L.DEVICE_VERSION]),n=(n&&e.wt.lh(n),t[L.FRAMEWORK_NAME]),n=(n&&e.wt.dh(n),t[L.FRAMEWORK_VERSION]),n=(n&&e.wt.Eh(n),t[L.OPERATING_SYSTEM_NAME]),n=(n&&e.wt._h(n),t[L.OPERATING_SYSTEM_VERSION]),n=(n&&e.wt.Rh(n),t[L.DEVICE_CATEGORY]),n=(n&&e.wt.ph(n),t[L.SCREEN_WIDTH]),n=(n&&e.wt.Th(n),t[L.SCREEN_HEIGHT]),n=(n&&e.wt.Ah(n),t[L.SCALE_FACTOR]);n&&e.wt.Sh(n)},this.$n=function(t){e.wt.gn===t||(e.wt.gn===A.PlayerState.NOT_MONITORED&&t!==A.PlayerState.NOT_MONITORED&&(e.Nc=t),e.Oc)||e.wt.Pe(t)},this.ti=function(t){e.wc||e.wt.Ef(t)},this.hi=function(t){e.gc||e.wt.Oh(t)},this.ai=function(t){e.gc||e.wt.ls(t)},this.ni=function(t,n){m.Ot(n)||(n=-1),e.wt.Gf(t,n)},this.Fn=function(t){t>0&&(e.Cc||e.wt.th(t))},this.jn=function(t){t>0&&(e.Cc||e.wt.Zu(t))},this.Gn=function(t){e.wt.gh(t)},this.ii=function(t){e.wt.Of(t)},this.ei=function(t){e.wt.wf(t)},this.tt=function(t){e.wt.yh(t)},this.it=function(t){e.wt.mh(t)},this.Yn=function(t){e.wt.hf()||e.wt.dh(t)},this.Jn=function(t){e.wt.af()||e.wt.Eh(t)},this.oi=function(t){e.wt.Mh(t)},this.si=function(t,n){e.Dt(t,n)},this.Vn=function(){e.Uc()},this.Gt=function(t,n,i){e.Tc||(e.Tc=!0,e.Ac=t,e.te=n,e.Sc=i,e.wt.mf(!0),e.Ac===a.AdStream.CONTENT||e.te===a.AdPlayer.SEPARATE?(e.wt.gn!==A.PlayerState.NOT_MONITORED&&(e.Nc=e.wt.gn),e.wt.Pe(A.PlayerState.NOT_MONITORED),e.Oc=!0):e.Ac===a.AdStream.SEPARATE&&e.te===a.AdPlayer.CONTENT&&(e.wt.gn!==A.PlayerState.NOT_MONITORED&&(e.Nc=e.wt.gn),e.wt.Pe(A.PlayerState.NOT_MONITORED),e.Oc=!0,e.wc=!0,e.gc=!0,e.Cc=!0,e.Ic=!0))},this.Kt=function(){e.Tc&&(e.wt.mf(!1),e.Ac===a.AdStream.CONTENT||e.te===a.AdPlayer.SEPARATE?e.kc||(e.Oc=!1,e.wt.Pe(e.Nc)):e.Ac===a.AdStream.SEPARATE&&e.te===a.AdPlayer.CONTENT&&(e.wc=!1,e.gc=!1,e.Cc=!1,e.Ic=!1,e.yc=!1,e.kc||(e.Oc=!1,e.wt.Pe(e.Nc))),e.Tc=!1,e.Ac=e.te=e.Sc=null)},this.bt=function(){e.pe&&e.pe&&(e.N.k("Session.detachPlayer",function(){e.pe.kn()}),e.pe=null,e.wt.Ff(null),e.wt.Pe(A.PlayerState.NOT_MONITORED))},this.Uc=function(){e.pe&&(e.N.k("Session.releasePlayerStateManager",function(){e.pe.kn()}),e.pe=null,e.wt.Ff(null),e.wt.Pe(A.PlayerState.NOT_MONITORED))},this.Mt=function(){e.wt.mf(!0),e.wt.gn!==A.PlayerState.NOT_MONITORED&&(e.Nc=e.wt.gn),e.wt.Pe(A.PlayerState.NOT_MONITORED),e.Oc=!0},this.Lt=function(t){e.pe||t instanceof A&&e.N.k("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.I)&&(t.Xn(),e.pe=t,e.wt.Ff(e.pe))})},this.Ut=function(){e.wt.mf(!1),e.wc=!1,e.gc=!1,e.Cc=!1,e.Ic=!1,e.yc=!1,e.kc||(e.Oc=!1,e.Nc!==A.PlayerState.NOT_MONITORED&&e.wt.Pe(e.Nc))},this.xt=function(){return e.pe},this.Vt=function(){e.kc||(e.kc=!0,e.Oc=!0)},this.kt=function(){e.kc&&(e.kc=!1,e.Tc||(e.Oc=!1,e.Nc!==A.PlayerState.NOT_MONITORED&&e.wt.Pe(e.Nc)))},this.Dt=function(t,n){!m.yt(t)||n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.yc||(n=n===a.ErrorSeverity.FATAL,e.wt.Pf(t,n))},this.Pt=function(t){e.N.k("Session.updateContentMetadata",function(){e.wt.Pt(t)})},this.jt=function(t,n){e.wt.Kf(t,n)},this.Xa=function(){return e.Ka===C.St.Ru},this.Wa=function(){return e.Ka===C.St.At},this.xa=function(){return e.Ka===C.St.Ct},this.Ya=function(){return e.Xa()?" (global session)":""},this.qt=function(){return this.I},this.Jt=function(){var t=null;return t=e.Ba.Dc()?e.Ba.get(y.F):t},this.Xt=function(t,n){e.wt.Xt(t,n)}}).Ec="received no response (or a bad response) to heartbeat POST request",$=U.SessionFactory=function(){var o=this;o.Si=null,o.Fc=0,o.Bc=null,function(t,n,i,e){o.zi=t,o.Ti=n,o.Ba=i,o.T=e,o.Fc=0,o.Bc={}}.apply(o,arguments),this.Rt=function(){for(var t in o.Si=null,o.Bc)o.Bc[t].cleanup();o.Bc=null,o.Fc=0},this.Hc=function(){var t=o.Fc;return o.Fc++,t},this.Tt=function(t,n,i,e,s){return t||(t=new c),o.jc(t,n,i,e,s)},this.W=function(t){return o.jc(t,C.St.Ru,void 0,T.version)},this.Gc=function(){return P.Kc()},this.jc=function(t,n,i,e,s){n=o.T.Li(o.zi,o.Ti,o.Ba,o.Gc(),n,t.ht(),e),t=o.Hc();return"undefined"!==typeof s&&"undefined"!==typeof s.error?n.ja(i,s.error):(o.Wc(t,n),n.ja(i)),t},this.Ht=function(t){t=o.Bc[t];return t},this.Nt=function(t){t=this.Ht(t);return t=!t||t.Wa()||t.xa()?t:null},this.Wc=function(t,n){o.Bc[t]=n},this.xc=function(t){delete o.Bc[t]},this.Wt=function(t){var n=o.Ht(t);o.xc(t),n.cleanup()},this.$=function(){return o.Bc}},tt=U.Yc=function(t){this.$i=t,this.qc=function(i,t,n){var e=!1;this.$i.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},(y=U.Config=function(t,n,i){var e=this;this.Xc=n,this.Qc=i,this.Zc={clientId:I.B,iid:I.uo,sendLogs:!1,maxHbInfos:I.ao},this.g=m.oc(this.Zc),this.zc=!1,this.$c=!1,this.tl=[],this.Dc=function(){return this.zc},this.vt=function(){this.Xc.vt(y.Jc,function(t,n){t&&e.nl(n),e.zc=!0,e.il()})},this.nl=function(t){var n,t=this.Qc.Nu(t);t?t&&(n=t[y.el],t=t[y.dt],n&&n!==I.B&&""!==n&&"null"!==n&&(this.g[y.F]=n),t!==I.uo)&&""!==t&&"null"!==t&&(this.g[y.dt]=t):this.$c=!0},this.sl=function(){var t={};return t[y.el]=this.g.clientId,this.Qc.Ou(t)},this.lc=function(){this.Xc.lc(y.Jc,this.sl(),function(t,n){})},this.bc=function(t){this.Dc()?t():this.tl.push(t)},this.get=function(t){return this.zc?this.g[t]:null},this.set=function(t,n){this.zc&&(this.g[t]=n)},this.il=function(){for(var t;"undefined"!==typeof(t=this.tl.shift());)t()}}).Jc="sdkConfig",y.el="clId",y.dt="iid",y.F="clientId",y.$f="sendLogs",y.Xf="maxHbInfos",y.ic="c3.fp.",y.Zt={ec:"0",ol:"1",zt:"2",Qt:"3",sc:"4",tn:"5",$t:"6"},nt=U.EventQueue=function(){this.rl=[],this.ul=0,this.kf=function(t){this.rl.push(t)},this.Uf=function(){var t=this.ul;return this.ul++,t},this.Ha=function(){var t=this.rl;return this.rl=[],t}},it=U.ExceptionCatcher=function(t,n,i){this.hl=n,this.O=i,this.k=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.O.allowUncaughtExceptions)throw t;this.al(n,t)}}},this.al=function(t,n){t="Uncaught exception: "+t+": "+n.toString();if(this.hl)try{this.hl.fc(t)}catch(t){}}},et=U.GatewayControl=function(t,n,i,e,s){var o=this;this.Ti=t,this.fl=i,this.Qc=e,this.cl=s,this.fc=function(t,e){var n=(this.cl?this.cl.indexOf("ipv4")>-1?this.Ti.H:this.Ti.Y:this.Ti.gatewayUrl)+I.ro;this.fl.ll("POST",n,this.Qc.Ou(t),"application/json",function(t,n){var i;t?(i=o.Qc.Nu(n),e(t,i)):e(t,n)})}},m=U.Lang={vl:function(t){return m.yt(t)&&t&&"undefined"!==t&&"null"!==t},Bt:function(t){var n,i,e={};for(n in t)m.vl(n)&&(i=t[n],m.vl(i))&&(e[n]=i);return e},Bn:function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.")},Ft:function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},It:function(t){return""+t},dl:function(t){return Math.floor(t)},hn:function(t){return Math.abs(m.dl(t))},El:function(t){return Boolean(t)},yt:function(t){return"string"===typeof t&&""!==t},dc:function(t,n){return"string"===typeof t&&"string"===typeof n&&"function"===typeof t.indexOf&&0===t.indexOf(n)},Bi:function(t){return"boolean"===typeof t},_l:function(t){return escape(t)},wu:function(t){return"object"===typeof t},Af:function(t){var n,i="";for(n in t)i+=n+"="+t[n];return"Object{"+i+"}"},Rl:function(t){var n,i=m.oc(t);for(n in i)i[n]||delete i[n];return i},oc:function(t){var n,i={};for(n in t)i[n]=t[n];return i},Tf:function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(m.Ft(t)!==m.Ft(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},Os:function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=arguments[n][i]);return t},Ot:function(t){return"number"===typeof t&&Math.round(t)===t},pl:function(t){return"[object Array]"===Object.prototype.toString.call(t)},Tl:function(t,n){if(t!==n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(m.pl(t[i])&&m.pl(n[i])){if(!m.Tl(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1}return!0},Al:function(){return"undefined"!==typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()},sn:function(t,n,i){if(m.Al())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},on:function(t,n,i){if(m.Al())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,i)}}},(N={two32:4294967296}).Sl=N.two32-1,N.Ol=0,m.Nl=N,m.Nl.Cast=function(t){t=parseInt(t,10);return t>N.Sl?t=t%N.two32:t<N.Ol&&(t=N.two32-(t=-t%N.two32)),t},m.Nl.wl=function(t){t=parseInt(t,10);return t<=N.Sl&&t>=N.Ol},w={Sl:2147483647,Ol:-2147483648},m.ac=w,m.ac.Cast=function(t){t=parseInt(t,10);return t>w.Sl?t=t%w.Sl:t<w.Ol&&(t=w.Sl-(t=-t%w.Sl)),t},m.ac.wl=function(t){t=parseInt(t,10);return t<=w.Sl&&t>=w.Ol},m.js=function(){return window&&window.location&&window.location.search?window.location.search:""},m.gl=function(){return document&&document.referrer?document.referrer:""},st=U.LogBuffer=function(){this.Il=[],this.Qs=function(t){this.Il.length>=32&&this.Il.shift(),this.Il.push(t)},this.Ha=function(){var t=this.Il;return this.Il=[],t}},(D=U.Ping=function(t,n,i,e){this.yl=!1,this.ml=null,this.R=t,this.R.setModuleName("Ping"),this.fl=n,this.Ti=i,this.Ai=e,this.fc=function(t){this.yl||(this.yl=!0,t=this.Dl()+"&d="+m._l(t.toString()),this.R.error("send(): "+t),this.fl.ll("GET",t,null,null,null),this.yl=!1)},this.Dl=function(){if(!this.ml){var t=D.Pl+"?comp="+D.Cl+"&clv="+(this.Ai||a.version);if(this.Ti&&(t+="&cid="+this.Ti.customerKey),t+="&sch="+I.vo,!this.Ti)return t;this.ml=t}return this.ml}}).Cl="sdkjs",D.Pl="https://pings.conviva.com/ping.ping",P=U.bl={Ml:4294967295,Ll:2147483647,Ul:-2147483648,Kc:function(){return Math.floor(Math.random()*P.Ml)+P.Ul},Et:function(){return Math.floor(Math.random()*P.Ml)}},b=U.Vl={Vf:function(t,n,i,e){return isNaN(t)||"number"!==typeof t||t===e?e:(e=m.dl(t),b.kl(e,n,i))},kl:function(t,n,i){return m.Ot(i)&&t>i?t=i:m.Ot(n)&&t<n&&(t=n),t},Sn:function(t){return t=-1!==t&&-2!==t?b.Vf(t,0,null,-1):t}},M=U.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.Gs=function(){return i.errorCode},this.Ks=function(){return i.severity}},ot=U.HttpClient=function(t,n,i,e){this.vi=n,this.Fl=i,this.O=e,this.ll=function(t,n,i,e,s){var o=1e3*this.O.httpTimeout,r=null;s&&(r=this.Fl.qc(s,o,"HTTP timeout")),this.vi.makeRequest(t,n,i,e,o,r)}},(rt=U.Logger=function(t,n,i,e,s){this._i=t,this.ci=n,this.S=i,this.Si=e,this.pi=s,this.debug=function(t){this.log(t,h.LogLevel.DEBUG)},this.info=function(t){this.log(t,h.LogLevel.INFO)},this.warning=function(t){this.log(t,h.LogLevel.WARNING)},this.error=function(t){this.log(t,h.LogLevel.ERROR)},this.log=function(t,n){t=this.Hl(t,n);this.Si.Qs(t),this.S.logLevel<=n&&this._i.consoleLog(t,n)},this.jl=function(t){return"["+this.Dn+"] "+t},this.Gl=function(t){return"["+this.pi+"] "+t},this.Kl=function(t){return"[Conviva] "+t},this.Wl=function(t){return"["+(this.ci.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+t},this.xl=function(t,n){return"["+rt.Bl(n)+"] "+t},this.Yl=function(t){return t=this.ql?"sid="+this.ql+" "+t:t},this.Fu=function(t){this.ql=t},this.setModuleName=function(t){this.Dn=t},this.Hl=function(t,n){return this.Kl(this.Wl(this.xl(this.Gl(this.jl(this.Yl(t))),n)))}}).Bl=function(t){var n;switch(t){case h.LogLevel.ERROR:n="ERROR";break;case h.LogLevel.WARNING:n="WARNING";break;case h.LogLevel.INFO:n="INFO";break;case h.LogLevel.DEBUG:n="DEBUG"}return n},U.Storage=function(t,n,i,e){this.di=n,this.Fl=i,this.O=e,this.vt=function(t,n){n=this.Fl.qc(n,1e3*this.O.storageTimeout,"storage load timeout");this.di.loadData(U.Storage.Jl,t,n)},this.lc=function(t,n,i){i=this.Fl.qc(i,1e3*this.O.storageTimeout,"storage save timeout");this.di.saveData(U.Storage.Jl,t,n,i)}},U.Storage.Jl="Conviva",(L=U.SystemMetadata=function(t,n,i){this.Ei=n,this.N=i,this.Xl=null,this.get=function(){return this.Xl||this.retrieve(),this.Xl},this.retrieve=function(){var t,n={},e=(n[L.BROWSER_NAME]=this.Ei.getBrowserName,n[L.BROWSER_VERSION]=this.Ei.getBrowserVersion,n[L.DEVICE_BRAND]=this.Ei.getDeviceBrand,n[L.DEVICE_MANUFACTURER]=this.Ei.getDeviceManufacturer,n[L.DEVICE_MODEL]=this.Ei.getDeviceModel,n[L.DEVICE_TYPE]=this.Ei.getDeviceType,n[L.DEVICE_VERSION]=this.Ei.getDeviceVersion,n[L.FRAMEWORK_NAME]=this.Ei.getFrameworkName,n[L.FRAMEWORK_VERSION]=this.Ei.getFrameworkVersion,n[L.OPERATING_SYSTEM_NAME]=this.Ei.getOperatingSystemName,n[L.OPERATING_SYSTEM_VERSION]=this.Ei.getOperatingSystemVersion,n[L.DEVICE_CATEGORY]=this.Ei.getDeviceCategory,n[L.SCREEN_WIDTH]=this.Ei.getScreenWidth,n[L.SCREEN_HEIGHT]=this.Ei.getScreenHeight,n[L.SCALE_FACTOR]=this.Ei.getScaleFactor,this);for(t in n)!function(n,i){e.N.k("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.Ei)})}(t,n),m.yt(n[t])||delete n[t];var i=!1;if("undefined"!==typeof n[L.DEVICE_TYPE]){for(var s in a.DeviceType)if(n[L.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete n[L.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof n[L.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(n[L.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete n[L.DEVICE_CATEGORY]}this.Xl=m.Rl(n)}}).BROWSER_NAME="browserName",L.BROWSER_VERSION="browserVersion",L.DEVICE_BRAND="deviceBrand",L.DEVICE_MANUFACTURER="deviceManufacturer",L.DEVICE_MODEL="deviceModel",L.DEVICE_TYPE="deviceType",L.DEVICE_VERSION="deviceVersion",L.FRAMEWORK_NAME="frameworkName",L.FRAMEWORK_VERSION="frameworkVersion",L.OPERATING_SYSTEM_NAME="operatingSystemName",L.OPERATING_SYSTEM_VERSION="operatingSystemVersion",L.DEVICE_CATEGORY="deviceCategory",L.SCREEN_WIDTH="screenWidth",L.SCREEN_HEIGHT="screenHeight",L.SCALE_FACTOR="scaleFactor",ut=U.Time=function(t,n){this.ci=t,this.R=n,this.current=function(){var t=this.ci.getEpochTimeMs();return m.Ot(t),t}},ht=U.Timer=function(t,n,i){var s=this;this.li=n,this.N=i,this.create=function(t,n,i){return this.createTimer(function(){s.N.k(i,function(){t()})},n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.N.k(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.li.createTimer(t,n,i)}}}(),ct});