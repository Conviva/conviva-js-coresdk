/*! (C) 2025 Conviva, Inc. All rights reserved. Confidential and proprietary. */
((t,n)=>{"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"===typeof t||!t||t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading)})(this,function(){var n,s,V,k,o,r,F,i,e,g,a,f,c,u,B,H,G,j,K,W,Y,x,h,l,d,q,I,X,J,v,E,_,R,p,Q,A,Z,T,S,O,N,z,$,w,tt,nt,it,C,et,st,ot,y,rt,m,D,P,b,ut,ht,L,at,ft,M,U={};function ct(){var t,n="";for("-"===s&&r(n="-");s>="0"&&s<="9";)n+=s,r();if("."===s)for(n+=".";r()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,r(),"-"!==s&&"+"!==s||(n+=s,r());s>="0"&&s<="9";)n+=s,r();if(t=+n,!isNaN(t))return t;o("Bad number")}function lt(){switch(s){case"t":return r("t"),r("r"),r("u"),r("e"),!0;case"f":return r("f"),r("a"),r("l"),r("s"),r("e"),!1;case"n":return r("n"),r("u"),r("l"),r("l"),null}o("Unexpected '"+s+"'")}function dt(){var t=[];if("["===s){if(r("["),i(),"]"===s)return r("]"),t;for(;s;){if(t.push(e()),i(),"]"===s)return r("]"),t;r(","),i()}}o("Bad array")}function vt(){var t,n={};if("{"===s){if(r("{"),i(),"}"===s)return r("}"),n;for(;s;){if(t=F(),i(),r(":"),Object.hasOwnProperty.call(n,t)&&o('Duplicate key "'+t+'"'),n[t]=e(),i(),"}"===s)return r("}"),n;r(","),i()}}o("Bad object")}function t(t){return t<10?"0"+t:t}function Et(t){return _.lastIndex=0,_.test(t)?'"'+t.replace(_,function(t){var n=Q[t];return"string"===typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}return M={},g=U.Constants={version:"4.7.14",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",AVG_BITRATE:"AVG_BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT",AUDIO_LANGUAGE:"AUDIO_LANGUAGE",SUBTITLES_LANGUAGE:"SUBTITLES_LANGUAGE",CLOSED_CAPTIONS_LANGUAGE:"CLOSED_CAPTIONS_LANGUAGE"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV",VEHICLE:"Vehicle",OTHER:"Other"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS",LINUX:"LNX"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement",APP_TRACKER_EVENT:{TYPE:"convivaVideoEvent",INIT:"c3.sdk.init",VIDEO_ATTEMPT:"c3.video.attempt",VIDEO_END:"c3.video.end",VIDEO_PLAY:"c3.video.play",VIDEO_PAUSE:"c3.video.pause",VIDEO_BUFFERING:"c3.video.buffering",VIDEO_ERROR:"c3.video.error",SDK_CUSTOM_EVENT:"c3.sdk.custom_event",VIDEO_CUSTOM_EVENT:"c3.video.custom_event",AD_BREAK_START:"c3.ad.ad_break_start",AD_BREAK_END:"c3.ad.ad_break_end",VIDEO_METADATA_CHANGE:"c3.video.set_content_info",VIDEO_BITRATE_SWITCH:"c3.video.bitrate_switch"}},(a=U.Client=function(){var h=this;this._=null,this.R=!1,this.version=a.version,this.p=null,this.A=null,this.T=null,this.S=-1,this.O=null,this.N=null,this.g=null,this.I=null,this.C=-1,this.m=!1,this.D={},this.P=function(){h.p},this.L={},this.M=null,this.U=null,this.V=null,this.k=function(){this.g.F("Client.makeIPV4IPV6GlobalSessions",function(){var t;h.I&&null!==(t=h.I.get(C.B))&&t!==N.H&&h.A&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.G.indexOf(f.j)>-1?f.j:f.K,h.W=h.A.Y(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.q.indexOf(f.X)>-1?f.X:f.J,h.Z=h.A.Y(t,null))})},this.$=function(i){h.g.F("Client.updateConnectionType",function(){if(h.M=i,h.A){var t,n=h.A.tt();for(t in n)n[t].nt(i)}})},this.it=function(i){h.g.F("Client.updateLinkEncryption",function(){if(h.U=i,h.A){var t,n=h.A.tt();for(t in n)n[t].et(i)}})},this.ot=function(t){h.g.F("Client.updateSignalStrength",function(){h.V=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof x))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.rt+f.ut&&t.gatewayUrl!==f.ht+f.ut||(this.R=!0),e&&(this.version=e),this.O=t.ct(),this.T=n,this.T.lt("SDK",this.O,this.version),this.g=this.T.dt(this.version),this.g.F("Client.init",function(){if(h.I=h.T.vt(),h.I.Et(),h.C=h.I.get(C._t),-1!==h.C&&void 0!==h.C&&null!==h.C||(h.C=D.Rt()),h.A=h.T.At(h,h.O,h.I),i)for(var t in i)switch(t){case g.Network.CONNECTION_TYPE:h.$(i[t]);break;case g.Network.LINK_ENCRYPTION:h.it(i[t]);break;case g.Network.SIGNAL_STRENGTH:h.ot(i[t])}h.k()},function(t){throw new Error("Client constructor failed: "+t.message)})}.apply(this,arguments),this.release=function(){this.m||this.g.F("Client.release",function(){h.p,h.A.Tt(),h.A=null,h.S=-1,h.C=-1,h.g=null,h.O=null,h.N=null,h.T=null,h.m=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.m||(!t||t instanceof c)&&this.g.F("Client.createSession",function(){e=h.A.St(t,w.Nt.Ot,n,(i?g:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.m||(!e||e instanceof c)&&this.g.F("Client.createAdSession",function(){var t,n;e||(e=new c),y.gt(i)&&i!==a.NO_SESSION_KEY&&(t=h.A.It(i))&&(n=e.custom[g.APPLICATION_VERSION],t.wt&&t.wt.Ct&&(!e.viewerId&&t.wt.Ct.viewerId&&(e.viewerId=t.wt.Ct.viewerId),!e.applicationName&&t.wt.Ct.applicationName&&(e.applicationName=t.wt.Ct.applicationName),e.streamType===g.StreamType.UNKNOWN&&t.wt.Ct.streamType!==g.StreamType.UNKNOWN&&(e.streamType=t.wt.Ct.streamType),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.wt.Ct.custom[g.APPLICATION_VERSION])&&n&&(e.custom[g.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=y.yt(t.C)),u=h.A.St(e,w.Nt.Dt,s,(o?g:h).version,r)}),u},this.reportError=function(n,i,e){this.m||!y.Pt(i)||e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.g.F("Client.reportError",function(){var t=h.A.It(n);t&&t.bt(i,e)})},this.updateContentMetadata=function(i,e){this.m||e instanceof c&&this.g.F("Client.updateContentMetadata",function(){var t,n=h.A.It(i);n&&(t=e.ct(),n.Lt(t))})},this.detachPlayer=function(n){this.m||this.g.F("Client.detachPlayer",function(){var t=h.A.It(n);t&&t.Mt()})},this.Ut=function(n){this.m||this.g.F("Client.offFocus",function(){var t=h.A.It(n);t&&t.Ut()})},this.attachPlayer=function(n,i){this.m||i instanceof u&&this.g.F("Client.attachPlayer",function(){var t=h.A.It(n);t&&t.Vt(i)})},this.kt=function(n){this.m||this.g.F("Client.onFocus",function(){var t=h.A.It(n);t&&t.kt()})},this.contentPreload=function(n){this.m||this.g.F("Client.contentPreload",function(){var t=h.A.It(n);t&&t.Ft()})},this.contentStart=function(n){this.m||this.g.F("Client.contentStart",function(){var t=h.A.It(n);t&&t.Bt()})},this.sendCustomEvent=function(i,e,s){this.m||y.Pt(e)&&(y.Ht(s),this.g.F("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.S<0&&(t=new c,h.S=h.A.Y(t,null)),i=h.S);var t=y.Gt(s),n=h.A.jt(i);n&&n.Kt(e,t)}))},this.adStart=function(n,i,e,s){this.m||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.g.F("Client.adStart",function(){var t=h.A.It(n);t&&t.Wt(i,e,s)}))},this.adEnd=function(n){this.m||this.g.F("Client.adEnd",function(){var t=h.A.It(n);t&&t.Yt()})},this.cleanupSession=function(t){this.m||t!==a.NO_SESSION_KEY&&this.g.F("Client.cleanupSession",function(){h.A.It(t)&&h.A.xt(t)})},this.getAttachedPlayer=function(n){var i=null;return this.m||n!==a.NO_SESSION_KEY&&this.g.F("Client.getAttachedPlayer",function(){var t=h.A.It(n);t&&(i=t.qt())}),i},this.isPlayerAttached=function(t){return!this.m&&null!==this.getAttachedPlayer(t)},this.getPlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return new u(this.T,(t?g:h).version)},this.releasePlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");this.g.F("Client.releasePlayerStateManager",function(){t instanceof u&&t.release()})},this.Xt=function(){return this.O},this.getId=function(){return this.C},this.getSessionId=function(n){var i;return this.m?g.NO_SESSION_KEY:(i=null,this.g.F("Client.getSessionId",function(){var t=h.A.It(n);t&&(i=t.Jt())}),i)},this.getClientId=function(n){var i;return this.m?null:(i=null,this.g.F("Client.getClientId",function(){var t=h.A.It(n);t&&(i=t.Qt())}),i)},this.Zt=function(n,i,e){this.m||this.g.F("Client.updateCustomMetric",function(){var t=h.A.It(n);t&&t.Zt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)this.D[i]=t[i];n&&(this.P=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.L[i]=n?C.$t.zt:C.$t.tn:this.L[i]=C.$t.nn},this.setUserPreferenceForDataDeletion=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.L[n]=C.$t.en:this.L[n]=C.$t.nn},this.getConfig=function(){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return this.I}}).version="4.7.14L",a.NO_SESSION_KEY=g.NO_SESSION_KEY,a.AdPosition={PREROLL:g.AdPosition.PREROLL,MIDROLL:g.AdPosition.MIDROLL,POSTROLL:g.AdPosition.POSTROLL},a.AdStream={CONTENT:g.AdPlayer.CONTENT,SEPARATE:g.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:g.AdPlayer.CONTENT,SEPARATE:g.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:g.ErrorSeverity.FATAL,WARNING:g.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:g.DeviceType.DESKTOP,CONSOLE:g.DeviceType.CONSOLE,SETTOP:g.DeviceType.SETTOP,MOBILE:g.DeviceType.MOBILE,TABLET:g.DeviceType.TABLET,SMARTTV:g.DeviceType.SMARTTV,VEHICLE:g.DeviceType.VEHICLE,OTHER:g.DeviceType.OTHER},a.AdTechnology={CLIENT_SIDE:g.AdType.CLIENT_SIDE,SERVER_SIDE:g.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:g.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:g.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:g.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:g.AdSlates.OTHER_SLATE,VPAID:g.AdSlates.VPAID,REGULAR:g.AdSlates.REGULAR},a.AdServingType={INLINE:g.AdServingType.INLINE,WRAPPER:g.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:g.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:g.DeviceCategory.APPLE_DEVICE,CHROMECAST:g.DeviceCategory.CHROMECAST,DESKTOP_APP:g.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:g.DeviceCategory.DEVICE_SIMULATOR,LG_TV:g.DeviceCategory.LG_TV,NINTENDO:g.DeviceCategory.NINTENDO,PLAYSTATION:g.DeviceCategory.PLAYSTATION,ROKU:g.DeviceCategory.ROKU,SAMSUNG_TV:g.DeviceCategory.SAMSUNG_TV,SMART_TV:g.DeviceCategory.SMART_TV,SET_TOP_BOX:g.DeviceCategory.SET_TOP_BOX,TIVO:g.DeviceCategory.TIVO,WEB:g.DeviceCategory.WEB,WINDOWS_DEVICE:g.DeviceCategory.WINDOWS_DEVICE,XBOX:g.DeviceCategory.XBOX,KAIOS_DEVICE:g.DeviceCategory.KAIOS_DEVICE,LINUX:g.DeviceCategory.LINUX},(f=U.ClientSettings=function(){var e=this;this.on=null,y.rn(this,"customerKey",function(){return this.on}),y.un(this,"customerKey",function(t){y.Pt(t)&&(this.on=t)}),this.hn=f.fn,y.rn(this,"heartbeatInterval",function(){return this.hn}),y.un(this,"heartbeatInterval",function(t){var n;"number"===typeof t&&(n=y.cn(t))===t&&(this.hn=n)}),this.ln=null,this.G=null,this.q=null,y.rn(this,"gatewayUrl",function(){return this.ln}),y.un(this,"gatewayUrl",function(t){var n;!y.Pt(t)||"https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1===t.indexOf(".com",t.length-".com".length)||(this.ln=t)}),function(t){if(!y.Pt(t))throw new Error("customerKey must be valid");this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.ct=function(){var t=new f(this.customerKey);return t.gatewayUrl=(t=>{if(y.Pt(t)){var n,i=t.split("://");if("https"===i[0]||"http"===i[0])return i[1]!==f.ut&&-1!==i[1].indexOf(f.ut)?(n=i[1].split(f.ut),e.G="https://"+n[0]+f.j,e.q="https://"+n[0]+f.X):(e.G="https://ipv4."+i[1],e.q="https://ipv6."+i[1]),t}return e.G="https://"+e.customerKey+"."+f.j,e.q="https://"+e.customerKey+"."+f.X,"https://"+e.customerKey+"."+f.ut})(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.G=this.G,t.q=this.q,t}}).sn="https://conviva.testonly.conviva.com",f.dn="https://cws.conviva.com",f.ut="cws.conviva.com",f.j="ipv4.cws.conviva.com",f.X="ipv6.cws.conviva.com",f.vn="conviva.testonly.conviva.com",f.K="ipv4.testonly.conviva.com",f.J="ipv6.testonly.conviva.com",f.rt="https://",f.ht="http://",f.En=5,f.fn=20,(c=U.ContentMetadata=function(){this._n=null,y.rn(this,"assetName",function(){return this._n}),y.un(this,"assetName",function(t){"string"===typeof t&&(this._n=t)}),this.Rn={},y.rn(this,"custom",function(){return this.Rn}),y.un(this,"custom",function(t){"object"===typeof t&&(this.Rn=y.Gt(t))}),this.An=null,y.rn(this,"defaultResource",function(){return this.An}),y.un(this,"defaultResource",function(t){"string"===typeof t&&(this.An=t)}),this.Tn=null,y.rn(this,"viewerId",function(){return this.Tn}),y.un(this,"viewerId",function(t){"string"===typeof t&&(this.Tn=t)}),this.Sn=null,y.rn(this,"applicationName",function(){return this.Sn}),y.un(this,"applicationName",function(t){"string"===typeof t&&(this.Sn=t)}),this.On=null,y.rn(this,"streamUrl",function(){return this.On}),y.un(this,"streamUrl",function(t){"string"===typeof t&&(this.On=t)}),this.Nn=c.StreamType.UNKNOWN,y.rn(this,"streamType",function(){return this.Nn}),y.un(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.Nn=t)}),this.gn=-1,y.rn(this,"duration",function(){return this.gn}),y.un(this,"duration",function(t){this.gn=P.In(t)}),this.wn=-1,y.rn(this,"encodedFrameRate",function(){return this.wn}),y.un(this,"encodedFrameRate",function(t){this.wn=P.In(t)}),function(){}.apply(this,arguments),this.ct=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}}).StreamType={UNKNOWN:g.StreamType.UNKNOWN,LIVE:g.StreamType.LIVE,VOD:g.StreamType.VOD},U.ErrorType={ERROR_UNKNOWN:g.ErrorType.ERROR_UNKNOWN,ERROR_IO:g.ErrorType.ERROR_IO,ERROR_TIMEOUT:g.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:g.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:g.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:g.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:g.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:g.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:g.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:g.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:g.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:g.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:g.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},U.Events={AD_REQUESTED:g.Events.AD_REQUESTED,AD_RESPONSE:g.Events.AD_RESPONSE,AD_SLOT_STARTED:g.Events.AD_SLOT_STARTED,AD_ATTEMPTED:g.Events.AD_ATTEMPTED,AD_SLOT_ENDED:g.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:g.Events.AD_IMPRESSION_START,AD_START:g.Events.AD_START,AD_FIRST_QUARTILE:g.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:g.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:g.Events.AD_THIRD_QUARTILE,AD_COMPLETE:g.Events.AD_COMPLETE,AD_END:g.Events.AD_END,AD_IMPRESSION_END:g.Events.AD_IMPRESSION_END,AD_SKIPPED:g.Events.AD_SKIPPED,AD_ERROR:g.Events.AD_ERROR,AD_PROGRESS:g.Events.AD_PROGRESS,AD_CLOSE:g.Events.AD_CLOSE,CONTENT_PAUSED:g.Events.CONTENT_PAUSED,CONTENT_RESUMED:g.Events.CONTENT_RESUMED,POD_START:g.Events.POD_START,POD_END:g.Events.POD_END},(u=U.PlayerStateManager=function(){var e=this;e.Cn=null,e.yn=-2,e.Dn=-2,e.Pn=u.PlayerState.UNKNOWN,e.bn={},e.Ln=-2,e.wn=-2,e.gn=-2,e.Mn=null,e.Un=null,e.On=null,e.Vn=null,e.kn=null,e.Fn=-1,e.Bn=-1,e.M=null,e.U=null,e.Hn=null,e.Gn=[],e.m=!1,e.jn=null,e.Kn=null,e.Wn=null,this.release=function(){e.m||e.g.F("PlayerStateManager.release",function(){e.Cn&&e.Cn.Yn(),e.xn(),e.T=null,e.g=null,e.m=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.wn},this.setEncodedFrameRate=function(n){e.m||e.g.F("PlayerStateManager.setEncodedFrameRate",function(){var t=P.In(n);t>=-1&&(e.wn=t,e.Cn)&&e.Cn.qn(e.wn)})},this.getDuration=function(){return e.gn},this.setClientMeasureInterface=function(t){y.Xn(t,new U.ClientMeasureInterface,"ClientMeasureInterface"),this.Jn=t},this.getPHT=function(){return this.Jn&&"function"===typeof this.Jn.getPHT?this.Jn.getPHT():u.DEFAULT_PHT},this.getBufferLength=function(){return this.Jn&&"function"===typeof this.Jn.getBufferLength?this.Jn.getBufferLength():u.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Jn&&"function"===typeof this.Jn.getSignalStrength?this.Jn.getSignalStrength():u.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Jn&&"function"===typeof this.Jn.getRenderedFrameRate?this.Jn.getRenderedFrameRate():u.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.m||e.g.F("PlayerStateManager.setDuration",function(){var t=P.In(n);t>=-1&&(e.gn=t,e.Cn)&&e.Cn.Qn(e.gn)})},this.getStreamUrl=function(){return e.On},this.setStreamUrl=function(t){e.m||e.g.F("PlayerStateManager.setStreamUrl",function(){t&&(e.On=t,e.Cn)&&e.Cn.Zn(e.On)})},this.zn=function(){return e.Vn},this.$n=function(){return e.kn},this.setModuleNameAndVersion=function(t,n){e.Vn=t,e.kn=n},this.ti=function(){return e.Un},this.setPlayerType=function(t){e.m||e.g.F("PlayerStateManager.setPlayerType",function(){e.Un=t,e.Cn&&e.Cn.ni(e.Un)})},this.ii=function(){return e.Mn},this.setPlayerVersion=function(t){e.m||e.g.F("PlayerStateManager.setPlayerVersion",function(){e.Mn=t,e.Cn&&e.Cn.ei(e.Mn)})},this.si=function(){return e.jn},this.setAudioLang=function(t){e.m||e.g.F("PlayerStateManager.setAudioLang",function(){e.jn=t,e.Cn&&e.Cn.oi(e.jn)})},this.ri=function(){return e.Kn},this.setSubtitleLang=function(t){e.m||e.g.F("PlayerStateManager.setSubtitleLang",function(){e.Kn=t,e.Cn&&e.Cn.ui(e.Kn)})},this.hi=function(){return e.Wn},this.setCcLang=function(t){e.m||e.g.F("PlayerStateManager.setCCLang",function(){e.Wn=t,e.Cn&&e.Cn.ai(e.Wn)})},this.setMonitoringNotifier=function(t){return!e.m&&!e.Cn&&(e.Cn=t,e.p,!0)},this.xn=function(){e.m||(e.Cn=null,e.p)},this.fi=function(){e.setPlayerState(e.getPlayerState()),e.setBitrateKbps(e.ci()),e.setAvgBitrateKbps(e.li()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.ti()),e.setPlayerVersion(e.ii()),e.setAudioLang(e.si()),e.setSubtitleLang(e.ri()),e.setCcLang(e.hi());for(var t=0;t<e.Gn.length;t++){var n=e.Gn[t];e.di(n)}e.Gn=[]},this.getPlayerState=function(){return e.Pn},this.setPlayerState=function(t){e.m||e.g.F("PlayerStateManager.setPlayerState",function(){u.vi(t)&&(e.Pn=t,e.Cn)&&e.Cn.Ei(e.Pn)})},this.ci=function(){return e.yn},this.setBitrateKbps=function(n){e.m||e.g.F("PlayerStateManager.setBitrateKbps",function(){var t=P.In(n);t>=-1&&(e.yn=t,e.Cn)&&e.Cn._i(e.yn)})},this.li=function(){return e.Dn},this.setAvgBitrateKbps=function(n){e.m||e.g.F("PlayerStateManager.setAvgBitrateKbps",function(){var t=P.In(n);t>=-1&&(e.Dn=t,e.Cn)&&e.Cn.Ri(e.Dn)})},this.setPlayerSeekStart=function(t){e.m||e.g.F("PlayerStateManager.setPlayerSeekStart()",function(){e.Cn&&e.Cn.pi(u.SEEK_ACTIONS_TYPE.SEEK_START,t)})},this.setPlayerSeekEnd=function(){e.m||e.g.F("PlayerStateManager.setPlayerSeekEnd()",function(){e.Cn&&e.Cn.pi(u.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.m||e.g.F("PlayerStateManager.setUserSeekButtonUp()",function(){e.Cn&&e.Cn.pi(u.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.m||e.g.F("PlayerStateManager.setUserSeekButtonDown()",function(){e.Cn&&e.Cn.pi(u.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.m||e.g.F("PlayerStateManager.setVideoResolutionWidth()",function(){var t=P.In(n);t>0&&(e.Fn=t),e.Cn&&e.Cn.Ai(e.Fn)})},this.setVideoResolutionHeight=function(n){e.m||e.g.F("PlayerStateManager.setVideoResolutionHeight()",function(){var t=P.In(n);t>0&&(e.Bn=t),e.Cn&&e.Cn.Ti(e.Bn)})},this.setConnectionType=function(t){e.m||e.g.F("PlayerStateManager.setConnectionType()",function(){e.M=t,e.Cn&&e.Cn.nt(e.M)})},this.setLinkEncryption=function(t){e.m||e.g.F("PlayerStateManager.setLinkEncryption()",function(){e.U=t,e.Cn&&e.Cn.et(e.U)})},this.setSignalStrength=function(){},this.di=function(t){var n;e.Hn=t,e.Cn?(n=t.errorCode,e.Cn.Si(n,t.severity)):e.Gn.push(t)},this.sendError=function(n,i){e.m||e.g.F("PlayerStateManager.sendError",function(){var t=new b(n,i);e.di(t)})},this.reset=function(){e.m||e.g.F("PlayerStateManager.reset",function(){e.yn=-2,e.Dn=-2,e.Pn=u.PlayerState.UNKNOWN,e.bn={},e.Ln=-1,e.wn=-1,e.gn=-1,e.Mn=null,e.Un=null,e.On=null,e.Hn=null,e.Gn=[]})},this.setCDNServerIP=function(t){e.m||e.g.F("PlayerStateManager.setCDNServerIP",function(){e.Cn&&e.Cn.Oi(t)})},this.Ni=function(){return e.gi},this.setDroppedFramesTotal=function(t){e.m||e.g.F("PlayerStateManager.setDroppedFramesTotal",function(){e.Cn&&e.Cn.Ii(t)})},this.setDroppedFramesCount=function(t){e.m||e.g.F("PlayerStateManager.setDroppedFramesCount",function(){e.Cn&&e.Cn.wi(t)})},this.Ci=function(){return e.Hn},function(t,n){e.T=t,e.g=e.T.dt(n)}.apply(e,arguments)}).PlayerState={STOPPED:g.PlayerState.STOPPED,PLAYING:g.PlayerState.PLAYING,BUFFERING:g.PlayerState.BUFFERING,PAUSED:g.PlayerState.PAUSED,UNKNOWN:g.PlayerState.UNKNOWN,NOT_MONITORED:g.PlayerState.NOT_MONITORED},u.vi=function(t){return t===u.PlayerState.STOPPED||t===u.PlayerState.PLAYING||t===u.PlayerState.BUFFERING||t===u.PlayerState.PAUSED||t===u.PlayerState.UNKNOWN||t===u.PlayerState.NOT_MONITORED},u.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},u.DEFAULT_SIGNAL_STRENGTH=1e3,u.DEFAULT_RENDERED_FRAME_RATE=-1,u.DEFAULT_BUFFER_LENGTH=-1,u.DEFAULT_PHT=-1,U.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},B=U.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},H=U.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},G=U.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},j=U.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},K=U.SystemInterface=function(){!function(t,n,i,e,s,o){y.Xn(t,new W,"TimeInterface"),y.Xn(n,new Y,"TimerInterface"),y.Xn(i,new B,"HttpInterface"),y.Xn(e,new j,"StorageInterface"),y.Xn(s,new G,"MetadataInterface"),y.Xn(o,new H,"LoggingInterface"),this.yi=t,this.mi=n,this.Di=i,this.Pi=e,this.bi=s,this.Li=o}.apply(this,arguments),this.release=function(){this.yi&&(this.yi.release(),this.yi=null),this.mi&&(this.mi.release(),this.mi=null),this.Di&&(this.Di.release(),this.Di=null),this.Pi&&(this.Pi.release(),this.Pi=null),this.bi&&(this.bi.release(),this.bi=null),this.Li&&(this.Li.release(),this.Li=null)}},W=U.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},Y=U.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},x=U.SystemFactory=function(){var t=this;!function(t,n){if(!(t instanceof K))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Mi=t,this.yi=this.Mi.yi,this.mi=this.Mi.mi,this.Di=this.Mi.Di,this.Pi=this.Mi.Pi,this.bi=this.Mi.bi,this.Li=this.Mi.Li,n instanceof h?this.O=n.ct():this.O=new h}.apply(this,arguments),this.lt=function(t,n,i){this.Ui=t,this.Vi=n,this.ki=i},this.release=function(){this.Mi.release(),this.Mi=null,this.Ui=null,this.O=null,this.Fi=null};var n=function(){return new ht(t.Li,t.yi,t.Xt(),t.Fi,t.Ui)};this.buildLogger=function(){return n()},this.At=function(t,n,i){return new nt(t,n,i,this)},this.Bi=function(t){return new m(this.buildLogger(),this.Hi(),this.Vi,t)},this.Gi=function(){return new it(this.buildTimer(t.ki))},this.ji=function(){var t=new ft(this.buildLogger(),this.mi,new st(this.buildLogger(),null,this.Xt()));return new it(t)},this.Hi=function(){return new ut(this.buildLogger(),this.Di,this.ji(),this.Xt())},this.dt=function(t){return new st(this.buildLogger(),this.Bi(t),this.Xt())},this.buildTime=function(){return new at(this.yi,this.buildLogger())},this.buildTimer=function(t){return new ft(this.buildLogger(),this.mi,this.dt(t))},this.Ki=function(){return new M.Storage(this.buildLogger(),this.Pi,this.Gi(),this.Xt())},this.vt=function(){return new C(this.buildLogger(),this.Ki(),this.Wi())},this.Yi=function(t){return new L(this.buildLogger(),this.bi,this.dt(t))},this.xi=function(){return new N},this.qi=function(t,n){return new ot(t,this.buildLogger(),this.Hi(),this.Wi(),n)},this.Xi=function(t,n,i,e,s){var o=this.qi(n,e.custom["c3.domain"]);return new w(this.Ji(),t,n,this.buildLogger(),this.dt(s),this.buildTimer(s),o,this.xi(),this.buildTime(),this.Qi(),i,e,s)},this.Zi=function(t,n,i,e,s,o,r){t=this.Xi(t,n.ct(),i,o,r);return new tt(e,s,i,this.Yi(r),t,this.dt(r),this.buildLogger())},this.Ji=function(){return new et},this.Wi=function(){return new z},this.Qi=function(){return this.Fi},this.Xt=function(){return this.O},this.Fi=new rt},(h=U.SystemSettings=function(){this.zi=h.$i,y.rn(this,"logLevel",function(){return this.zi}),y.un(this,"logLevel",function(t){var n;"number"===typeof t&&(n=y.cn(t))===t&&n>=h.LogLevel.DEBUG&&n<=h.LogLevel.ERROR&&(this.zi=n)}),this.te=h.ne,y.rn(this,"allowUncaughtExceptions",function(){return this.te}),y.un(this,"allowUncaughtExceptions",function(t){y.ie(t)&&(this.te=t)}),this.ee=h.se,y.rn(this,"storageTimeout",function(){return this.ee}),y.un(this,"storageTimeout",function(t){var n;"number"===typeof t&&(n=y.cn(t))===t&&(this.ee=n)}),this.oe=h.re,y.rn(this,"httpTimeout",function(){return this.oe}),y.un(this,"httpTimeout",function(t){var n;"number"===typeof t&&(n=y.cn(t))===t&&(this.oe=n)}),function(){}.apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ct=function(){var t=new h;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:g.LogLevel.DEBUG,INFO:g.LogLevel.INFO,WARNING:g.LogLevel.WARNING,ERROR:g.LogLevel.ERROR,NONE:g.LogLevel.NONE},h.ue=h.LogLevel.DEBUG,h.$i=h.LogLevel.NONE,h.he=!0,h.ne=!1,h.se=10,h.re=10,l=M.AdAnalytics=function(){var e=this;function n(t){e.ae?(y.Ht(t)>0&&e.setAdInfo(t),e.ae.fe()||(e.ae.ce(e.le),e.ae.de(!0),e.getAdType()===g.AdType.SERVER_SIDE&&e.reportAdMetric(g.Playback.BITRATE,e.le.ve()))):e.p}e.Ee=null,e.T=null,e._e=null,e.le=null,e.ae=null,e.Re=null,e.pe=null,e.Ae=null,function(t,n,i){e.Ee=t,e.Ae=i,e.T=n,i&&(e.le=i.Te()),e._e=n.buildTimer(g.version),e.ae=new d(e.Ee,e._e),I.call(this)}.apply(this,arguments),this.setAdInfo=function(t){y.Ht(t)<=0?e.p:(e.p,e.ae&&e.ae.Se(t))},this.setAdPlayerInfo=function(t){y.Ht(t)<=0?e.p:(e.p,e.ae&&e.ae.Se(t))},this.reportAdMetric=function(){0===arguments.length?e.p:1===arguments.length?e.Oe(arguments[0]):2===arguments.length?e.Oe(arguments[0],arguments[1]):3===arguments.length?e.Oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.Oe(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(t){e.ae&&e.ae.Ne(t)},this.reportAdFailed=function(t,n){e.ae?(y.Ht(n)>0&&e.setAdInfo(n),e.ae.fe()?(e.p,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.ae.ce(e.le),e.p,n=new b(t,a.ErrorSeverity.FATAL),e.ae.de(!0,n))):e.p},this.reportAdLoaded=function(t){e.p,n(t)},this.reportAdStarted=function(t){e.p,n(t)},this.reportAdEnded=function(){e.ae?(e.p,e.ae.fe()&&(e.ae.ce(null),e.ae.de(!1))):e.p},this.reportAdError=function(t,n){e.ae?(e.p,t=new b(t,n),e.ae.di(t)):e.p},this.reportAdPlayerEvent=function(t,n){if(y.Pt(t))if(e.p,e.ae)switch(t){case g.Events.USER_WAIT_STARTED:case g.Events.BUMPER_VIDEO_STARTED:e.ae.Mt();break;case g.Events.USER_WAIT_ENDED:case g.Events.BUMPER_VIDEO_ENDED:e.ae.Vt();break;default:e.ae.ge(t,n)}else e.p;else e.p},this.reportAdSkipped=function(){e.ae?(e.p,e.reportAdPlayerEvent(g.Events.AD_SKIPPED),e.reportAdEnded()):e.p},this.release=function(){e.p,e.ae&&(e.ae.fe()&&(e.ae.ce(null),e.ae.de(!1)),e.ae.Ne(null),e.ae.Ie(),e.ae=null),"undefined"!==typeof U.AdProxyMonitor&&e.pe&&(U.AdProxyMonitor.release(e.pe),e.pe=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?U.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(U.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof U.AdProxyMonitor)&&(!t&&e.pe?(U.AdProxyMonitor.release(e.pe),e.pe=null):t&&e.pe?(U.AdProxyMonitor.release(e.pe),e.p,e.pe=U.AdProxyMonitor.initConvivaDropIn(t,n,this,U,e.T)):t&&!e.pe&&(e.p,e.pe=U.AdProxyMonitor.initConvivaDropIn(t,n,this,U,e.T)))},this.reportAdBreakStarted=function(t,n,i){e.le&&(e.p,e.we=t,e.Re=n,e.le.Ce(t,n,i))},this.reportAdBreakEnded=function(){e.le&&(e.p,e.we=null,e.Re=null,e.le.ye())},this.getSessionId=function(){return e.le?(e.p,e.ae.Jt()):g.NO_SESSION_KEY},this.getClientId=function(){return e.le?(e.p,e.ae.Qt()):null},this.getPlayerMonitor=function(){return e.le},this.getAdPlayerMonitor=function(){return e.ae},this.getVideoAnalytics=function(){return e.Ae},this.getAdType=function(){return e.le?e.le.we:null},this.me=function(){return e.le?e.le.Re:null},l.prototype=Object.create(I.prototype),l.prototype.constructor=l},d=M.AdPlayerMonitorImpl=function(){var s=this;s.De=null,s.Pe=null,function(t,n){v.call(this,t,n)}.apply(this,arguments),this.ce=function(t){this.be()!==t&&(this.Le(),s.Pe=t||null)},this.be=function(){return s.Pe},this.Me=function(t){var n,i=this.be(),e={};e.error=t,s.De&&(s.Ue=s.De.getPlayerStateManager(!0),s.Ve(),s.Ue.setClientMeasureInterface(this),n=null,i&&(n=i.ke()),s.Fe=s.De.createAdSession(n,s.Ct,s.Ue,!0,e),"undefined"!==typeof t)&&(s.Be(),s.Ie())},d.prototype=Object.create(v.prototype),d.prototype.constructor=d},q=U.Analytics={init:function(){if(this.Ee,arguments.length<=0)throw new Error("customerKey must be valid");var t=null,n=null,i=null;if("string"===typeof arguments[0]&&!y.Pt(t=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof arguments[1]&&(n=arguments[1]),arguments.length>=3&&"object"===typeof arguments[2]&&(i=arguments[2]);var t=new f(t),e=new h,i=(y.Ht(i)>0&&(i[g.GATEWAY_URL]&&(t.gatewayUrl=i[g.GATEWAY_URL]),i[g.LOG_LEVEL]>=0)&&(e.logLevel=i[g.LOG_LEVEL]),new U.Impl.Html5Logging),s=new U.Impl.Html5Storage,o=new U.Impl.Html5Http,r=new U.Impl.Html5Timer,u=new U.Impl.Html5Time;this.bi||(this.bi=new U.Impl.Html5Metadata),n&&(n[g.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=n[g.CallbackFunctions.CONSOLE_LOG]),n[g.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=n[g.CallbackFunctions.MAKE_REQUEST]),n[g.CallbackFunctions.SAVE_DATA]&&(s.saveData=n[g.CallbackFunctions.SAVE_DATA]),n[g.CallbackFunctions.LOAD_DATA]&&(s.loadData=n[g.CallbackFunctions.LOAD_DATA]),n[g.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(u.getEpochTimeMs=n[g.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),n[g.CallbackFunctions.CREATE_TIMER])&&(r.createTimer=n[g.CallbackFunctions.CREATE_TIMER]),this.Mi=new K(u,r,o,s,this.bi,i),this.T=new x(this.Mi,e),this.T.lt("Analytics",t),this.Ee=new a(t,this.T,this.He,q.version),this.Ee._=new X(this.Ee,this),this.Ee._&&this.Ee._.Ge()},release:function(){var t=0;if(this.je){for(t=0;t<this.je.length;t++){var n=this.je[t];n&&(n.release(),n.p=null,n._e=null,this.je.splice(t,1),t--)}this.je=null}if(this.Ke){for(t=0;t<this.Ke.length;t++){var i=this.Ke[t];i&&(i.release(),i.p=null,i._e=null,this.Ke.splice(t,1),t--)}this.Ke=null}this.T&&(this.T.release(),this.T=null),this.Ee&&(this.Ee.release(),this.Ee=null),this.Ee=null,this.p=null,this.Mi=null,this.bi=null,this.He=null},setUniqueIdentifier:function(t,n){if(!this.Ee)throw new Error(g.i);this.Ee.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this.Ee)throw new Error(g.i);this.Ee.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this.Ee)throw new Error(g.i);this.Ee.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(g.i);this.Ee=t,this.T=this.Ee.T},buildVideoAnalytics:function(){var t;if(this.Ee)return t=new E(this.Ee,this.T),this.Ke||(this.Ke=[]),this.Ke.push(t),t;throw new Error(g.i)},buildAdAnalytics:function(t){if(this.Ee)return t=new l(this.Ee,this.T,t||null),this.je||(this.je=[]),this.je.push(t),t;throw new Error(g.i)},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===y.Ht(t)||(this.bi||(this.bi=new U.Impl.Html5Metadata),t[g.DeviceMetadata.BRAND]&&(this.bi.getDeviceBrand=function(){return t[g.DeviceMetadata.BRAND]}),t[g.DeviceMetadata.MANUFACTURER]&&(this.bi.getDeviceManufacturer=function(){return t[g.DeviceMetadata.MANUFACTURER]}),t[g.DeviceMetadata.MODEL]&&(this.bi.getDeviceModel=function(){return t[g.DeviceMetadata.MODEL]}),t[g.DeviceMetadata.TYPE]&&(this.bi.getDeviceType=function(){return t[g.DeviceMetadata.TYPE]}),t[g.DeviceMetadata.VERSION]&&(this.bi.getDeviceVersion=function(){return t[g.DeviceMetadata.VERSION]}),t[g.DeviceMetadata.OS_NAME]&&(this.bi.getOperatingSystemName=function(){return t[g.DeviceMetadata.OS_NAME]}),t[g.DeviceMetadata.OS_VERSION]&&(this.bi.getOperatingSystemVersion=function(){return t[g.DeviceMetadata.OS_VERSION]}),t[g.DeviceMetadata.CATEGORY]&&(this.bi.getDeviceCategory=function(){return t[g.DeviceMetadata.CATEGORY]}),n=t[g.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],y.gt(n)&&(this.bi.getScreenWidth=function(){return n.toString()}),i=t[g.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],y.gt(i)&&(this.bi.getScreenHeight=function(){return i.toString()}),e=t[g.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],y.gt(e)&&(this.bi.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.He||(this.He={}),t){case g.Network.CONNECTION_TYPE:y.Pt(n)&&(this.He[t]=n,this.Ee)&&this.Ee.$(this.He[g.Network.CONNECTION_TYPE]);break;case g.Network.LINK_ENCRYPTION:y.Pt(n)&&(this.He[t]=n,this.Ee)&&this.Ee.it(this.He[g.Network.LINK_ENCRYPTION]);break;case g.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);y.gt(i)&&u.DEFAULT_SIGNAL_STRENGTH!==i&&(this.He[t]=i,this.Ee)&&this.Ee.ot(i)}},version:"4.7.14"},I=M.AnalyticsImpl=function(){var c=this;function l(){var t=!!c.ae,n=c.getAdType(),i=c.me();return n===g.AdType.SERVER_SIDE&&i===g.AdPlayer.CONTENT?I.Ye.We:n!==g.AdType.SERVER_SIDE||i!==g.AdPlayer.SEPARATE?n===g.AdType.CLIENT_SIDE&&i===g.AdPlayer.CONTENT||(n===g.AdType.CLIENT_SIDE&&g.AdPlayer.SEPARATE,t)?I.Ye.xe:I.Ye.qe:void 0}function d(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!c.ae||i!==I.Ye.xe&&i!==I.Ye.We||c.ae.Xe(t,n),!c.le)||i!==I.Ye.qe&&i!==I.Ye.We||c.le.Xe(t,n)}function v(t,n){u.vi(t)&&(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.Je(t),c.le&&n===I.Ye.qe||n===I.Ye.We)&&c.le.Je(t)}function E(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.Qe(t),!c.le)||n!==I.Ye.qe&&n!==I.Ye.We||c.le.Qe(t)}function _(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.Ze(t),!c.le)||n!==I.Ye.qe&&n!==I.Ye.We||c.le.Ze(t)}function R(t,n){t=parseInt(t,10);!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.ze(!0,t),!c.le||n!==I.Ye.qe&&n!==I.Ye.We||c.le.ze(!0,t)}function p(t){!c.ae||t!==I.Ye.xe&&t!==I.Ye.We||c.ae.ze(!1,-1),!c.le||t!==I.Ye.qe&&t!==I.Ye.We||c.le.ze(!1,-1)}function A(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.$e(t),!c.le)||n!==I.Ye.qe&&n!==I.Ye.We||c.le.$e(t)}function T(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.ts(t),!c.le)||n!==I.Ye.qe&&n!==I.Ye.We||c.le.ts(t)}function S(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.ns(t),!c.le)||n!==I.Ye.qe&&n!==I.Ye.We||c.le.ns(t)}function O(t,n){var i;y.Pt(t)&&(i=c.le.hi(),y.Pt(i)&&"off"!==i&&"off"!==t&&N("off",n),!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.es(t),!c.le||n!==I.Ye.qe&&n!==I.Ye.We||c.le.es(t))}function N(t,n){var i;y.Pt(t)&&(i=c.le.ri(),y.Pt(i)&&"off"!==i&&"off"!==t&&O("off",n),!c.ae||n!==I.Ye.xe&&n!==I.Ye.We||c.ae.ss(t),!c.le||n!==I.Ye.qe&&n!==I.Ye.We||c.le.ss(t))}!function(){}.apply(this,arguments),this.Oe=function(t,n,i,e){switch(t){case g.Playback.BITRATE:e===I.Ye.xe?A(n,I.Ye.xe):A(n,l());break;case g.Playback.AVG_BITRATE:e===I.Ye.xe?T(n,I.Ye.xe):T(n,l());break;case g.Playback.PLAY_HEAD_TIME:e===I.Ye.xe?E(n,I.Ye.xe):E(n,l());break;case g.Playback.RESOLUTION:e===I.Ye.xe?d(n,i,I.Ye.xe):d(n,i,l());break;case g.Playback.BUFFER_LENGTH:e===I.Ye.xe?_(n,I.Ye.xe):_(n,l());break;case g.Playback.PLAYER_STATE:e===I.Ye.xe?v(n,I.Ye.xe):v(n,l());break;case g.Playback.RENDERED_FRAMERATE:e===I.Ye.xe?S(n,I.Ye.xe):S(n,l());break;case g.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?R(n,l()):i===I.Ye.xe?R(-1,I.Ye.xe):R(-1,l());break;case g.Playback.SEEK_ENDED:i===I.Ye.xe?p(I.Ye.xe):p(l());break;case g.Playback.CDN_IP:a=n,f=l(),y.Pt(a)&&(!c.ae||f!==I.Ye.xe&&f!==I.Ye.We||c.ae.os(a),!c.le||f!==I.Ye.qe&&f!==I.Ye.We||c.le.os(a));break;case g.Playback.DROPPED_FRAMES_TOTAL:f=n,a=l();f=parseInt(f,10),isNaN(f)||(!c.ae||a!==I.Ye.xe&&a!==I.Ye.We||c.ae.rs(f),!c.le)||a!==I.Ye.qe&&a!==I.Ye.We||c.le.rs(f);break;case g.Playback.DROPPED_FRAMES_COUNT:var s=n,o=l();s=parseInt(s,10),isNaN(s)||(!c.ae||o!==I.Ye.xe&&o!==I.Ye.We||c.ae.us(s),!c.le)||o!==I.Ye.qe&&o!==I.Ye.We||c.le.us(s);break;case g.Playback.AUDIO_LANGUAGE:o=n,s=l(),y.Pt(o)&&(!c.ae||s!==I.Ye.xe&&s!==I.Ye.We||c.ae.hs(o),!c.le||s!==I.Ye.qe&&s!==I.Ye.We||c.le.hs(o));break;case g.Playback.SUBTITLES_LANGUAGE:O(n,l());break;case g.Playback.CLOSED_CAPTIONS_LANGUAGE:N(n,l());break;default:r=t,u=n,h=l(),y.Pt(r)&&u&&(!c.ae||h!==I.Ye.xe&&h!==I.Ye.We||c.ae.Zt(r,u),!c.le||h!==I.Ye.qe&&h!==I.Ye.We||c.le.Zt(r,u))}var r,u,h,a,f}},M.AnalyticsImpl.Ye={xe:1,qe:2,We:3},X=M.AppAnalyticsHandler=function(){var r=this;r.Ee=null,r.fs=null,r.cs=null,r.ls=null,r.wt=null,function(t,n){r.Ee=t,r.fs=n,"undefined"!==typeof document&&document&&"function"===typeof document.createEvent&&(r.cs=document.createEvent("HTMLEvents"),r.cs.initEvent(g.APP_TRACKER_EVENT.TYPE,!0,!0))}.apply(this,arguments),this.Ge=function(){r.ds(g.APP_TRACKER_EVENT.INIT)},this.vs=function(){r.ds(g.APP_TRACKER_EVENT.VIDEO_ATTEMPT)},this.Es=function(){r.ds(g.APP_TRACKER_EVENT.VIDEO_END),r.wt=null},this._s=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_PLAY,t)},this.Rs=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_PAUSE,t)},this.ps=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_ERROR,t)},this.As=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_BUFFERING,t)},this.Ts=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH,t)},this.Ss=function(t){r.ds(g.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE,t)},this.Os=function(t){t={cen:t.name,ced:t.data};r.ds(g.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT,t)},this.Ns=function(t){t={cen:t.name,ced:t.data};r.ds(g.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT,t)},this.gs=function(t){r.ds(g.APP_TRACKER_EVENT.AD_BREAK_START,{cen:"PodStart",ced:t})},this.Is=function(t){r.ds(g.APP_TRACKER_EVENT.AD_BREAK_END,{cen:"PodEnd",ced:t})},this.ds=function(t,n){try{if(r.cs){if(r.ws(),r.cs.name=r.ls.name=t,r.cs.iid=r.ls.iid=r.Ee.getConfig().getIid(),r.cs.clid=r.ls.clid=r.Ee.getConfig().getClientId(),r.wt){var i,e=r.wt;if(e.Cs()?(i=n?n[N.ys]:void 0,r.cs.sid=r.ls.sid=e.Ds.Jt(),r.cs.sst=r.ls.sst=e.Ps,r.cs.url=r.ls.url=i&&i.url?i.url:e.On,r.cs.st=r.ls.st=e.bs(),r.cs.an=r.ls.an=i&&i.an?i.an:e._n,r.cs.pn=r.ls.pn=i&&i.pn?i.pn:e.Ls,r.cs.tags=r.ls.tags=JSON.stringify(e.Ct.Rn),r.cs.vid=r.ls.vid=i&&i.vid?i.vid:e.Tn,e.Ms>=0&&(r.cs.cl=r.ls.cl=i&&i.cl?i.cl:e.Ms),r.cs.lv=r.ls.lv=i&&i.lv?i.lv:e.Us,r.cs.fw=r.ls.fw=e.Vs(),r.cs.fwv=r.ls.fwv=e.ks(),e.Ue&&(r.cs.mn=r.ls.mn=e.Ue.zn(),r.cs.mv=r.ls.mv=e.Ue.$n()),(e.yn>=0||i&&i.br>=0)&&t===g.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH&&(r.cs.br=r.ls.br=i&&i.br?i.br:e.yn),(e.Dn>=0||i&&i.avgbr>=0)&&t===g.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH&&(r.cs.avgbr=r.ls.avgbr=i&&i.avgbr?i.avgbr:e.Dn)):e.Fs()&&(r.cs.sid=r.ls.sid=e.Ds.Jt(),r.cs.sst=r.ls.sst=e.Ps,r.cs.st=r.ls.st=e.bs(),r.cs.mn=r.ls.mn=e.Vn,r.cs.mv=r.ls.mv=e.kn),n&&(t===g.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH||t===g.APP_TRACKER_EVENT.VIDEO_ERROR||t===g.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE||t===g.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT||t===g.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT||t===g.APP_TRACKER_EVENT.AD_BREAK_START||t===g.APP_TRACKER_EVENT.AD_BREAK_END))for(var s=Object.keys(n),o=0;o<s.length;o++)"object"===typeof n[s[o]]?r.cs[s[o]]=r.ls[s[o]]=JSON.stringify(n[s[o]]):r.cs[s[o]]=r.ls[s[o]]=n[s[o]]}"undefined"!==typeof document&&document&&"function"===typeof document.dispatchEvent&&document.dispatchEvent(r.cs)}}catch(t){}},this.ws=function(){if(null!==r.ls)for(var t=Object.keys(r.ls),n=0;n<t.length;n++)delete r.cs[t[n]];r.ls={}},this.Bs=function(t,n,i){try{(r.wt=i).Cs()?t===N.Hs?n[N.ys][N.Gs]?n[N.ys][N.Gs]===N.js?r._s(n):n[N.ys][N.Gs]===N.Ks?r.As(n):n[N.ys][N.Gs]===N.Ws&&r.Rs(n):n[N.ys][N.Ys]||n[N.ys][N.xs]?r.Ts(n):r.Ss(n):t===N.qs?r.ps({err:n[N.Xs],ft:n[N.Js]}):t===N.Qs?r.Es():t===g.APP_TRACKER_EVENT.VIDEO_ATTEMPT?r.vs():t===N.Zs&&(n[N.zs]===g.Events.POD_START?r.gs(n[N.$s]):n[N.zs]===g.Events.POD_END?r.Is(n[N.$s]):r.Os({name:n[N.zs],data:n[N.$s]})):i.Fs()&&t===N.Zs&&r.Ns({name:n[N.zs],data:n[N.$s]})}catch(t){}}},J=M.PlayerMonitor=function(){var e=this;this.no=null,this.io=null,this.Ct=null,this.eo=null,this.Pn=u.PlayerState.UNKNOWN,this.so=-1,this.oo=-1,this.Gn=[],this.ro=null,this.uo=null,this.ho=-2,this.ao=-2,this.Ln=-1,this.V=u.DEFAULT_SIGNAL_STRENGTH,this.fo=null,this.gi=null,this.U=null,this.M=null,this._e=null,this.co=null,this.lo=null,this.do=null,this.vo=null,this.we=null,this.Re=null,this.jn=null,this.Kn=null,this.Wn=null,function(t){e._e=t}.apply(this,arguments),this.Eo=function(){return e.Pn},this.Je=function(t){e.Pn!==t&&(e.Le(),e.Pn=t,e._o())},this.Ro=function(){return e.po},this.Ao=function(){return e.To},this.ze=function(t,n){e.Le(),e.po=t,e.To=n,e.So()},this.Oo=function(){return e.so},this.Qe=function(t){e.so=t},this.No=function(){return e.oo},this.Ze=function(t){e.oo=t},this.ve=function(){return e.ho},this.$e=function(t){e.ho!==t&&(e.ho=t,e._o())},this.Io=function(){return e.ao},this.ts=function(t){e.ao!==t&&(e.ao=t,e._o())},this.wo=function(){return e.Ln},this.ns=function(t){e.Ln=t},this.Co=function(){return e.fo},this.os=function(t){e.fo=t,e._o()},this.Ni=function(){return e.gi},this.rs=function(t){e.gi=t,e._o()},this.us=function(t){e.yo(t)},this.mo=function(){return e.V},this.si=function(){return e.jn},this.ri=function(){return e.Kn},this.hi=function(){return e.Wn},this.hs=function(t){e.jn!==t&&(e.jn=t,e._o())},this.es=function(t){e.Kn!==t&&(e.Kn=t,e._o())},this.ss=function(t){e.Wn!==t&&(e.Wn=t,e._o())},this.Do=function(){return e.Po},this.bo=function(){return e.Lo},this.Xe=function(t,n){n<0&&(n=0),e.Po===(t=t<0?0:t)&&e.Lo===n||(e.Po=t,e.Lo=n,e._o())},this.Mo=function(){return e.io},this.Uo=function(){e.Mo()&&(e.Ct=new c,e.eo={},e.lo={},e.Vo())},this.ko=function(t){(e.io||t)&&(this.Le(),e.io&&(e.io=null,e.Uo()),t)&&(e.io=y.Fo(e.io,t),e.Uo())},this.Se=function(t){if(t)if(e.Ct){var n,i=!1;for(n in t)if(e.Ct[n]!==t[n]){i=!0;break}i&&(e.Le(),e.io=y.Fo(t),e.Vo())}else e.ko(t)},this.Ne=function(t){t?e.do!==t&&(e.do=t,e.Bo()):(e.do=null,e.Be())},this.Le=function(){e.Ho||e.do&&(e.Ho=!0,e.do(),e.Ho=!1)},this.fe=function(){return e.no},this.de=function(t,n){e.no!==t&&(e.Le(),e.no&&(e.Go(),e.Be(),e.Ie()),e.no=t,e.no)&&e.Me(n)},this.jo=function(){return e.ro},this.Ko=function(){return e.uo||null},this.Wo=function(){return e.Gn},this.Yo=function(){e.Gn=[]},this.di=function(t){this.Le(),e.Gn.push(t),e.Si()},this.ge=function(t,n){e.Le(),e.ro=t,e.uo=n,e.xo()},this.qo=function(){e.Le()},this.Bo=function(){e.Be(),e.co=e._e.create(e.qo,1e3,"PlayerMonitor.update")},this.Be=function(){e.co&&(e.co(),e.co=null)},this.Ce=function(t,n,i){e.vo=i,e.we=t,e.Xo(),e.Re=n,e.we&&g.AdType.CLIENT_SIDE===e.we&&(e.Pn=g.PlayerState.UNKNOWN,e.Jo(e.we,n,i?i[g.POD_POSITION]:null))},this.ye=function(){e.we&&g.AdType.CLIENT_SIDE===e.we&&(e.Qo(),e.Pn=g.PlayerState.UNKNOWN),e.Zo(),e.we=null,e.Re=null},this.zo=function(){return e.vo},this.$o=function(){return e.we},this.getContentMetadata=function(){return this.Ct},this.Ie=function(){this.no=null,this.io=null,this.Ct=null,this.eo=null,this.Pn=u.PlayerState.UNKNOWN,this.so=-1,this.oo=-1,this.Gn=[],this.ro=null,this.uo=null,this.ho=-2,this.ao=-2,this.Ln=-1,this.V=u.DEFAULT_SIGNAL_STRENGTH,this.fo=null,this.gi=null,this.U=null,this.M=null,this._e=null,this.co=null,this.lo=null,this.do=null,this.vo=null,this.we=null,this.Re=null,this.jn=null,this.Kn=null,this.Wn=null,e.Ue=null,e.Fe=a.NO_SESSION_KEY}},v=M.PlayerMonitorImpl=function(){var o=this;o.De=null,o.Ue=null,o.Fe=a.NO_SESSION_KEY,function(t,n){J.call(this,n),o.De=t}.apply(this,arguments),this.getPHT=function(){return o.Oo()},this.getBufferLength=function(){return o.No()},this.getRenderedFrameRate=function(){return o.wo()},this.getSignalStrength=function(){return o.mo()},this.So=function(){o.Ue&&o._ContentSessionKey!==a.NO_SESSION_KEY&&(o.Ro()?o.Ue.setPlayerSeekStart(o.Ao()):o.Ue.setPlayerSeekEnd())},this._o=function(){o.Ue&&(o.Ue.setPlayerState(o.Eo()),o.ve()>0&&o.Ue.setBitrateKbps(o.ve()),o.Io()>0&&o.Ue.setAvgBitrateKbps(o.Io()),o.Do()>0&&o.Ue.setVideoResolutionWidth(o.Do()),o.bo()>0&&o.Ue.setVideoResolutionHeight(o.bo()),o.Co()&&o.Ue.setCDNServerIP(o.Co()),y.gt(o.Ni())&&o.Ue.setDroppedFramesTotal(o.Ni()),y.Pt(o.si())&&o.Ue.setAudioLang(o.si()),y.Pt(o.ri())&&o.Ue.setSubtitleLang(o.ri()),y.Pt(o.hi()))&&o.Ue.setCcLang(o.hi())},this.Lt=function(){o.Fe!==a.NO_SESSION_KEY&&o.De&&o.De.updateContentMetadata(o.Fe,o.Ct)},this.Ve=function(){if(o.Ue){o.lo&&y.Ht(o.lo)>0&&(o.lo[g.MODULE_NAME]&&o.lo[g.MODULE_VERSION]&&(t=o.lo[g.MODULE_NAME],n=o.lo[g.MODULE_VERSION],y.Pt(t))&&y.Pt(n)&&o.Ue.setModuleNameAndVersion(t,n),o.lo[g.FRAMEWORK_NAME]&&(t=o.lo[g.FRAMEWORK_NAME],y.Pt(t))&&o.Ue.setPlayerType(t),o.lo[g.FRAMEWORK_VERSION])&&(n=o.lo[g.FRAMEWORK_VERSION],y.Pt(n))&&o.Ue.setPlayerVersion(n);var t,n,i=o.Wo();o.Yo();for(var e=0;e<i.length;e++){var s=i[e];o.Ue.di(s)}}},this.Qo=function(){o.Ue&&o.Fe!==a.NO_SESSION_KEY&&(o._o(),this.tr())},this.Vt=function(){o.Ue&&o.Fe!==a.NO_SESSION_KEY&&(o._o(),o.De.kt(o.Fe))},this.tr=function(){o.De&&o.Fe!==g.NO_SESSION_KEY&&o.De.adEnd(o.Fe)},this.Jo=function(t,n,i){var e;o.Ue&&o.Fe!==g.NO_SESSION_KEY&&(e=null,g.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:g.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),o.nr(e,n,i))},this.Mt=function(){o.Ue&&o.Fe!==g.NO_SESSION_KEY&&o.De.Ut(o.Fe)},this.nr=function(t,n,i){o.De&&o.Fe!==g.NO_SESSION_KEY&&o.De.adStart(o.Fe,t,n,i)},this.Me=function(){if(o.De){o.Ue=o.De.getPlayerStateManager(!0),o.Ve(),o.Ue.setClientMeasureInterface(this);try{var t;o.Ct&&o.Ct.custom&&!o.Ct.custom[g.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n))&&s.push(e);return s}),""!==(t=y.ir().split("?").join("").split("&").filter(function(t){return 2===t.split("=").length&&t.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&")))&&(o.Ct.custom[g.UTM_TRACKING_URL]=t)}catch(t){o.p.error("PlayerMonitorImpl _createSession : "+t)}o.Fe=o.De.createSession(o.Ct,o.Ue,!0)}},this.Go=function(){o.De&&(o.Ue&&(o.Ue.setPlayerState(g.PlayerState.STOPPED),o.Ue=null),o.Fe!==g.NO_SESSION_KEY)&&(o.De.cleanupSession(o.Fe),o.Fe=g.NO_SESSION_KEY)},this.Si=function(){if(o.De&&o.Fe!==a.NO_SESSION_KEY){var t=o.Wo();o.Yo();for(var n=0;n<t.length;n++){var i=t[n];o.De.reportError(o.Fe,i.er(),i.sr())}}},this.xo=function(){o.Fe!==a.NO_SESSION_KEY&&o.De&&o.De.sendCustomEvent(o.Fe,o.jo(),o.Ko())},this.Vo=function(){var t,n=o.Mo(),i=!1,e=!1;for(t in n){var s=n[t];if(y.Pt(t)&&null!==s&&void 0!==s)switch(t){case g.STREAM_URL:e=!0,o.Ct.streamUrl=s;break;case g.ASSET_NAME:e=!0,o.Ct.assetName=s;break;case g.DEFAULT_RESOURCE:e=!0,o.Ct.defaultResource=s;break;case g.VIEWER_ID:e=!0,o.Ct.viewerId=s;break;case g.PLAYER_NAME:e=!0,o.Ct.applicationName=s;break;case g.DURATION:e=!0,o.Ct.duration=s;break;case g.IS_LIVE:e=!0,o.Ct.streamType=s;break;case g.ENCODED_FRAMERATE:e=!0,o.Ct.encodedFrameRate=s;break;case g.MODULE_NAME:case g.MODULE_VERSION:case g.FRAMEWORK_NAME:case g.FRAMEWORK_VERSION:i=!0,o.lo[t]=s;break;default:g.APPLICATION_VERSION;e=!0,o.Ct.custom[t]=s}}i&&this.Ve(),e&&this.Lt()},this.Xo=function(){this.rr(g.Events.POD_START)},this.Zo=function(){this.rr(g.Events.POD_END)},this.rr=function(t){var n,i,e;o.De&&o.Fe!==g.NO_SESSION_KEY&&(n={},(e=this.zo())&&((i=e[g.POD_POSITION])&&(n[g.POD_POSITION]=i),(i=e[g.POD_INDEX])&&(n[g.POD_INDEX]=i+""),t===g.Events.POD_START)&&(i=e[g.POD_DURATION])&&(n[g.POD_DURATION]=i+""),(e=this.$o())&&(n[g.AD_TYPE]=e),o.De.sendCustomEvent(o.Fe,t,n))},this.yo=function(t){o.Ue.setDroppedFramesCount(t)},this.ur=function(t){this.Fe===g.NO_SESSION_KEY&&t!==g.NO_SESSION_KEY&&(this.Fe=t)},this.ke=function(){return this.Fe},this.Jt=function(){return o.De.getSessionId(this.Fe)},this.Qt=function(){return o.De.getClientId(this.Fe)},this.Zt=function(t,n){o.De.Zt(this.Fe,t,n)},v.prototype=Object.create(J.prototype),v.prototype.constructor=v},U.Impl=U.Impl||{},U.Impl.Html5Http=function(){!function(){}.apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Logging=function(){!function(){}.apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===h.LogLevel.DEBUG||n===h.LogLevel.INFO?console.log(t):console.warn&&n===h.LogLevel.WARNING?console.warn(t):console.error&&n===h.LogLevel.ERROR&&console.error(t))},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Metadata=function(){!function(){}.apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Storage=function(){!function(){}.apply(this,arguments),this.saveData=function(t,n,i,e){t=t+"."+n;try{localStorage.setItem(t,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){t=t+"."+n;try{i(!0,localStorage.getItem(t))}catch(t){i(!1,t.toString())}},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Time=function(){!function(){}.apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},U.Impl=U.Impl||{},U.Impl.Html5Timer=function(){!function(){}.apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}},E=M.VideoAnalytics=function(){var s=this;s.Ee=null,s.T=null,s._e=null,s.le=null,s.pe=null,this.release=function(){s.p,s.le&&s.le.fe()&&s.le.de(!1),"undefined"!==typeof U.ProxyMonitor&&s.pe&&(U.ProxyMonitor.release(s.pe),s.pe=null),s.le&&(s.le.Ne(null),s.le.Ie(),s.le=null),s._e=null},function(t,n){s.Ee=t,s.T=n,s._e=n.buildTimer(g.version),s.le=new v(s.Ee,s._e),I.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.p,s.le&&(y.Ht(t)>0&&s.setContentInfo(t),s.le.fe()||s.le.de(!0))},this.reportPlaybackEnded=function(){s.p,s.le&&s.le.fe()&&(s.le.de(!1),"undefined"!==typeof U.ProxyMonitor&&s.pe&&(U.ProxyMonitor.release(s.pe),s.pe=null),s.le.Ne(null))},this.reportPlaybackFailed=function(t,n){s.le&&(y.Ht(n)>0&&s.setContentInfo(n),s.le.fe()||s.le.de(!0),s.p,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){y.Ht(t)<=0||s.le&&(s.p,s.le.Se(t))},this.setPlayerInfo=function(t){y.Ht(t)<=0||s.le&&(s.p,s.le.Se(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.Oe(arguments[0]):2===arguments.length?s.Oe(arguments[0],arguments[1]):3===arguments.length?s.Oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.Oe(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.le&&y.Pt(t)&&(s.p,t=new b(t,n),s.le.di(t))},this.reportPlaybackEvent=function(t,n){if(y.Pt(t)&&s.le&&(s.p,s.le))switch(t){case g.Events.USER_WAIT_STARTED:case g.Events.BUMPER_VIDEO_STARTED:s.le.Mt();break;case g.Events.USER_WAIT_ENDED:case g.Events.BUMPER_VIDEO_ENDED:s.le.Vt();break;default:s.le.ge(t,n)}},this.setCallback=function(t){s.p,s.le&&s.le.Ne(t)},this.reportAdBreakStarted=function(t,n,i){s.le&&(s.p,s.le.Ce(t,n,i))},this.reportAdBreakEnded=function(){s.le&&(s.p,s.le.ye())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[g.CONVIVA_MODULE],e=n[g.MEDIA_ELEMENT]),"undefined"!==typeof i?U.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(U.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof U.ProxyMonitor)&&(s.p,!t&&s.pe?(U.ProxyMonitor.release(s.pe),s.pe=null):t?(s.pe&&U.ProxyMonitor.release(s.pe),s.p,s.pe="undefined"!==typeof e?U.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,U):U.ProxyMonitor.initConvivaDropIn(t,s.T,this,U)):"undefined"!==typeof e&&(s.pe=U.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,U)))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===g.AdType.SERVER_SIDE?s.ae=t.getAdPlayerMonitor():s.getAdType()===g.AdType.CLIENT_SIDE&&s.p):s.ae=null},this.configureExistingSession=function(t){t!==g.NO_SESSION_KEY&&s.le&&(s.p,s.le.ur(t))},this.getSessionId=function(){return s.le?(s.p,s.le.Jt()):g.NO_SESSION_KEY},this.getClientId=function(){return s.le?(s.p,s.le.Qt()):null},this.Te=function(){return s.p,this.le},this.getAdType=function(){return s.le?s.le.we:null},this.me=function(){return s.le?s.le.Re:null},E.prototype=Object.create(I.prototype),E.prototype.constructor=E},M.JsonParse=(k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:n,text:V}},r=function(t){return t&&t!==s&&o("Expected '"+t+"' instead of '"+s+"'"),s=V.charAt(n),n+=1,s},F=function(){var t,n,i,e="";if('"'===s)for(;r();){if('"'===s)return r(),e;if("\\"===s)if(r(),"u"===s){for(n=i=0;n<4&&(t=parseInt(r(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof k[s])break;e+=k[s]}else e+=s}o("Bad string")},i=function(){for(;s&&s<=" ";)r()},e=function(){switch(i(),s){case"{":return vt();case"[":return dt();case'"':return F();case"-":return ct();default:return(s>="0"&&s<="9"?ct:lt)()}},function(t,r){return V=t,n=0,s=" ",t=e(),i(),s&&o("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t}),Z=M.JSON2={},"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof Z.stringify&&(_=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Z.stringify=function(t,n,i){var e;if(p=R="","number"===typeof i)for(e=0;e<i;e+=1)p+=" ";else"string"===typeof i&&(p=i);if(!(A=n)||"function"===typeof n||"object"===typeof n&&"number"===typeof n.length)return function t(n,i){var e,s,o,r,u,h=R,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),typeof(a="function"===typeof A?A.call(i,n,a):a)){case"string":return Et(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(R+=p,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";o=0===u.length?"[]":R?"[\n"+R+u.join(",\n"+R)+"\n"+h+"]":"["+u.join(",")+"]"}else{if(A&&"object"===typeof A)for(r=A.length,e=0;e<r;e+=1)"string"===typeof A[e]&&(o=t(s=A[e],a))&&u.push(Et(s)+(R?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(Et(s)+(R?": ":":")+o);o=0===u.length?"{}":R?"{\n"+R+u.join(",\n"+R)+"\n"+h+"}":"{"+u.join(",")+"}"}return R=h,o}}("",{"":t});throw new Error("JSON2.stringify")}),O=M.hr={ar:"0123456789abcdef",cr:function(t){for(var n="",i=7;i>=0;i--)n+=O.ar.charAt(t>>4*i&15);return n},lr:function(t){for(var n=1+(t.length+8>>6),i=new Array(16*n),e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<24-e%4*8;return i[e>>2]|=128<<24-e%4*8,i[16*n-1]=8*t.length,i},dr:function(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i},vr:function(t,n){return t<<n|t>>>32-n},Er:function(t,n,i,e){return t<20?n&i|~n&e:!(t<40)&&t<60?n&i|n&e|i&e:n^i^e},_r:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},Rr:function(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return O.pr(n)},pr:function(t){if(""===t)return"";for(var n,i=O.lr(t),e=new Array(80),s=1732584193,o=-271733879,r=-1732584194,u=271733878,h=-1009589776,a=0;a<i.length;a+=16){for(var f=s,c=o,l=r,d=u,v=h,E=0;E<80;E++)e[E]=E<16?i[a+E]:O.vr(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),n=O.dr(O.dr(O.vr(s,5),O.Er(E,o,r,u)),O.dr(O.dr(h,e[E]),O._r(E))),h=u,u=r,r=O.vr(o,30),o=s,s=n;s=O.dr(s,f),o=O.dr(o,c),r=O.dr(r,l),u=O.dr(u,d),h=O.dr(h,v)}return O.cr(s)+O.cr(o)+O.cr(r)+O.cr(u)+O.cr(h)}},(N=M.CwsProtocol=function(){this.Ar=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.Tr=function(t,n){var i=N.Qs;return this.Ar(t,n,i,{})}}).version="2.6",N.Sr="/0/wsg",N.H="0",N.Or=-1,N.Nr=!1,N.gr=2,N.Ir=-1,N.wr=-1,N.Cr=1e3,N.yr="sdk.js.1",N.Hs="CwsStateChangeEvent",N.qs="CwsErrorEvent",N.Qs="CwsSessionEndEvent",N.Zs="CwsCustomEvent",N.mr="CwsSeekEvent",N.Dr="CwsDataSamplesEvent",N.Pr="ok",N.Lr="err",N.Mr="clid",N.Ur="cfg",N.Vr="evs",N.kr="maxhbinfos",N.Fr="slg",N.Br="hbi",N.Hr="gw",N.Gr="fp",N.jr="csi_en",N.Kr="CwsSessionHb",N.Wr="t",N.Yr="st",N.qr="sst",N.Xr="lv",N.Jr="seq",N.Qr="cid",N.Zr="clid",N.zr="clv",N.$r="pver",N.tu="iid",N.nu="sid",N.iu="vid",N.eu="an",N.su="pn",N.ou="tags",N.ru="sf",N.uu="evs",N.hu="lg",N.au="hbinfos",N.fu="sdk",N.cu="pj",N.Gs="ps",N.Ys="br",N.xs="avgbr",N.lu="cl",N.du="efps",N.vu="afps",N.Eu="rfpstot",N._u="rfpscnt",N.Ru="rs",N.pu="pht",N.Au="bl",N.Tu="url",N.Su="caps",N.Ou="pm",N.Nu="w",N.gu="h",N.Iu="ct",N.wu="le",N.Cu="dftot",N.yu="dfcnt",N.mu="al",N.Du="sl",N.Pu="cal",N.bu="ss",N.Lu="csi_n",N.Mu="csi_t",N.Uu="csi_l",N.Vu="csi_v",N.ku="csi_c",N.Fu="sch",N.Bu="br",N.Hu="brv",N.Gu="dvb",N.ju="dvma",N.Ku="dvm",N.Wu="dvt",N.Yu="dvv",N.xu="sw",N.qu="sh",N.Xu="scf",N.Ju="fw",N.Qu="fwv",N.Zu="cc",N.zu="mn",N.$u="mv",N.th="os",N.nh="osv",N.ih="cat",N.eh="caps",N.sh="t",N.oh="seq",N.rh="st",N.uh="act",N.hh="skto",N.Xs="err",N.Js="ft",N.ys="new",N.ah="old",N.zs="name",N.$s="attr",N.fh="seq",N.lh="err",N.dh="rtt",N.Eh="ad",N._h="csi",N.Rh=function(t){switch(t){case u.PlayerState.STOPPED:return N.ph;case u.PlayerState.PLAYING:return N.js;case u.PlayerState.BUFFERING:return N.Ks;case u.PlayerState.PAUSED:return N.Ws;case u.PlayerState.NOT_MONITORED:return N.Ah;default:return N.Th}},N.ph=1,N.js=3,N.Ks=6,N.Ws=12,N.Ah=98,N.Th=100,N.Sh={Oh:0,Ot:1,Nh:2,gh:4},N.Ih={wh:0},z=M.LibJSONInterface=function(){this.Ch=function(t){var n=null;try{n=Z.stringify(t)}catch(t){}return n},this.yh=function(t){var n=null;try{n=M.JsonParse(t)}catch(t){return n}return n=y.mh(n)?n:null}},$=M.CwsHeartbeat=function(){this.Dh={},function(){}.apply(this,arguments),this.get=function(){return this.Dh},this.Ph=function(t,n){this.Dh[t]=n},this.bh=function(t,n,i){this.Dh[t]||(this.Dh[t]={}),this.Dh[t][n]=i},this.Lh=function(t){this.Ph(N.Wr,t)},this.Mh=function(t){this.Ph(N.Yr,t)},this.Uh=function(t){this.Ph(N.qr,t)},this.Vh=function(t){this.Ph(N.Xr,t)},this.kh=function(t){this.Ph(N.Jr,t)},this.Fh=function(t){this.Ph(N.Qr,t)},this.Bh=function(t){this.Ph(N.Zr,t)},this.Hh=function(t){this.Ph(N.zr,t)},this.Gh=function(t){this.Ph(N.$r,t)},this.jh=function(t){this.Ph(N.eh,t)},this.Kh=function(t){this.Ph(N.nu,t)},this.Wh=function(t){this.Ph(N.tu,t)},this.Yh=function(t){this.Ph(N.iu,t)},this.xh=function(t){this.Ph(N.eu,t)},this.qh=function(t){this.Ph(N.su,t)},this.Xh=function(t){this.Ph(N.ou,t)},this.Jh=function(t){this.Ph(N.ru,t)},this.Qh=function(t){this.Ph(N.Su,t)},this.Zh=function(t){this.Ph(N.uu,t)},this.zh=function(t){this.Ph(N.fu,t)},this.$h=function(t){this.Ph(N.hu,t)},this.ta=function(t){this.Ph(N.au,t)},this.Je=function(t){this.Ph(N.Gs,t)},this.na=function(t){this.Ph(N.cu,t)},this.ia=function(t){this.Ph(N.lu,t)},this.ea=function(t){this.Ph(N.Ys,t)},this.sa=function(t){this.Ph(N.xs,t)},this.oa=function(t){this.Ph(N.Ru,t)},this.ra=function(t){this.Ph(N.du,t)},this.ua=function(t){this.Ph(N.vu,t)},this.ha=function(t){this.Ph(N._u,t)},this.aa=function(t){this.Ph(N.Eu,t)},this.fa=function(t){this.bh(N.Ou,N.Fu,t)},this.ca=function(t){this.bh(N.Ou,N.Bu,t)},this.la=function(t){this.bh(N.Ou,N.Hu,t)},this.da=function(t){this.bh(N.Ou,N.Gu,t)},this.va=function(t){this.bh(N.Ou,N.ju,t)},this.Ea=function(t){this.bh(N.Ou,N.Ku,t)},this._a=function(t){this.bh(N.Ou,N.Wu,t)},this.Ra=function(t){this.bh(N.Ou,N.Yu,t)},this.pa=function(t){this.bh(N.Ou,N.Ju,t),this.Ph(N.Ju,t)},this.Aa=function(t){this.bh(N.Ou,N.Qu,t),this.Ph(N.Qu,t)},this.Ta=function(t){this.bh(N.Ou,N.th,t.toUpperCase())},this.Sa=function(t){this.bh(N.Ou,N.nh,t)},this.Oa=function(t){this.bh(N.Ou,N.ih,t)},this.Na=function(t){this.bh(N.Ou,N.xu,t)},this.ga=function(t){this.bh(N.Ou,N.qu,t)},this.Ia=function(t){this.bh(N.Ou,N.Xu,t)},this.wa=function(t){this.Ph(N.Cu,t)},this.yo=function(t){this.Ph(N.yu,t)},this.Ca=function(t){this.Ph(N.pu,t)},this.ya=function(t){this.Ph(N.Au,t)},this.ma=function(t){this.Ph(N.Tu,t)},this.Da=function(t){this.Ph(N.Nu,t)},this.Pa=function(t){this.Ph(N.gu,t)},this.ba=function(t){this.Ph(N.Iu,t)},this.La=function(t){this.Ph(N.wu,t)},this.Ma=function(){this.Ph(N.Eh,!0)},this.Ua=function(t){this.Ph(N.bu,t)},this.setModuleName=function(t){this.bh(N.Zu,N.zu,t)},this.Va=function(t){this.bh(N.Zu,N.$u,t)},this.ka=function(t){this.Ph(N._h,t)},this.Fa=function(t){t&&this.Ph(N.Lu,t)},this.Ba=function(t){t&&this.Ph(N.Mu,t)},this.Ha=function(t){t&&this.Ph(N.Uu,t)},this.Ga=function(t){t&&this.Ph(N.Vu,t)},this.ja=function(t){t&&this.Ph(N.ku,t)},this.Ka=function(t){this.Ph(N.mu,t)},this.Wa=function(t){this.Ph(N.Du,t)},this.Ya=function(t){this.Ph(N.Pu,t)}},(w=M.CwsSession=function(){var _=this;_.qa=null,_.Xa=200,_.Ja=5e3,_.Ct=null,_.Ps=0,_.Qa=0,_.Za=N.Sh.Oh,_.za=N.Ih.wh,_.$a=[],_.tf=-1,_.yn=-2,_.Dn=-2,_.gi=-1,_.nf=-1,_.if=null,_.Pn=u.PlayerState.UNKNOWN,_.wn=-1,_.Ms=-1,_.On=null,_.Fn=-1,_.Bn=-1,_.Ue=null,_._n=null,_.Tn=null,_.Ls=null,_.Us=null,_.ef={},_.sf=null,_.rf=null,_.uf=null,_.hf=null,_.af=null,_.ff=null,_.cf=null,_.lf=null,_.df=null,_.vf=null,_.Ef=null,_._f=null,_.Rf=null,_.pf=null,_.Af=null,_.Vn=null,_.kn=null,_.M=null,_.U=null,_.fo=null,_.Tf=null,_.Sf=!1,_.Of=!1,_.Nf=!1,_.gf=!1,_.If=!1,_.wf=null,_.Cf=1e3,_.yf=0,_.mf=0,_.Df={},_.D={},_.Pf=!1,_.bf=null,_.Lf=null,_.Mf=null,_.Uf=null,_.Vf=null,_.kf=null,_.Ff=12e4,_.Bf=N.Nr,_.Hf=!1,_.Gf=null,_.ki=null,_.jn=null,_.Kn=null,_.Wn=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.jf=t,this.Ee=n,this.Vi=i,this.p=e,this.p.setModuleName("CwsSession"),this.g=s,this._e=o,this.Kf=r,this.Wf=u,this.Yf=h,this.Fi=a,this.xf=f,this.Ct=c,this.Ct&&(_.wn=this.Ct.encodedFrameRate,_.On=this.Ct.streamUrl,_.Ms=this.Ct.duration),this.xf&&(_.Gf=_.xf.get(C.B)),_.ki=l}.apply(this,arguments),this.Tt=function(){this.xf=null,this.Fi=null,this.N=null,this.Yf=null,this.Wf=null,this.Kf=null,this._e=null,this.g=null,this.p=null,this.Vi=null,this.Ee=null,this.jf.qf(),this.jf=null,this.Tf=null,this.Nf=!0},this.Xf=function(t){this.Ds=t,this.Jf=this.Ds.Jf,this.p.Kh(this.Ds.C),this.Ps=this.Yf.current(),this.Cs()||this.Qf()?(this.Za+=w.xa,_.p.info("start(): assetName="+_.Ct.assetName)):_.p.info("start()"+_.Zf())},this.zf=function(){this.gf=!0},this.$f=function(){this.p.debug("initialize()"),(this.Cs()||this.Qf()||this.Fs())&&(this.Ee&&this.Ee._&&this.Ee._.Bs(g.APP_TRACKER_EVENT.VIDEO_ATTEMPT,{},this),_.tc(),_.nc(),_.ic(),this.Cs()||this.Qf())&&_.ec()},this.sc=function(){this.p.debug("end(): schedule the last hb before session cleanup"+_.Zf()),this.oc(),this.rc(),this.uc(),this.hc()},this.ac=function(){this.gf||(this.hc(),this.fc())},this.ca=function(t){var n=_.sf;n!==t&&t&&(_.p.debug("Change browserName from "+n+" to "+t),_.sf=t)},this.la=function(t){var n=_.rf;n!==t&&t&&(_.p.debug("Change browserVersion from "+n+" to "+t),_.rf=t)},this.da=function(t){var n=_.uf;n!==t&&t&&(_.p.debug("Change deviceBrand from "+n+" to "+t),_.uf=t)},this.va=function(t){var n=_.hf;n!==t&&t&&(_.p.debug("Change deviceManufacturer from "+n+" to "+t),_.hf=t)},this.Ea=function(t){var n=_.af;n!==t&&t&&(_.p.debug("Change deviceModel from "+n+" to "+t),_.af=t)},this._a=function(t){var n=_.ff;n!==t&&t&&(_.p.debug("Change deviceType from "+n+" to "+t),_.ff=t)},this.Ra=function(t){var n=_.cf;n!==t&&t&&(_.p.debug("Change deviceVersion from "+n+" to "+t),_.cf=t)},this.Ta=function(t){var n=_.vf;n!==t&&t&&(_.p.debug("Change operatingSystemName from "+n+" to "+t),_.vf=t)},this.Sa=function(t){var n=_.Ef;n!==t&&t&&(_.p.debug("Change operatingSystemVersion from "+n+" to "+t),_.Ef=t)},this.Oa=function(t){var n=_._f;n!==t&&t&&(_.p.debug("Change deviceCategory from "+n+" to "+t),_._f=t)},this.Na=function(t){var n=_.Rf;n!==t&&t&&(_.p.debug("Change screenWidth from "+n+" to "+t),_.Rf=t)},this.ga=function(t){var n=_.pf;n!==t&&t&&(_.p.debug("Change screenHeight from "+n+" to "+t),_.pf=t)},this.Ia=function(t){var n=_._f;n!==t&&t&&(_.p.debug("Change scaleFactor from "+n+" to "+t),_.Af=t)},this.Vs=function(){return _.lf},this.pa=function(t){var n=_.lf;n!==t&&t&&(_.p.debug("Change frameworkName from "+n+" to "+t),_.lf=t)},this.ks=function(){return _.df},this.Aa=function(t){var n=_.df;n!==t&&t&&(_.p.debug("Change frameworkVersion from "+n+" to "+t),_.df=t)},this.ma=function(t){var n;_.Ct.streamUrl||(n=_.On)!==t&&t&&(_.p.debug("Change stream url from "+n+" to "+t),_.On=t)},this.cc=function(){_.rc(),_.Hf||(_.lc(),_.kf=_._e.create(_.lc,_.Ff,"CwsSession.startCdnTimer"),_.p.debug("fetching cdn ip timer started"))},this.rc=function(){_.kf&&(_.kf(),_.dc(null,null,null,null,null),_.kf=null)},this.lc=function(){_.p.debug("detectCDNServerIp(): For "+_.On),_.Bf?_.vc():_.rc()},this.vc=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",_.On,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?_.dc("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):_.dc("null","header","null","null",""+this.status))},t.send()):_.p.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){_.p.info("Exception caught in makeAkamaiHeadRequest")}},this.dc=function(t,n,i,e,s){var o={},r={};_.bf!==t&&(null!==_.bf&&(r[N.Lu]=_.bf),_.bf=t,null===_.bf?o[N.Lu]="null":o[N.Lu]=_.bf),_.Lf!==n&&(null!==_.Lf&&(r[N.Mu]=_.Lf),_.Lf=n,null===_.Lf?o[N.Mu]="null":o[N.Mu]=_.Lf),_.Mf!==i&&(null!==_.Mf&&(r[N.Uu]=_.Mf),_.Mf=i,null===_.Mf?o[N.Uu]="null":o[N.Uu]=_.Mf),_.Uf!==e&&(null!==_.Uf&&(r[N.Vu]=_.Uf),_.Uf=e,null===_.Uf?o[N.Vu]="null":o[N.Vu]=_.Uf),_.Vf!==s&&(null!==_.Vf&&(r[N.ku]=_.Vf),_.Vf=s,null===_.Vf?o[N.ku]="null":o[N.ku]=_.Vf),"{}"!==JSON.stringify(o)&&_.Ec(o,r)},this._c=function(t){var n=_.yn;n!==t&&t>0&&(_.p.info("Change bitrate from "+n+" to "+t),_.Rc(n,t),_.yn=t)},this.Ac=function(t){var n=_.Dn;n!==t&&t>0&&(_.p.info("Change Avg bitrate from "+n+" to "+t),_.Tc(n,t),_.Dn=t)},this.wa=function(t){var n=_.gi;n!==t&&t>=0&&(_.p.info("Change dropped frames total from "+n+" to "+t),_.Sc(n,t),_.gi=t)},this.yo=function(t){var n=_.nf,i=t+(-1===_.nf?0:_.nf);n!==t&&i>=0&&(_.p.info("Change dropped frames count from "+n+" to "+i),_.Oc(n,i),_.nf=i)},this.oa=function(t){var n=_.if;n!==t&&t&&(_.p.info("Change resource from "+n+" to "+t),_.if=t)},this.xh=function(t){_._n!==t&&t&&(_.p.info("Change assetName from "+_._n+" to "+t),_._n=t)},this.Vh=function(t){var n=_.Us;n!==t&&y.ie(t)&&(_.p.info("Change isLive from "+n+" to "+t),_.Us=t)},this.Yh=function(t){var n=_.Tn;n!==t&&t&&(_.p.info("Change viewerId from "+n+" to "+t),_.Tn=t)},this.qh=function(t){var n=_.Ls;n!==t&&t&&(_.p.info("Change playerName from "+n+" to "+t),_.Ls=t)},this.Xh=function(t){var n=_.ef;!y.Nc(n,t)&&t&&(_.p.info("Change tags from "+y.gc(n)+" to "+y.gc(t)),_.ef=t)},this.ra=function(t){_.Ct.encodedFrameRate>0||(_.p.debug("setEncodedFrameRate(): "+t),_.wn=t)},this.ia=function(t){_.Ct.duration>0||(_.p.debug("setContentLength(): "+t),_.Ms=t)},this.Je=function(t){var n,i=!1;_.Of||t!==u.PlayerState.PLAYING||(_.Of=!0,_.Cs()&&(i=!0),y.Pt(_.Ct.viewerId)||_.p.error("Missing viewerId. viewerId should be updated before first frame is rendered."),y.Pt(_.Ct.streamType)&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),y.Pt(_.Ct.applicationName))||_.p.error("Missing applicationName. applicationName should be updated before first frame is rendered."),_.Pn!==t&&(n=_.Pn,_.p.info("setPlayerState(): changing player state from "+n+" to "+t),_.Ic(n,t),_.Pn=t,i)&&(_.p.info("SetPlayerState(): to playing state triggered urgent HB"),_.wc())},this.Cc=function(t){var n=_.Fn;n!==t&&t>0&&(_.p.debug("Change stream resolution width from "+n+" to "+t),_.yc(n,t),_.Fn=t)},this.mc=function(t){var n=_.Bn;n!==t&&t>0&&(_.p.debug("Change stream resolution height from "+n+" to "+t),_.Dc(n,t),_.Bn=t)},this.ba=function(t){var n=_.M;n!==t&&t&&(_.p.debug("Change network connection type from "+n+" to "+t),_.Pc(n,t),_.M=t)},this.La=function(t){var n=_.U;n!==t&&t&&(_.p.debug("Change network link encryption from "+n+" to "+t),_.bc(n,t),_.U=t)},this.ka=function(t){_.Hf=!0,_.rc();var n=_.fo;n!==t&&y.Pt(t)&&(_.p.debug("Change CDN Server IP from "+n+" to "+t),_.Lc(n,t),_.fo=t)},this.Ka=function(t){var n=_.jn;n!==t&&y.Pt(t)&&!_.Ds.Mc&&(_.p.info("Change Audio Lang from "+n+" to "+t),_.Uc(n,t),_.jn=t)},this.Wa=function(t){var n=_.Kn;n!==t&&y.Pt(t)&&!_.Ds.Vc&&(_.p.info("Change Subtitle Lang from "+n+" to "+t),_.kc(n,t),_.Kn=t)},this.Ya=function(t){var n=_.Wn;n!==t&&y.Pt(t)&&!_.Ds.Fc&&(_.p.info("Change Closed Caption Lang from "+n+" to "+t),_.Bc(n,t),_.Wn=t)},this.Hc=function(t){var n;_.p.debug("togglePauseJoin()"),_.Sf===t?_.p.debug("togglePauseJoin(): same value, ignoring"):(t=_.Sf,n=!_.Sf,_.Gc(t,n),_.Sf=!_.Sf)},this.jc=function(t,n){_.Kc(t,n),_.p.info("sendError(): triggered urgent HB"),n&&_.wc()},this.Wc=function(t,n){var i,e;n[N.sh]=t,n[N.rh]=this.bs(),n[N.oh]=this.jf.Yc(),this.Ue&&(i=P.xc(this.Ue.getPHT(),0,null,-1),e=P.xc(this.Ue.getBufferLength(),0,null,-1),i>=0&&(n[N.pu]=i),e>0)&&(n[N.Au]=e),this.jf.qc(n),this.Ee._&&this.Ee._.Bs(t,n,this)},this.Xc=function(t){_.Ue=t,_.Ue?_.Jc():_.Qc()},this.oc=function(){var t=this.Wf.Tr(this.Zc(),this.bs());this.Ee._&&this.Ee._.Bs(N.Qs,{},this),this.jf.qc(t)},this.Kc=function(t,n){var i={};i[N.Xs]=t,i[N.Js]=n,this.Wc(N.qs,i)},this.Rc=function(t,n){var i={},e={};t>0&&(e[N.Ys]=t),i[N.Ys]=n,this.Ec(i,e)},this.Tc=function(t,n){var i={},e={};t>0&&(e[N.xs]=t),i[N.xs]=n,this.Ec(i,e)},this.zc=function(t,n){var i={};i[N.uh]=t,n>=0&&(i[N.hh]=n),this.Wc(N.mr,i)},this.yc=function(t,n){var i={},e={};-1!==t&&(e[N.Nu]=t),i[N.Nu]=n,this.Ec(i,e)},this.Dc=function(t,n){var i={},e={};-1!==t&&(e[N.gu]=t),i[N.gu]=n,this.Ec(i,e)},this.Pc=function(t,n){var i={},e={};null!==t&&(e[N.Iu]=t),i[N.Iu]=n,this.Ec(i,e)},this.bc=function(t,n){var i={},e={};null!==t&&(e[N.wu]=t),i[N.wu]=n,this.Ec(i,e)},this.Lc=function(t,n){var i={},e={};y.Pt(t)&&(e[N._h]=t),i[N._h]=n,this.Ec(i,e)},this.Sc=function(t,n){var i={},e={};t>=0&&(e[N.Cu]=t),i[N.Cu]=n,this.Ec(i,e)},this.Oc=function(t,n){var i={},e={};t>=0&&(e[N.yu]=t),i[N.yu]=n,this.Ec(i,e)},this.Uc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.mu]=t),i[N.mu]=n),this.Ec(i,e)},this.kc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.Du]=t),i[N.Du]=n),this.Ec(i,e)},this.Bc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.Pu]=t),i[N.Pu]=n),this.Ec(i,e)},this.Gc=function(t,n){var i={},e={};e[N.cu]=t,i[N.cu]=n,this.Ec(i,e)},this.Ic=function(t,n){var i={},e={};i[N.Gs]=N.Rh(n),e[N.Gs]=N.Rh(t),this.Ec(i,e)},this.Ec=function(t,n){var i={};i[N.ys]=t,n&&y.Ht(n)>0&&(i[N.ah]=n),this.Wc(N.Hs,i)},this.$c=function(t,n){var i={};i[N.zs]=t,y.Ht(n)>0&&(i[N.$s]=n),this.Wc(N.Zs,i)},this.uc=function(){_.qa&&(_.qa(),_.qa=null)},this.fc=function(){_.uc();var t=1e3*_.Vi.heartbeatInterval;_.qa=_._e.create(_.hc,t,"Session.sendHeartbeat:"+this.Jf)},this.Qc=function(){_.wf&&(_.wf(),_.wf=null)},this.Jc=function(){_.Qc(),_.wf=_._e.create(_.tl,_.Cf,"Session.startRfpsTimer")},this.nl=function(){var t={err:"pending"};t.seq=_.Qa-1,t.sentAt=_.bs(),t.rtt=-1,_.$a.push(t);for(var n=0;n<_.$a.length;n++)"ok"===(t=_.$a[n]).err&&(_.$a.splice(n,1),n--)},this.il=function(t,n){for(var i=0;i<_.$a.length;i++){var e=_.$a[i];e.seq===t&&(e.rtt=_.bs()-e.sentAt,e.err=n)}},this.el=function(t){for(var n=0;n<_.$a.length;n++){var i=_.$a[n];i.seq===t&&(i.rtt=_.bs()-i.sentAt,i.err="ok")}},this.sl=function(){for(var t,n,i=_.xf.get(C.ol),e=[],s=-1,o=0;o<_.$a.length;o++)if("ok"===(n=_.$a[o]).err){s=n.seq;break}for(var r=0;r<_.$a.length;r++)((t=(n=_.$a[r]).seq)<_.Qa-i||t<s)&&e.push(r);for(var u=[],h=0;h<_.$a.length;h++)t=(n=_.$a[h]).seq,e.indexOf(h)<0&&u.push(_.$a[h]);_.$a=u},this.rl=function(){_.sl();for(var t=[],n=0;n<_.$a.length;n++){var i=_.$a[n],e={};e[N.fh]=i.seq,e[N.dh]=i.rtt,e[N.lh]=i.err,t.push(e)}return t},this.ul=function(){var t,n=-1,i=-1,e=_.jf.qf();if(_.Fs()&&0===e.length)return null;var s=new $,o=(s.Lh(N.Kr),s.Fh(_.Vi.customerKey),s.Bh(_.xf.get(C.B)),s.Kh(_.Ds.C),s.kh(_.Qa),s.Gh(N.version),g.version);if(_.ki&&(o=_.ki),s.Hh(o),s.Wh(_.Ee.C),s.jh(0),_.Ee.M?s.ba(_.Ee.M):_.M&&s.ba(_.M),_.Ee.U?s.La(_.Ee.U):_.U&&s.La(_.U),y.Pt(_.fo)&&s.ka(_.fo),s.fa(N.yr),_.sf&&s.ca(_.sf),_.rf&&s.la(_.rf),_.uf&&s.da(_.uf),_.hf&&s.va(_.hf),_.af&&s.Ea(_.af),_.ff&&s._a(_.ff),_.cf&&s.Ra(_.cf),_.vf&&s.Ta(_.vf),_.Ef&&s.Sa(_.Ef),_._f&&s.Oa(_._f),_.lf&&s.pa(_.lf),_.df&&s.Aa(_.df),_.Rf&&!isNaN(_.Rf)&&s.Na(parseInt(_.Rf,10)),_.pf&&!isNaN(_.pf)&&s.ga(parseInt(_.pf,10)),_.Af&&!isNaN(_.Af)?s.Ia(parseFloat(_.Af)):(_.Rf&&!isNaN(_.Rf)||_.pf&&!isNaN(_.pf))&&s.Ia(1),_.Ue&&(_.Vn=_.Ue.zn(),_.Vn&&s.setModuleName(_.Vn),_.kn=_.Ue.$n(),_.kn&&s.Va(_.kn),_.Ue.ti()&&(_.lf=_.Ue.ti(),s.pa(_.lf)),_.Ue.ii())&&(_.df=_.Ue.ii(),s.Aa(_.df)),_.Tn&&s.Yh(_.Tn),y.Ht(_.ef)>0&&s.Xh(_.ef),_.Cs()||_.Qf()){_.Qf()&&s.Ma(),_._n&&s.xh(_._n),s.Jh(_.Za);o=N.Rh(_.Pn),o=(s.Je(o),s.na(_.Sf),_.Ls&&s.qh(_.Ls),y.ie(_.Us)&&s.Vh(_.Us),_.Ms>0&&s.ia(_.Ms),_.yn>0&&s.ea(_.yn),_.Dn>0&&s.sa(_.Dn),null!==_.if&&s.oa(_.if),_.wn>0&&s.ra(_.wn),_.Ue&&(n=P.xc(_.Ue.getPHT(),0,null,-1),i=P.xc(_.Ue.getBufferLength(),0,null,-1)),y.gt(_.Ee.V)?t=_.Ee.V:_.Ue&&(t=_.Ue.getSignalStrength()),n>=0&&s.Ca(n),i>0&&s.ya(i),_.hl());if(o>0&&s.ua(o),_.mf>0&&s.aa(P.xc(_.mf,0,null,-1)),_.yf>0&&s.ha(P.xc(_.yf,0,null,-1)),t!==u.DEFAULT_SIGNAL_STRENGTH&&s.Ua(t),_.On&&s.ma(_.On),_.Fn>0&&s.Da(_.Fn),_.Bn>0&&s.Pa(_.Bn),_.gi>-1&&s.wa(_.gi),_.nf>-1&&(s.yo(_.nf),_.nf>0)&&(_.Oc(_.nf,0),_.nf=0),_.jn&&s.Ka(_.jn),_.Kn&&s.Wa(_.Kn),_.Wn&&s.Ya(_.Wn),"undefined"!==typeof _.Tf)for(var r in _.Tf)s.Ph(r,_.Tf[r])}else s.Jh(N.Sh.Oh);return e.length>0&&s.Zh(e),s.Qh(_.za),s.zh(!0),_.xf.get(C.al)&&s.$h(_.Fi.qf()),_.xf.get(C.ol)>0&&(n=_.rl()).length>0&&s.ta(n),0===_.Qa&&(s=_.fl(s)),(s=0!==_.Qa?_.ll(s):s).Uh(_.Ps),s.Mh(_.bs()),_.Bf&&(s.Fa(_.bf),s.Ba(_.Lf),s.Ha(_.Mf),s.Ga(_.Uf),s.ja(_.Vf)),_.Qa++,s.get()},this.ll=function(t){var n,i=_.D,e={};for(n in t.Dh.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.Dh.tags[n]);t.Dh.tags=e,_.D={};for(var s=0;s<_.Df.length;s++)Object.prototype.hasOwnProperty.call(_.Ee.D,_.Df[s])?Object.prototype.hasOwnProperty.call(_.Ee.L,_.Df[s])?_.Ee.L[_.Df[s]]===C.$t.tn?(_.D[C.dl+""+_.Df[s]]=C.$t.tn,_.Ee.P("End-user chose to opt-out of personal data collection")):_.Ee.L[_.Df[s]]===C.$t.en?(_.D[C.dl+""+_.Df[s]]=C.$t.en,_.Ee.P("End-user chose to opt-out of personal data collection")):_.Ee.L[_.Df[s]]===C.$t.zt?(_.D[C.dl+""+_.Df[s]]=C.$t.zt,_.Ee.P("End-user used privacy settings and chose to opt-out of personal data collection")):(_.D[C.dl+""+_.Df[s]]=_.Ee.D[_.Df[s]],_.Ee.P("Data collection successful")):(_.D[C.dl+""+_.Df[s]]=_.Ee.D[_.Df[s]],_.Ee.P("Data collection successful")):_.D[C.dl+""+_.Df[s]]=C.$t.vl;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(_.Df)&&-1!==_.Df.indexOf(""+u[2])||i[C.dl+""+u[2]]===C.$t.El||(_.Ee.P("Data collection restricted from Conviva back-end"),_.D[C.dl+""+u[2]]=C.$t.El,r[C.dl+""+u[2]]=C.$t.El)}if("{}"!==JSON.stringify(_.D)){var h,a=y._l(_.D);for(h in t.Dh.tags)a[h]=t.Dh.tags[h];if(t.Dh.tags=a,!y.Nc(i,_.D)){var f={};if("{}"!==JSON.stringify(r)&&(f[N.ou]=r),"{}"!==JSON.stringify(i)){for(var c in i)_.D[c]&&i[c]!==_.D[c]&&(f[N.ou]||(f[N.ou]={}),f[N.ou][c]=_.D[c]);for(var l in _.D)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===_.D[l]||(f[N.ou]||(f[N.ou]={}),f[N.ou][l]=_.D[l])}"{}"===JSON.stringify(i)&&(f[N.ou]=_.D);var d,v,E={};E[N.ys]=f,E[N.sh]=N.Hs,E[N.rh]=_.bs(),E[N.oh]=_.jf.Yc(),_.Ue&&(d=P.xc(_.Ue.getPHT(),0,null,-1),v=P.xc(_.Ue.getBufferLength(),0,null,-1),d>=0&&(E[N.pu]=d),v>0)&&(E[N.Au]=v),t.Dh.evs||(t.Dh.evs=[]),t.Dh.evs.push(E)}}return t},this.fl=function(t){var n=_.Rl();if("{}"!==JSON.stringify(n)){var i,e=y._l(n);for(i in t.Dh.tags)e[i]=t.Dh.tags[i];t.Dh.tags=e;var s,o={},n=(o[N.ou]=n,{});n[N.ys]=o,n[N.sh]=N.Hs,n[N.rh]=_.bs(),n[N.oh]=_.jf.Yc(),_.Ue&&(o=P.xc(_.Ue.getPHT(),0,null,-1),s=P.xc(_.Ue.getBufferLength(),0,null,-1),o>=0&&(n[N.pu]=o),s>0)&&(n[N.Au]=s),t.Dh.evs||(t.Dh.evs=[]),t.Dh.evs.push(n)}return t},this.Rl=function(){var t={};if("undefined"!==typeof navigator&&navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=_.pl();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]="undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:""),t},this.pl=function(){try{if("undefined"!==typeof document&&document&&"function"===typeof document.createElement){var t,n,i=document.createElement("CANVAS");if("undefined"!==typeof i&&i&&"function"===typeof i.getContext)return t=i.getContext("2d"),n="conviva",t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(n,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),O.pr(i.toDataURL())}return""}catch(t){return""}},this.hc=function(){var t;_.Nf||(t=_.ul())&&_.Al(t)},this.tl=function(){var t;_.Pn===u.PlayerState.PLAYING&&_.Ue&&(t=_.Ue.getRenderedFrameRate())>0&&(_.mf+=t,_.yf++)},this.hl=function(){return _.mf>0&&_.yf>0||(this.tl(),_.mf>0&&_.yf>0)?y.Tl.Cast(+_.mf/_.yf):u.DEFAULT_RENDERED_FRAME_RATE},this.Al=function(t){_.nl();var i=_.Qa-1;_.p.info("postHeartbeat(): Send HB["+i+"]"+_.Zf());_.Kf.Sl(t,function(t,n){_.Ol(t,n,i)})},this.Ol=function(i,e,s){_.Nf||_.g.F("onHeartbeatResponse",function(){var t,n;i?e?(_.p.debug("onHeartbeatResponse(): received valid response for HB["+s+"]"),_.el(s),(t=e[N.Mr])&&t!==(n=_.xf.get(C.B))&&(_.p.debug("onHeartbeatResponse(): setting the client id to "+t+" (from gateway)"),_.xf.set(C.B,t),_.xf.Nl(),n===N.H)&&t!==N.H&&(_.Ee.k(),_.If)&&(_.p.debug("Send enqueued urgent hb as client id is available"),_.wc()),(n=e[N.Lr])&&n!==N.Pr&&_.p.error("onHeartbeatResponse(): error from gateway: "+n),"object"===typeof(t=e[N.Ur])&&((n=t[N.kr])>=0&&_.xf.get(C.ol)!==n&&(_.p.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+n+" (from gateway)"),_.xf.set(C.ol,n)),n=t[N.Fr],(n=!!y.ie(n)&&n)!==_.xf.get(C.al)&&(_.p.debug("onHeartbeatResponse(): turning "+(n?"on":"off")+" sending of logs"),_.xf.set(C.al,n)),n=t[N.Br],y.gt(n)&&(n=y.Tl.Cast(n))!==_.Vi.heartbeatInterval&&(_.p.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),_.Vi.heartbeatInterval=n,_.qa)&&_.fc(),(n=t[N.Hr])&&n!==_.Vi.gatewayUrl&&(_.p.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),_.Vi.gatewayUrl=n),_.gl()||(_.Df={},(n=t[N.Gr])&&(_.Pf||(_.Pf=!0),_.p.debug("onHeartbeatResponse(): received fp from gateway: "+n),_.Df=n.split(",")),_.Bf=t[N.jr],y.ie(_.Bf)&&(_.Bf?(_.p.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),_.kf||_.cc()):_.rc())))):_.p.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(y.Pt(n=e)?y.Il(n,"HTTP timeout")?_.p.warning("onHeartbeatResponse(): "+n):_.p.error("onHeartbeatResponse(): failed to send heartbeat: "+n):(n=tt.wl,_.p.error("onHeartbeatResponse(): "+n)),_.il(s,n))})},this.bs=function(){return y.Tl.Cast(_.Yf.current()-_.Ps)},this.Zc=function(){return this.jf.Yc()},this.Zf=function(){return this.Fs()?" (global session)":""},this.Fs=function(){return this.Jf===w.Nt.Oh},this.gl=function(){return this.Jf===w.Nt.Oh&&"T"===this.ef["c3.IPV4IPV6GlobalSession"]},this.Cs=function(){return this.Jf===w.Nt.Ot},this.Qf=function(){return this.Jf===w.Nt.Dt},this.Lt=function(t){_.Cl(t),_.tc()},this.Cl=function(t){var n={},i={};if(y.Pt(t.assetName)&&!_.Ds.yl&&(_.Ct.assetName!==t.assetName?(_.Ct.assetName&&(n[N.eu]=_.Ct.assetName),i[N.eu]=t.assetName,_.Ct.assetName=t.assetName):_.p.warning("mergeContentMetadata(): assetName was not changed.")),y.Pt(t.applicationName)&&(_.Ct.applicationName!==t.applicationName?(_.Ct.applicationName&&(n[N.su]=_.Ct.applicationName),i[N.su]=t.applicationName,_.Ct.applicationName=t.applicationName):_.p.warning("mergeContentMetadata(): applicationName was not changed.")),y.Pt(t.streamUrl)&&!_.Ds.ml&&(_.Ct.streamUrl!==t.streamUrl?(_.Ct.streamUrl&&(n[N.Tu]=_.Ct.streamUrl),i[N.Tu]=t.streamUrl,_.Ct.streamUrl=t.streamUrl,_.On=_.Ct.streamUrl):_.p.warning("mergeContentMetadata(): streamUrl was not changed.")),y.Pt(t.viewerId)&&(_.Ct.viewerId!==t.viewerId?(_.Ct.viewerId&&(n[N.iu]=_.Ct.viewerId),i[N.iu]=t.viewerId,_.Ct.viewerId=t.viewerId):_.p.warning("mergeContentMetadata(): viewerId was not changed.")),y.Pt(t.defaultResource)&&!_.Ds.Dl&&(_.Ct.defaultResource!==t.defaultResource?(_.Ct.defaultResource&&(n[N.Ru]=_.Ct.defaultResource),i[N.Ru]=t.defaultResource,_.Ct.defaultResource=t.defaultResource):_.p.warning("mergeContentMetadata(): defaultResource was not changed.")),y.gt(t.duration)&&t.duration>0&&!_.Ds.Pl&&(_.Ct.duration!==t.duration?(_.Ms>0&&(n[N.lu]=_.Ms),i[N.lu]=t.duration,_.Ct.duration=t.duration,_.Ms=_.Ct.duration):_.p.warning("mergeContentMetadata(): duration was not changed.")),y.gt(t.encodedFrameRate)&&t.encodedFrameRate>0&&!_.Ds.bl&&(_.Ct.encodedFrameRate!==t.encodedFrameRate?(_.Ct.encodedFrameRate>-1&&(n[N.du]=_.Ct.encodedFrameRate),i[N.du]=t.encodedFrameRate,_.Ct.encodedFrameRate=t.encodedFrameRate,_.wn=_.Ct.encodedFrameRate):_.p.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType!==t.streamType?(_.Ct.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType===c.StreamType.LIVE?n[N.Xr]=!0:n[N.Xr]=!1),t.streamType===c.StreamType.LIVE?i[N.Xr]=!0:i[N.Xr]=!1,_.Ct.streamType=t.streamType):_.p.warning("mergeContentMetadata(): streamType was not changed.")),y.Ht(t.custom)>0){var e,s={},o={};for(e in t.custom)_.Ct.custom[e]!==t.custom[e]?(s[e]=t.custom[e],_.Ct.custom[e]&&(o[e]=_.Ct.custom[e]),_.Ct.custom[e]=t.custom[e]):_.p.info("mergeContentMetadata(): custom."+e+" was not changed.");y.Ht(s)>0?(y.Ht(o)>0&&(n[N.ou]=o),i[N.ou]=s):_.p.warning("mergeContentMetadata(): custom was not changed.")}y.Ht(i)>0&&this.Ec(i,n)},this.tc=function(){var t;_.p.debug("setStatesFromContentMetadata()"),_.Ct.defaultResource&&this.oa(_.Ct.defaultResource),_.Ct.streamUrl&&this.ma(_.Ct.streamUrl),_.Ct.duration>0&&this.ia(_.Ct.duration),_.Ct.encodedFrameRate>0&&this.ra(_.Ct.encodedFrameRate),_.Ct.streamType!==c.StreamType.UNKNOWN&&(t=_.Ct.streamType===c.StreamType.LIVE,this.Vh(t)),_.Ct.assetName&&this.xh(_.Ct.assetName),_.Ct.viewerId&&this.Yh(_.Ct.viewerId),(_.Ct.applicationName||_.Ct.playerName)&&this.qh(_.Ct.applicationName||_.Ct.playerName),y.Ht(_.Ct.custom)>0&&this.Xh(_.Ct.custom)},this.nc=function(){var t={};if(this.Fs()||(_.Ct.assetName?t[N.eu]=_.Ct.assetName:_.p.warning("enqueueEventForContentMetadata(): assetName was not set."),_.Ct.applicationName?t[N.su]=_.Ct.applicationName:_.p.warning("enqueueEventForContentMetadata(): applicationName was not set."),_.Ct.streamUrl?t[N.Tu]=_.Ct.streamUrl:_.p.warning("enqueueEventForContentMetadata(): streamUrl was not set."),_.Ct.viewerId?t[N.iu]=_.Ct.viewerId:_.p.warning("enqueueEventForContentMetadata(): viewerId was not set."),_.Ct.defaultResource?t[N.Ru]=_.Ct.defaultResource:_.p.warning("enqueueEventForContentMetadata(): defaultResource was not set."),_.Ct.duration>-1?t[N.lu]=_.Ct.duration:_.p.warning("enqueueEventForContentMetadata(): duration was not set."),_.Ct.encodedFrameRate>-1?t[N.du]=_.Ct.encodedFrameRate:_.p.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),_.Ct.streamType!==c.StreamType.UNKNOWN?_.Ct.streamType===c.StreamType.LIVE?t[N.Xr]=!0:t[N.Xr]=!1:_.p.warning("enqueueEventForContentMetadata(): streamType was not set.")),y.Ht(_.Ct.custom)>0)for(var n in t[N.ou]={},_.Ct.custom)t[N.ou][n]=_.Ct.custom[n];else this.Fs()||_.p.warning("enqueueEventForContentMetadata(): custom tags were not set.");y.Ht(t)>0&&this.Ec(t,null)},this.ec=function(){_.Ct&&y.Pt(_.Ct.assetName)||_.p.warning("Missing assetName during session creation"),_.Ct&&y.Pt(_.Ct.defaultResource)||_.p.warning("Missing resource during session creation"),_.Ct&&y.Pt(_.Ct.streamUrl)||_.p.warning("Missing streamUrl during session creation"),(!_.Ct||_.Ct.encodedFrameRate<=0)&&_.p.warning("Missing encodedFrameRate during session creation"),_.Ct&&y.Pt(_.Ct.viewerId)||_.p.warning("Missing viewerId during session creation"),_.Ct&&_.Ct.streamType&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.warning("Missing streamType during session creation"),_.Ct&&y.Pt(_.Ct.applicationName)||_.p.warning("Missing applicationName during session creation"),(!_.Ct||_.Ct.duration<=0)&&_.p.warning("Missing duration during session creation")},this.Zt=function(t,n){_.Tf||(_.Tf={}),_.Tf[t]=n},this.ic=function(){var t={};_.Ee&&_.Ee.M&&(t[N.Iu]=_.Ee.M,_.M=_.Ee.M),_.Ee&&_.Ee.U&&(t[N.wu]=_.Ee.U,_.U=_.Ee.U),y.Ht(t)>0&&this.Ec(t,null)},this.wc=function(){var t;_.gf||((t=_.xf.get(C.B))&&t!==N.H&&""!==t&&"null"!==t?(_.If=!1,t=D.Ll(_.Xa,_.Ja),_.fc(),setTimeout(function(){try{_&&(_.hc(),_.fc())}catch(t){}},t)):(_.p.debug("Delay sending of urgent hb due to missing client id"),_.If=!0))}}).xa=N.Sh.Ot+N.Sh.Nh+N.Sh.gh,w.Nt={Ot:"Video",Oh:"Global",Dt:"Ad"},(tt=M.Session=function(){var e=this;e.Ue=null,e.C=0,e.Jf=w.Nt.Ot,e.Ml=!1,e.Nf=!1,e.Ul=!1,e.Vl=null,e.Re=null,e.kl=null,e.Fl=!1,e.Bl=u.PlayerState.NOT_MONITORED,e.Hl=!1,e.Gl=!1,e.jl=!1,e.bl=!1,e.Kl=!1,e.Vc=!1,e.Fc=!1,e.Mc=!1,e.yl=!1,e.ml=!1,e.Wl=!1,e.Pl=!1,e.Dl=!1,e.Yl=!1,function(t,n,i,e,s,o,r){this.C=t,this.Jf=n,this.xf=i,this.xl=e,this.wt=s,this.g=o,this.p=r}.apply(e,arguments),this.Xf=function(t,n){e.wt.Xf(this),t&&e.Vt(t),e.xf.ql()?e.Xl(n):e.xf.Jl(function(){e.Xl(n)})},this.cleanup=function(){e.Ml=!0,e.wt.zf(),e.xf.ql()?e.Ql():e.xf.Jl(function(){e.Ql()})},this.Zl=function(){(e.Cs()||e.Qf())&&e.Ue&&e.zl(),e.g=null,e.Ee=null,e.xf=null,e.xl=null,e.wt.Tt(),e.wt=null,e.Nf=!0},this.Ql=function(){e.wt.sc(),e.Zl()},this.Xl=function(t){e.wt.$f(),e.$l(),t?(e.bt(t.er(),t.sr()),e.wt.Je(u.PlayerState.STOPPED),e.wt.sc(),e.Zl()):e.wt.ac()},this.$l=function(){var t=e.xl.get(),n=t[L.BROWSER_NAME],n=(n&&e.wt.ca(n),t[L.BROWSER_VERSION]),n=(n&&e.wt.la(n),t[L.DEVICE_BRAND]),n=(n&&e.wt.da(n),t[L.DEVICE_MANUFACTURER]),n=(n&&e.wt.va(n),t[L.DEVICE_MODEL]),n=(n&&e.wt.Ea(n),t[L.DEVICE_TYPE]),n=(n&&e.wt._a(n),t[L.DEVICE_VERSION]),n=(n&&e.wt.Ra(n),t[L.FRAMEWORK_NAME]),n=(n&&e.wt.pa(n),t[L.FRAMEWORK_VERSION]),n=(n&&e.wt.Aa(n),t[L.OPERATING_SYSTEM_NAME]),n=(n&&e.wt.Ta(n),t[L.OPERATING_SYSTEM_VERSION]),n=(n&&e.wt.Sa(n),t[L.DEVICE_CATEGORY]),n=(n&&e.wt.Oa(n),t[L.SCREEN_WIDTH]),n=(n&&e.wt.Na(n),t[L.SCREEN_HEIGHT]),n=(n&&e.wt.ga(n),t[L.SCALE_FACTOR]);n&&e.wt.Ia(n)},this.Ei=function(t){e.wt.Pn===t||(e.wt.Pn===u.PlayerState.NOT_MONITORED&&t!==u.PlayerState.NOT_MONITORED&&(e.Bl=t),e.Fl)||e.wt.Je(t)},this._i=function(t){e.Hl||e.wt._c(t)},this.Ri=function(t){e.Hl||e.wt.Ac(t)},this.Ii=function(t){e.Gl||e.wt.wa(t)},this.wi=function(t){e.Gl||e.wt.yo(t)},this.pi=function(t,n){!y.gt(n)&&e.Yl&&(n=-1),e.wt.zc(t,n)},this.qn=function(t){t>0&&(e.bl||e.wt.ra(t))},this.Qn=function(t){t>0&&(e.Pl||e.wt.ia(t))},this.Zn=function(t){e.wt.ma(t)},this.Ai=function(t){e.wt.Cc(t)},this.Ti=function(t){e.wt.mc(t)},this.nt=function(t){e.wt.ba(t)},this.et=function(t){e.wt.La(t)},this.ni=function(t){e.wt.Vs()||e.wt.pa(t)},this.ei=function(t){e.wt.ks()||e.wt.Aa(t)},this.Oi=function(t){e.wt.ka(t)},this.oi=function(t){e.wt.Ka(t)},this.ui=function(t){e.wt.Wa(t)},this.ai=function(t){e.wt.Ya(t)},this.Si=function(t,n){e.bt(t,n)},this.Yn=function(){e.zl()},this.Wt=function(t,n,i){e.Ul||(e.Ul=!0,e.Vl=t,e.Re=n,e.kl=i,e.wt.Hc(!0),e.Vl===a.AdStream.CONTENT||e.Re===a.AdPlayer.SEPARATE?(e.wt.Pn!==u.PlayerState.NOT_MONITORED&&(e.Bl=e.wt.Pn),e.wt.Je(u.PlayerState.NOT_MONITORED),e.Fl=!0):e.Vl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.wt.Pn!==u.PlayerState.NOT_MONITORED&&(e.Bl=e.wt.Pn),e.wt.Je(u.PlayerState.NOT_MONITORED),e.Fl=!0,e.Hl=!0,e.Gl=!0,e.bl=!0,e.jl=!0,e.Vc=!0,e.Fc=!0,e.Mc=!0,e.yl=!0,e.ml=!0,e.Wl=!0,e.Pl=!0,e.Dl=!0,e.Yl=!0))},this.Yt=function(){e.Ul&&(e.wt.Hc(!1),e.Vl===a.AdStream.CONTENT||e.Re===a.AdPlayer.SEPARATE?e.td||(e.Fl=!1,e.wt.Je(e.Bl)):e.Vl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.Hl=!1,e.Gl=!1,e.bl=!1,e.jl=!1,e.Kl=!1,e.td||(e.Fl=!1,e.wt.Je(e.Bl)),e.Vc=!1,e.Fc=!1,e.Mc=!1,e.yl=!1,e.ml=!1,e.Wl=!1,e.Pl=!1,e.Dl=!1,e.Yl=!1),e.Ul=!1,e.Vl=e.Re=e.kl=null)},this.Mt=function(){e.Ue&&(e.g.F("Session.detachPlayer",function(){e.Ue.xn()}),e.Ue=null,e.wt.Xc(null),e.wt.Je(u.PlayerState.NOT_MONITORED))},this.zl=function(){e.Ue&&(e.g.F("Session.releasePlayerStateManager",function(){e.Ue.xn()}),e.Ue=null,e.wt.Xc(null),e.wt.Je(u.PlayerState.NOT_MONITORED))},this.Ut=function(){e.wt.Hc(!0),e.wt.Pn!==u.PlayerState.NOT_MONITORED&&(e.Bl=e.wt.Pn),e.wt.Je(u.PlayerState.NOT_MONITORED),e.Fl=!0},this.Vt=function(t){e.Ue||t instanceof u&&e.g.F("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.C)&&(t.fi(),e.Ue=t,e.wt.Xc(e.Ue))})},this.kt=function(){e.wt.Hc(!1),e.Hl=!1,e.Gl=!1,e.nd=!1,e.jl=!1,e.Kl=!1,e.Vc=!1,e.Fc=!1,e.Mc=!1,e.yl=!1,e.ml=!1,e.Wl=!1,e.Pl=!1,e.Dl=!1,e.Yl=!1,e.td||(e.Fl=!1,e.Bl!==u.PlayerState.NOT_MONITORED&&e.wt.Je(e.Bl))},this.qt=function(){return e.Ue},this.Ft=function(){e.td||(e.td=!0,e.Fl=!0)},this.Bt=function(){e.td&&(e.td=!1,e.Ul||(e.Fl=!1,e.Bl!==u.PlayerState.NOT_MONITORED&&e.wt.Je(e.Bl)))},this.bt=function(t,n){!y.Pt(t)||n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.Kl||(n=n===a.ErrorSeverity.FATAL,e.wt.jc(t,n))},this.Lt=function(t){e.g.F("Session.updateContentMetadata",function(){e.wt.Lt(t)})},this.Kt=function(t,n){e.wt.$c(t,n)},this.Fs=function(){return e.Jf===w.Nt.Oh},this.Cs=function(){return e.Jf===w.Nt.Ot},this.Qf=function(){return e.Jf===w.Nt.Dt},this.Zf=function(){return e.Fs()?" (global session)":""},this.Jt=function(){return this.C},this.Qt=function(){var t=null;return t=e.xf.ql()?e.xf.get(C.B):t},this.Zt=function(t,n){e.wt.Zt(t,n)}}).wl="received no response (or a bad response) to heartbeat POST request",nt=M.SessionFactory=function(){var o=this;o.Fi=null,o.ed=0,o.sd=null,function(t,n,i,e){o.Ee=t,o.Vi=n,o.xf=i,o.T=e,o.ed=0,o.sd={}}.apply(o,arguments),this.Tt=function(){for(var t in o.Fi=null,o.sd)o.sd[t].cleanup();o.sd=null,o.ed=0},this.od=function(){var t=o.ed;return o.ed++,t},this.St=function(t,n,i,e,s){return t||(t=new c),o.rd(t,n,i,e,s)},this.Y=function(t){return o.rd(t,w.Nt.Oh,void 0,g.version)},this.ud=function(){return D.hd()},this.rd=function(t,n,i,e,s){n=o.T.Zi(o.Ee,o.Vi,o.xf,o.ud(),n,t.ct(),e),t=o.od();return"undefined"!==typeof s&&"undefined"!==typeof s.error?n.Xf(i,s.error):(o.ad(t,n),n.Xf(i)),t},this.jt=function(t){t=o.sd[t];return t},this.It=function(t){t=this.jt(t);return t=!t||t.Cs()||t.Qf()?t:null},this.ad=function(t,n){o.sd[t]=n},this.fd=function(t){delete o.sd[t]},this.xt=function(t){var n=o.jt(t);o.fd(t),n.cleanup()},this.tt=function(){return o.sd}},it=M.ld=function(t){this._e=t,this.dd=function(i,t,n){var e=!1;this._e.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},(C=M.Config=function(t,n,i){var e=this;this.Ed=n,this._d=i,this.Rd={clientId:N.H,iid:N.Or,sendLogs:!1,maxHbInfos:N.gr},this.I=y._l(this.Rd),this.pd=!1,this.Ad=!1,this.Td=[],this.ql=function(){return this.pd},this.Et=function(){this.Ed.Et(C.vd,function(t,n){t&&e.Sd(n),e.pd=!0,e.Od()})},this.Sd=function(t){var n,t=this._d.yh(t);t?t&&(n=t[C.Nd],t=t[C._t],n&&n!==N.H&&""!==n&&"null"!==n?this.I[C.B]=n:(this.I[C.B]=this.gd(),this.Nl()),t!==N.Or)&&""!==t&&"null"!==t&&(this.I[C._t]=t):(this.I[C.B]=this.gd(),this.Nl(),this.Ad=!0)},this.Id=function(){var t={};return t[C.Nd]=this.I.clientId,this._d.Ch(t)},this.Nl=function(){this.Ed.Nl(C.vd,this.Id(),function(t,n){})},this.Jl=function(t){this.ql()?t():this.Td.push(t)},this.get=function(t){return this.pd?this.I[t]:null},this.set=function(t,n){this.pd&&(this.I[t]=n)},this.Od=function(){for(var t;"undefined"!==typeof(t=this.Td.shift());)t()},this.getClientId=function(){return this.I.clientId},this.gd=function(){try{var t=2147483647;return Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()+"."+Math.floor(Math.random()*t).toString()}catch(t){this.p.debug("error caught in _generateClid()")}return"0"},this.getIid=function(){return this.I.iid}}).vd="sdkConfig",C.Nd="clId",C._t="iid",C.B="clientId",C.al="sendLogs",C.ol="maxHbInfos",C.dl="c3.fp.",C.$t={vl:"0",wd:"1",tn:"2",zt:"3",El:"4",en:"5",nn:"6"},et=M.EventQueue=function(){this.Cd=[],this.yd=0,this.qc=function(t){this.Cd.push(t)},this.Yc=function(){var t=this.yd;return this.yd++,t},this.qf=function(){var t=this.Cd;return this.Cd=[],t}},st=M.ExceptionCatcher=function(t,n,i){this.md=n,this.N=i,this.F=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.N.allowUncaughtExceptions)throw t;this.Dd(n,t)}}},this.Dd=function(t,n){t="Uncaught exception: "+t+": "+n.toString();if(this.md)try{this.md.Sl(t)}catch(t){}}},ot=M.GatewayControl=function(t,n,i,e,s){var o=this;this.Vi=t,this.Pd=i,this._d=e,this.bd=s,this.Sl=function(t,e){var n=(this.bd?this.bd.indexOf("ipv4")>-1?this.Vi.G:this.Vi.q:this.Vi.gatewayUrl)+N.Sr;this.Pd.Ld("POST",n,this._d.Ch(t),"application/json",function(t,n){var i;t?(i=o._d.yh(n),e(t,i)):e(t,n)})}},y=M.Lang={Md:function(t){return y.Pt(t)&&t&&"undefined"!==t&&"null"!==t},Gt:function(t){var n,i,e={};for(n in t)y.Md(n)&&(i=t[n],y.Md(i))&&(e[n]=i);return e},Xn:function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.")},Ht:function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},yt:function(t){return""+t},Ud:function(t){return Math.floor(t)},cn:function(t){return Math.abs(y.Ud(t))},Vd:function(t){return Boolean(t)},Pt:function(t){return"string"===typeof t&&""!==t},Il:function(t,n){return"string"===typeof t&&"string"===typeof n&&"function"===typeof t.indexOf&&0===t.indexOf(n)},ie:function(t){return"boolean"===typeof t},kd:function(t){return escape(t)},mh:function(t){return"object"===typeof t},gc:function(t){var n,i="";for(n in t)i+=n+"="+t[n];return"Object{"+i+"}"},Fd:function(t){var n,i=y._l(t);for(n in i)i[n]||delete i[n];return i},_l:function(t){var n,i={};for(n in t)i[n]=t[n];return i},Nc:function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(y.Ht(t)!==y.Ht(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},Fo:function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=arguments[n][i]);return t},gt:function(t){return"number"===typeof t&&Math.round(t)===t},Bd:function(t){return"[object Array]"===Object.prototype.toString.call(t)},Hd:function(t,n){if(t!==n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(y.Bd(t[i])&&y.Bd(n[i])){if(!y.Hd(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1}return!0},Gd:function(){return"undefined"!==typeof Object.defineProperty&&(()=>{try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}})()},rn:function(t,n,i){if(y.Gd())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},un:function(t,n,i){if(y.Gd())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,i)}}},(T={two32:4294967296}).jd=T.two32-1,T.Kd=0,y.Wd=T,y.Wd.Cast=function(t){t=parseInt(t,10);return t>T.jd?t=t%T.two32:t<T.Kd&&(t=T.two32-(t=-t%T.two32)),t},y.Wd.Yd=function(t){t=parseInt(t,10);return t<=T.jd&&t>=T.Kd},S={jd:2147483647,Kd:-2147483648},y.Tl=S,y.Tl.Cast=function(t){t=parseInt(t,10);return t>S.jd?t=t%S.jd:t<S.Kd&&(t=S.jd-(t=-t%S.jd)),t},y.Tl.Yd=function(t){t=parseInt(t,10);return t<=S.jd&&t>=S.Kd},y.ir=function(){return"undefined"!==typeof window&&window&&window.location&&window.location.search?window.location.search:""},y.xd=function(){return document&&document.referrer?document.referrer:""},rt=M.LogBuffer=function(){this.qd=[],this.dr=function(t){this.qd.length>=32&&this.qd.shift(),this.qd.push(t)},this.qf=function(){var t=this.qd;return this.qd=[],t}},(m=M.Ping=function(t,n,i,e){this.Jd=!1,this.Qd=null,this.p=t,this.p.setModuleName("Ping"),this.Pd=n,this.Vi=i,this.ki=e,this.Sl=function(t){this.Jd||(this.Jd=!0,t=this.Zd()+"&d="+y.kd(t.toString()),this.p.error("send(): "+t),this.Pd.Ld("GET",t,null,null,null),this.Jd=!1)},this.Zd=function(){if(!this.Qd){var t=m.zd+"?comp="+m.Xd+"&clv="+(this.ki||a.version);if(this.Vi&&(t+="&cid="+this.Vi.customerKey),t+="&sch="+N.yr,!this.Vi)return t;this.Qd=t}return this.Qd}}).Xd="sdkjs",m.zd="https://pings.conviva.com/ping.ping",D=M.$d={tv:4294967295,nv:2147483647,iv:-2147483648,hd:function(){return Math.floor(Math.random()*D.tv)+D.iv},Rt:function(){return Math.floor(Math.random()*D.tv)},Ll:function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}},P=M.ev={xc:function(t,n,i,e){return isNaN(t)||"number"!==typeof t||t===e?e:(e=y.Ud(t),P.sv(e,n,i))},sv:function(t,n,i){return y.gt(i)&&t>i?t=i:y.gt(n)&&t<n&&(t=n),t},In:function(t){return t=-1!==t&&-2!==t?P.xc(t,0,null,-1):t}},b=M.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.er=function(){return i.errorCode},this.sr=function(){return i.severity}},ut=M.HttpClient=function(t,n,i,e){this.Di=n,this.ov=i,this.N=e,this.Ld=function(t,n,i,e,s){var o=1e3*this.N.httpTimeout,r=null;s&&(r=this.ov.dd(s,o,"HTTP timeout")),this.Di.makeRequest(t,n,i,e,o,r)}},(ht=M.Logger=function(t,n,i,e,s){this.Li=t,this.yi=n,this.O=i,this.Fi=e,this.Ui=s,this.debug=function(t){this.log(t,h.LogLevel.DEBUG)},this.info=function(t){this.log(t,h.LogLevel.INFO)},this.warning=function(t){this.log(t,h.LogLevel.WARNING)},this.error=function(t){this.log(t,h.LogLevel.ERROR)},this.log=function(t,n){t=this.uv(t,n);this.Fi.dr(t),this.O.logLevel<=n&&this.Li.consoleLog(t,n)},this.hv=function(t){return"["+this.Vn+"] "+t},this.av=function(t){return"["+this.Ui+"] "+t},this.fv=function(t){return"[Conviva] "+t},this.cv=function(t){return"["+(this.yi.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+t},this.dv=function(t,n){return"["+ht.rv(n)+"] "+t},this.vv=function(t){return t=this.Ev?"sid="+this.Ev+" "+t:t},this.Kh=function(t){this.Ev=t},this.setModuleName=function(t){this.Vn=t},this.uv=function(t,n){return this.fv(this.cv(this.dv(this.av(this.hv(this.vv(t))),n)))}}).rv=function(t){var n;switch(t){case h.LogLevel.ERROR:n="ERROR";break;case h.LogLevel.WARNING:n="WARNING";break;case h.LogLevel.INFO:n="INFO";break;case h.LogLevel.DEBUG:n="DEBUG"}return n},M.Storage=function(t,n,i,e){this.Pi=n,this.ov=i,this.N=e,this.Et=function(t,n){n=this.ov.dd(n,1e3*this.N.storageTimeout,"storage load timeout");this.Pi.loadData(M.Storage._v,t,n)},this.Nl=function(t,n,i){i=this.ov.dd(i,1e3*this.N.storageTimeout,"storage save timeout");this.Pi.saveData(M.Storage._v,t,n,i)}},M.Storage._v="Conviva",(L=M.SystemMetadata=function(t,n,i){this.bi=n,this.g=i,this.Rv=null,this.get=function(){return this.Rv||this.retrieve(),this.Rv},this.retrieve=function(){var t,n={},e=(n[L.BROWSER_NAME]=this.bi.getBrowserName,n[L.BROWSER_VERSION]=this.bi.getBrowserVersion,n[L.DEVICE_BRAND]=this.bi.getDeviceBrand,n[L.DEVICE_MANUFACTURER]=this.bi.getDeviceManufacturer,n[L.DEVICE_MODEL]=this.bi.getDeviceModel,n[L.DEVICE_TYPE]=this.bi.getDeviceType,n[L.DEVICE_VERSION]=this.bi.getDeviceVersion,n[L.FRAMEWORK_NAME]=this.bi.getFrameworkName,n[L.FRAMEWORK_VERSION]=this.bi.getFrameworkVersion,n[L.OPERATING_SYSTEM_NAME]=this.bi.getOperatingSystemName,n[L.OPERATING_SYSTEM_VERSION]=this.bi.getOperatingSystemVersion,n[L.DEVICE_CATEGORY]=this.bi.getDeviceCategory,n[L.SCREEN_WIDTH]=this.bi.getScreenWidth,n[L.SCREEN_HEIGHT]=this.bi.getScreenHeight,n[L.SCALE_FACTOR]=this.bi.getScaleFactor,this);for(t in n)((n,i)=>{e.g.F("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.bi)})})(t,n),y.Pt(n[t])||delete n[t];var i=!1;if("undefined"!==typeof n[L.DEVICE_TYPE]){for(var s in a.DeviceType)if(n[L.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete n[L.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof n[L.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(n[L.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete n[L.DEVICE_CATEGORY]}this.Rv=y.Fd(n)}}).BROWSER_NAME="browserName",L.BROWSER_VERSION="browserVersion",L.DEVICE_BRAND="deviceBrand",L.DEVICE_MANUFACTURER="deviceManufacturer",L.DEVICE_MODEL="deviceModel",L.DEVICE_TYPE="deviceType",L.DEVICE_VERSION="deviceVersion",L.FRAMEWORK_NAME="frameworkName",L.FRAMEWORK_VERSION="frameworkVersion",L.OPERATING_SYSTEM_NAME="operatingSystemName",L.OPERATING_SYSTEM_VERSION="operatingSystemVersion",L.DEVICE_CATEGORY="deviceCategory",L.SCREEN_WIDTH="screenWidth",L.SCREEN_HEIGHT="screenHeight",L.SCALE_FACTOR="scaleFactor",at=M.Time=function(t,n){this.yi=t,this.p=n,this.current=function(){var t=this.yi.getEpochTimeMs();return y.gt(t),t}},ft=M.Timer=function(t,n,i){var s=this;this.mi=n,this.g=i,this.create=function(t,n,i){return this.createTimer(function(){s.g.F(i,function(){t()})},n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.g.F(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.mi.createTimer(t,n,i)}},U});