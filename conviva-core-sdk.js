/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */
!function(t,n){"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"===typeof t||!t||t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading)}(this,function(){var lt={};return function(){"use strict";var n,s,V,k,o,r,F,e,u,T,a,f,c,A,B,H,j,K,G,W,Y,x,h,i,l,q,O,J,X,d,v,E,_,R,Q,p,S,N,w,I,g,Z,z,C,$,tt,nt,y,it,et,st,m,ot,D,P,b,M,rt,ut,L,ht,at,U={};function ft(){var t,n="";for("-"===s&&r(n="-");s>="0"&&s<="9";)n+=s,r();if("."===s)for(n+=".";r()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,r(),"-"!==s&&"+"!==s||(n+=s,r());s>="0"&&s<="9";)n+=s,r();if(t=+n,!isNaN(t))return t;o("Bad number")}function t(t){return t<10?"0"+t:t}function ct(t){return E.lastIndex=0,E.test(t)?'"'+t.replace(E,function(t){var n=Q[t];return"string"===typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}T=lt.Constants={version:"4.5.13",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement",APP_TRACKER_EVENT:{TYPE:"convivaVideoEvent",INIT:"c3.sdk.init",VIDEO_ATTEMPT:"c3.video.attempt",VIDEO_END:"c3.video.end",VIDEO_PLAY:"c3.video.play",VIDEO_PAUSE:"c3.video.pause",VIDEO_BUFFERING:"c3.video.buffering",VIDEO_ERROR:"c3.video.error",SDK_CUSTOM_EVENT:"c3.sdk.custom_event",VIDEO_CUSTOM_EVENT:"c3.video.custom_event",AD_BREAK_START:"c3.ad.ad_break_start",AD_BREAK_END:"c3.ad.ad_break_end",VIDEO_METADATA_CHANGE:"c3.video.set_content_info",VIDEO_BITRATE_SWITCH:"c3.video.bitrate_switch"}},(a=lt.Client=function(){var h=this;this._=null,this.R=!1,this.version=a.version,this.p=null,this.T=null,this.A=null,this.O=-1,this.S=null,this.N=null,this.I=null,this.g=null,this.C=-1,this.m=!1,this.D={},this.P=function(){h.p},this.M={},this.L=null,this.U=null,this.V=null,this.k=function(){this.I.F("Client.makeIPV4IPV6GlobalSessions",function(){var t;h.g&&null!==(t=h.g.get(y.B))&&t!==g.H&&h.T&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.S.j.indexOf(f.K)>-1?f.K:f.G,h.W=h.T.Y(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.S.q.indexOf(f.J)>-1?f.J:f.X,h.Z=h.T.Y(t,null))})},this.$=function(i){h.I.F("Client.updateConnectionType",function(){if(h.L=i,h.T){var t,n=h.T.tt();for(t in n)n[t].nt(i)}})},this.it=function(i){h.I.F("Client.updateLinkEncryption",function(){if(h.U=i,h.T){var t,n=h.T.tt();for(t in n)n[t].et(i)}})},this.ot=function(t){h.I.F("Client.updateSignalStrength",function(){h.V=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof x))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.rt+f.ut&&t.gatewayUrl!==f.ht+f.ut||(this.R=!0),e&&(this.version=e),this.S=t.ct(),this.A=n,this.A.lt("SDK",this.S,this.version),this.I=this.A.dt(this.version),this.I.F("Client.init",function(){if(h.g=h.A.vt(),h.g.Et(),h.C=h.g.get(y._t),-1!==h.C&&void 0!==h.C&&null!==h.C||(h.C=P.Rt()),h.T=h.A.Tt(h,h.S,h.g),i)for(var t in i)switch(t){case T.Network.CONNECTION_TYPE:h.$(i[t]);break;case T.Network.LINK_ENCRYPTION:h.it(i[t]);break;case T.Network.SIGNAL_STRENGTH:h.ot(i[t])}h.k()},function(t){throw new Error("Client constructor failed: "+t.message)})}.apply(this,arguments),this.release=function(){this.m||this.I.F("Client.release",function(){h.p,h.T.At(),h.T=null,h.O=-1,h.C=-1,h.I=null,h.S=null,h.N=null,h.A=null,h.m=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.m||(!t||t instanceof c)&&this.I.F("Client.createSession",function(){e=h.T.Ot(t,C.Nt.St,n,(i?T:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.m||(!e||e instanceof c)&&this.I.F("Client.createAdSession",function(){var t,n;e||(e=new c),m.wt(i)&&i!==a.NO_SESSION_KEY&&(t=h.T.It(i))&&(n=e.custom[T.APPLICATION_VERSION],t.gt&&t.gt.Ct&&(!e.viewerId&&t.gt.Ct.viewerId&&(e.viewerId=t.gt.Ct.viewerId),!e.applicationName&&t.gt.Ct.applicationName&&(e.applicationName=t.gt.Ct.applicationName),e.streamType===T.StreamType.UNKNOWN&&t.gt.Ct.streamType!==T.StreamType.UNKNOWN&&(e.streamType=t.gt.Ct.streamType),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.gt.Ct.custom[T.APPLICATION_VERSION])&&n&&(e.custom[T.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=m.yt(t.C)),u=h.T.Ot(e,C.Nt.Dt,s,(o?T:h).version,r)}),u},this.reportError=function(n,i,e){this.m||!m.Pt(i)||e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.I.F("Client.reportError",function(){var t=h.T.It(n);t&&t.bt(i,e)})},this.updateContentMetadata=function(i,e){this.m||e instanceof c&&this.I.F("Client.updateContentMetadata",function(){var t,n=h.T.It(i);n&&(t=e.ct(),n.Mt(t))})},this.detachPlayer=function(n){this.m||this.I.F("Client.detachPlayer",function(){var t=h.T.It(n);t&&t.Lt()})},this.Ut=function(n){this.m||this.I.F("Client.offFocus",function(){var t=h.T.It(n);t&&t.Ut()})},this.attachPlayer=function(n,i){this.m||i instanceof A&&this.I.F("Client.attachPlayer",function(){var t=h.T.It(n);t&&t.Vt(i)})},this.kt=function(n){this.m||this.I.F("Client.onFocus",function(){var t=h.T.It(n);t&&t.kt()})},this.contentPreload=function(n){this.m||this.I.F("Client.contentPreload",function(){var t=h.T.It(n);t&&t.Ft()})},this.contentStart=function(n){this.m||this.I.F("Client.contentStart",function(){var t=h.T.It(n);t&&t.Bt()})},this.sendCustomEvent=function(i,e,s){this.m||m.Pt(e)&&(m.Ht(s),this.I.F("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.O<0&&(t=new c,h.O=h.T.Y(t,null)),i=h.O);var t=m.jt(s),n=h.T.Kt(i);n&&n.Gt(e,t)}))},this.adStart=function(n,i,e,s){this.m||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.I.F("Client.adStart",function(){var t=h.T.It(n);t&&t.Wt(i,e,s)}))},this.adEnd=function(n){this.m||this.I.F("Client.adEnd",function(){var t=h.T.It(n);t&&t.Yt()})},this.cleanupSession=function(t){this.m||t!==a.NO_SESSION_KEY&&this.I.F("Client.cleanupSession",function(){h.T.It(t)&&h.T.xt(t)})},this.getAttachedPlayer=function(n){var i=null;return this.m||n!==a.NO_SESSION_KEY&&this.I.F("Client.getAttachedPlayer",function(){var t=h.T.It(n);t&&(i=t.qt())}),i},this.isPlayerAttached=function(t){return!this.m&&null!==this.getAttachedPlayer(t)},this.getPlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return new A(this.A,(t?T:h).version)},this.releasePlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");this.I.F("Client.releasePlayerStateManager",function(){t instanceof A&&t.release()})},this.Jt=function(){return this.S},this.getId=function(){return this.C},this.getSessionId=function(n){var i;return this.m?T.NO_SESSION_KEY:(i=null,this.I.F("Client.getSessionId",function(){var t=h.T.It(n);t&&(i=t.Xt())}),i)},this.getClientId=function(n){var i;return this.m?null:(i=null,this.I.F("Client.getClientId",function(){var t=h.T.It(n);t&&(i=t.Qt())}),i)},this.Zt=function(n,i,e){this.m||this.I.F("Client.updateCustomMetric",function(){var t=h.T.It(n);t&&t.Zt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)this.D[i]=t[i];n&&(this.P=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.M[i]=n?y.$t.zt:y.$t.tn:this.M[i]=y.$t.nn},this.setUserPreferenceForDataDeletion=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.M[n]=y.$t.en:this.M[n]=y.$t.nn},this.getConfig=function(){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return this.g}}).version="4.5.13L",a.NO_SESSION_KEY=T.NO_SESSION_KEY,a.AdPosition={PREROLL:T.AdPosition.PREROLL,MIDROLL:T.AdPosition.MIDROLL,POSTROLL:T.AdPosition.POSTROLL},a.AdStream={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:T.ErrorSeverity.FATAL,WARNING:T.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:T.DeviceType.DESKTOP,CONSOLE:T.DeviceType.CONSOLE,SETTOP:T.DeviceType.SETTOP,MOBILE:T.DeviceType.MOBILE,TABLET:T.DeviceType.TABLET,SMARTTV:T.DeviceType.SMARTTV},a.AdTechnology={CLIENT_SIDE:T.AdType.CLIENT_SIDE,SERVER_SIDE:T.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:T.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:T.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:T.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:T.AdSlates.OTHER_SLATE,VPAID:T.AdSlates.VPAID,REGULAR:T.AdSlates.REGULAR},a.AdServingType={INLINE:T.AdServingType.INLINE,WRAPPER:T.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:T.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:T.DeviceCategory.APPLE_DEVICE,CHROMECAST:T.DeviceCategory.CHROMECAST,DESKTOP_APP:T.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:T.DeviceCategory.DEVICE_SIMULATOR,LG_TV:T.DeviceCategory.LG_TV,NINTENDO:T.DeviceCategory.NINTENDO,PLAYSTATION:T.DeviceCategory.PLAYSTATION,ROKU:T.DeviceCategory.ROKU,SAMSUNG_TV:T.DeviceCategory.SAMSUNG_TV,SMART_TV:T.DeviceCategory.SMART_TV,SET_TOP_BOX:T.DeviceCategory.SET_TOP_BOX,TIVO:T.DeviceCategory.TIVO,WEB:T.DeviceCategory.WEB,WINDOWS_DEVICE:T.DeviceCategory.WINDOWS_DEVICE,XBOX:T.DeviceCategory.XBOX,KAIOS_DEVICE:T.DeviceCategory.KAIOS_DEVICE},(f=lt.ClientSettings=function(){var e=this;this.on=null,m.rn(this,"customerKey",function(){return this.on}),m.un(this,"customerKey",function(t){m.Pt(t)&&(this.on=t)}),this.hn=f.fn,m.rn(this,"heartbeatInterval",function(){return this.hn}),m.un(this,"heartbeatInterval",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.hn=n)}),this.ln=null,this.j=null,this.q=null,m.rn(this,"gatewayUrl",function(){return this.ln}),m.un(this,"gatewayUrl",function(t){var n;!m.Pt(t)||"https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1===t.indexOf(".com",t.length-".com".length)||(this.ln=t)}),function(t){if(!m.Pt(t))throw new Error("customerKey must be valid");this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.ct=function(){var t=new f(this.customerKey);return t.gatewayUrl=function(t){if(m.Pt(t)){var n,i=t.split("://");if("https"===i[0]||"http"===i[0])return i[1]!==f.ut&&-1!==i[1].indexOf(f.ut)?(n=i[1].split(f.ut),e.j="https://"+n[0]+f.K,e.q="https://"+n[0]+f.J):i[1]!==f.dn&&-1!==i[1].indexOf("testonly.conviva.com")?(n=i[1].split("testonly.conviva.com"),e.j="https://"+n[0]+f.G,e.q="https://"+n[0]+f.X):i[1]===f.dn?(e.j="https://"+e.customerKey+"."+f.G,e.q="https://"+e.customerKey+"."+f.X):(e.j="https://"+e.customerKey+"."+f.K,e.q="https://"+e.customerKey+"."+f.J,t="https://"+e.customerKey+"."+f.ut),t}return e.j="https://"+e.customerKey+"."+f.K,e.q="https://"+e.customerKey+"."+f.J,"https://"+e.customerKey+"."+f.ut}(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.j=this.j,t.q=this.q,t}}).sn="https://conviva.testonly.conviva.com",f.vn="https://cws.conviva.com",f.ut="cws.conviva.com",f.K="ipv4.cws.conviva.com",f.J="ipv6.cws.conviva.com",f.dn="conviva.testonly.conviva.com",f.G="ipv4.testonly.conviva.com",f.X="ipv6.testonly.conviva.com",f.rt="https://",f.ht="http://",f.En=5,f.fn=20,(c=lt.ContentMetadata=function(){this._n=null,m.rn(this,"assetName",function(){return this._n}),m.un(this,"assetName",function(t){"string"===typeof t&&(this._n=t)}),this.Rn={},m.rn(this,"custom",function(){return this.Rn}),m.un(this,"custom",function(t){"object"===typeof t&&(this.Rn=m.jt(t))}),this.Tn=null,m.rn(this,"defaultResource",function(){return this.Tn}),m.un(this,"defaultResource",function(t){"string"===typeof t&&(this.Tn=t)}),this.An=null,m.rn(this,"viewerId",function(){return this.An}),m.un(this,"viewerId",function(t){"string"===typeof t&&(this.An=t)}),this.On=null,m.rn(this,"applicationName",function(){return this.On}),m.un(this,"applicationName",function(t){"string"===typeof t&&(this.On=t)}),this.Sn=null,m.rn(this,"streamUrl",function(){return this.Sn}),m.un(this,"streamUrl",function(t){"string"===typeof t&&(this.Sn=t)}),this.Nn=c.StreamType.UNKNOWN,m.rn(this,"streamType",function(){return this.Nn}),m.un(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.Nn=t)}),this.wn=-1,m.rn(this,"duration",function(){return this.wn}),m.un(this,"duration",function(t){this.wn=b.In(t)}),this.gn=-1,m.rn(this,"encodedFrameRate",function(){return this.gn}),m.un(this,"encodedFrameRate",function(t){this.gn=b.In(t)}),function(){}.apply(this,arguments),this.ct=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}}).StreamType={UNKNOWN:T.StreamType.UNKNOWN,LIVE:T.StreamType.LIVE,VOD:T.StreamType.VOD},lt.ErrorType={ERROR_UNKNOWN:T.ErrorType.ERROR_UNKNOWN,ERROR_IO:T.ErrorType.ERROR_IO,ERROR_TIMEOUT:T.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:T.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:T.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:T.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:T.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:T.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:T.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:T.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:T.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:T.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:T.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},lt.Events={AD_REQUESTED:T.Events.AD_REQUESTED,AD_RESPONSE:T.Events.AD_RESPONSE,AD_SLOT_STARTED:T.Events.AD_SLOT_STARTED,AD_ATTEMPTED:T.Events.AD_ATTEMPTED,AD_SLOT_ENDED:T.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:T.Events.AD_IMPRESSION_START,AD_START:T.Events.AD_START,AD_FIRST_QUARTILE:T.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:T.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:T.Events.AD_THIRD_QUARTILE,AD_COMPLETE:T.Events.AD_COMPLETE,AD_END:T.Events.AD_END,AD_IMPRESSION_END:T.Events.AD_IMPRESSION_END,AD_SKIPPED:T.Events.AD_SKIPPED,AD_ERROR:T.Events.AD_ERROR,AD_PROGRESS:T.Events.AD_PROGRESS,AD_CLOSE:T.Events.AD_CLOSE,CONTENT_PAUSED:T.Events.CONTENT_PAUSED,CONTENT_RESUMED:T.Events.CONTENT_RESUMED,POD_START:T.Events.POD_START,POD_END:T.Events.POD_END},(A=lt.PlayerStateManager=function(){var e=this;e.Cn=null,e.yn=-2,e.Dn=A.PlayerState.UNKNOWN,e.Pn={},e.bn=-2,e.gn=-2,e.wn=-2,e.Mn=null,e.Ln=null,e.Sn=null,e.Un=null,e.Vn=null,e.kn=-1,e.Fn=-1,e.L=null,e.U=null,e.Bn=null,e.Hn=[],e.m=!1,this.release=function(){e.m||e.I.F("PlayerStateManager.release",function(){e.Cn&&e.Cn.jn(),e.Kn(),e.A=null,e.I=null,e.m=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.gn},this.setEncodedFrameRate=function(n){e.m||e.I.F("PlayerStateManager.setEncodedFrameRate",function(){var t=b.In(n);t>=-1&&(e.gn=t,e.Cn)&&e.Cn.Gn(e.gn)})},this.getDuration=function(){return e.wn},this.setClientMeasureInterface=function(t){m.Wn(t,new lt.ClientMeasureInterface,"ClientMeasureInterface"),this.Yn=t},this.getPHT=function(){return this.Yn&&"function"===typeof this.Yn.getPHT?this.Yn.getPHT():A.DEFAULT_PHT},this.getBufferLength=function(){return this.Yn&&"function"===typeof this.Yn.getBufferLength?this.Yn.getBufferLength():A.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Yn&&"function"===typeof this.Yn.getSignalStrength?this.Yn.getSignalStrength():A.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Yn&&"function"===typeof this.Yn.getRenderedFrameRate?this.Yn.getRenderedFrameRate():A.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.m||e.I.F("PlayerStateManager.setDuration",function(){var t=b.In(n);t>=-1&&(e.wn=t,e.Cn)&&e.Cn.xn(e.wn)})},this.getStreamUrl=function(){return e.Sn},this.setStreamUrl=function(t){e.m||e.I.F("PlayerStateManager.setStreamUrl",function(){t&&(e.Sn=t,e.Cn)&&e.Cn.qn(e.Sn)})},this.Jn=function(){return e.Un},this.Xn=function(){return e.Vn},this.setModuleNameAndVersion=function(t,n){e.Un=t,e.Vn=n},this.Qn=function(){return e.Ln},this.setPlayerType=function(t){e.m||e.I.F("PlayerStateManager.setPlayerType",function(){e.Ln=t,e.Cn&&e.Cn.Zn(e.Ln)})},this.zn=function(){return e.Mn},this.setPlayerVersion=function(t){e.m||e.I.F("PlayerStateManager.setPlayerVersion",function(){e.Mn=t,e.Cn&&e.Cn.$n(e.Mn)})},this.setMonitoringNotifier=function(t){return!e.m&&!e.Cn&&(e.Cn=t,e.p,!0)},this.Kn=function(){e.m||(e.Cn=null,e.p)},this.ti=function(){e.setPlayerState(e.getPlayerState()),e.setBitrateKbps(e.ni()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.Qn()),e.setPlayerVersion(e.zn());for(var t=0;t<e.Hn.length;t++){var n=e.Hn[t];e.ii(n)}e.Hn=[]},this.getPlayerState=function(){return e.Dn},this.setPlayerState=function(t){e.m||e.I.F("PlayerStateManager.setPlayerState",function(){A.ei(t)&&(e.Dn=t,e.Cn)&&e.Cn.si(e.Dn)})},this.ni=function(){return e.yn},this.setBitrateKbps=function(n){e.m||e.I.F("PlayerStateManager.setBitrateKbps",function(){var t=b.In(n);t>=-1&&(e.yn=t,e.Cn)&&e.Cn.oi(e.yn)})},this.setPlayerSeekStart=function(t){e.m||e.I.F("PlayerStateManager.setPlayerSeekStart()",function(){e.Cn&&e.Cn.ri(A.SEEK_ACTIONS_TYPE.SEEK_START,t)})},this.setPlayerSeekEnd=function(){e.m||e.I.F("PlayerStateManager.setPlayerSeekEnd()",function(){e.Cn&&e.Cn.ri(A.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.m||e.I.F("PlayerStateManager.setUserSeekButtonUp()",function(){e.Cn&&e.Cn.ri(A.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.m||e.I.F("PlayerStateManager.setUserSeekButtonDown()",function(){e.Cn&&e.Cn.ri(A.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.m||e.I.F("PlayerStateManager.setVideoResolutionWidth()",function(){var t=b.In(n);t>0&&(e.kn=t),e.Cn&&e.Cn.ui(e.kn)})},this.setVideoResolutionHeight=function(n){e.m||e.I.F("PlayerStateManager.setVideoResolutionHeight()",function(){var t=b.In(n);t>0&&(e.Fn=t),e.Cn&&e.Cn.hi(e.Fn)})},this.setConnectionType=function(t){e.m||e.I.F("PlayerStateManager.setConnectionType()",function(){e.L=t,e.Cn&&e.Cn.nt(e.L)})},this.setLinkEncryption=function(t){e.m||e.I.F("PlayerStateManager.setLinkEncryption()",function(){e.U=t,e.Cn&&e.Cn.et(e.U)})},this.setSignalStrength=function(){},this.ii=function(t){var n,i;e.Bn=t,e.Cn?(n=t.errorCode,i=t.severity,e.Cn.ai(n,i)):e.Hn.push(t)},this.sendError=function(n,i){e.m||e.I.F("PlayerStateManager.sendError",function(){var t=new M(n,i);e.ii(t)})},this.reset=function(){e.m||e.I.F("PlayerStateManager.reset",function(){e.yn=-2,e.Dn=A.PlayerState.UNKNOWN,e.Pn={},e.bn=-1,e.gn=-1,e.wn=-1,e.Mn=null,e.Ln=null,e.Sn=null,e.Bn=null,e.Hn=[]})},this.setCDNServerIP=function(t){e.m||e.I.F("PlayerStateManager.setCDNServerIP",function(){e.Cn&&e.Cn.fi(t)})},this.ci=function(){return e.li},this.setDroppedFramesTotal=function(t){e.m||e.I.F("PlayerStateManager.setDroppedFramesTotal",function(){e.Cn&&e.Cn.di(t)})},this.setDroppedFramesCount=function(t){e.m||e.I.F("PlayerStateManager.setDroppedFramesCount",function(){e.Cn&&e.Cn.vi(t)})},this.Ei=function(){return e.Bn},function(t,n){e.A=t,e.I=e.A.dt(n)}.apply(e,arguments)}).PlayerState={STOPPED:T.PlayerState.STOPPED,PLAYING:T.PlayerState.PLAYING,BUFFERING:T.PlayerState.BUFFERING,PAUSED:T.PlayerState.PAUSED,UNKNOWN:T.PlayerState.UNKNOWN,NOT_MONITORED:T.PlayerState.NOT_MONITORED},A.ei=function(t){return t===A.PlayerState.STOPPED||t===A.PlayerState.PLAYING||t===A.PlayerState.BUFFERING||t===A.PlayerState.PAUSED||t===A.PlayerState.UNKNOWN||t===A.PlayerState.NOT_MONITORED},A.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},A.DEFAULT_SIGNAL_STRENGTH=1e3,A.DEFAULT_RENDERED_FRAME_RATE=-1,A.DEFAULT_BUFFER_LENGTH=-1,A.DEFAULT_PHT=-1,lt.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},B=lt.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},H=lt.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},j=lt.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},K=lt.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},G=lt.SystemInterface=function(){!function(t,n,i,e,s,o){m.Wn(t,new W,"TimeInterface"),m.Wn(n,new Y,"TimerInterface"),m.Wn(i,new B,"HttpInterface"),m.Wn(e,new K,"StorageInterface"),m.Wn(s,new j,"MetadataInterface"),m.Wn(o,new H,"LoggingInterface"),this._i=t,this.Ri=n,this.pi=i,this.Ti=e,this.Ai=s,this.Oi=o}.apply(this,arguments),this.release=function(){this._i&&(this._i.release(),this._i=null),this.Ri&&(this.Ri.release(),this.Ri=null),this.pi&&(this.pi.release(),this.pi=null),this.Ti&&(this.Ti.release(),this.Ti=null),this.Ai&&(this.Ai.release(),this.Ai=null),this.Oi&&(this.Oi.release(),this.Oi=null)}},W=lt.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},Y=lt.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},x=lt.SystemFactory=function(){var t=this;!function(t,n){if(!(t instanceof G))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Si=t,this._i=this.Si._i,this.Ri=this.Si.Ri,this.pi=this.Si.pi,this.Ti=this.Si.Ti,this.Ai=this.Si.Ai,this.Oi=this.Si.Oi,n instanceof h?this.S=n.ct():this.S=new h}.apply(this,arguments),this.lt=function(t,n,i){this.Ni=t,this.wi=n,this.Ii=i},this.release=function(){this.Si.release(),this.Si=null,this.Ni=null,this.S=null,this.gi=null};var n=function(){return new ut(t.Oi,t._i,t.Jt(),t.gi,t.Ni)};this.buildLogger=function(){return n()},this.Tt=function(t,n,i){return new tt(t,n,i,this)},this.Ci=function(t){return new D(this.buildLogger(),this.yi(),this.wi,t)},this.mi=function(){return new nt(this.buildTimer(t.Ii))},this.Di=function(){var t=new at(this.buildLogger(),this.Ri,new et(this.buildLogger(),null,this.Jt()));return new nt(t)},this.yi=function(){return new rt(this.buildLogger(),this.pi,this.Di(),this.Jt())},this.dt=function(t){return new et(this.buildLogger(),this.Ci(t),this.Jt())},this.buildTime=function(){return new ht(this._i,this.buildLogger())},this.buildTimer=function(t){return new at(this.buildLogger(),this.Ri,this.dt(t))},this.Pi=function(){return new U.Storage(this.buildLogger(),this.Ti,this.mi(),this.Jt())},this.vt=function(){return new y(this.buildLogger(),this.Pi(),this.bi())},this.Mi=function(t){return new L(this.buildLogger(),this.Ai,this.dt(t))},this.Li=function(){return new g},this.Ui=function(t,n){return new st(t,this.buildLogger(),this.yi(),this.bi(),n)},this.Vi=function(t,n,i,e,s){var o=this.Ui(n,e.custom["c3.domain"]);return new C(this.ki(),t,n,this.buildLogger(),this.dt(s),this.buildTimer(s),o,this.Li(),this.buildTime(),this.Fi(),i,e,s)},this.Bi=function(t,n,i,e,s,o,r){t=this.Vi(t,n.ct(),i,o,r);return new $(e,s,i,this.Mi(r),t,this.dt(r),this.buildLogger())},this.ki=function(){return new it},this.bi=function(){return new Z},this.Fi=function(){return this.gi},this.Jt=function(){return this.S},this.gi=new ot},(h=lt.SystemSettings=function(){this.Hi=h.ji,m.rn(this,"logLevel",function(){return this.Hi}),m.un(this,"logLevel",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&n>=h.LogLevel.DEBUG&&n<=h.LogLevel.ERROR&&(this.Hi=n)}),this.Ki=h.Gi,m.rn(this,"allowUncaughtExceptions",function(){return this.Ki}),m.un(this,"allowUncaughtExceptions",function(t){m.Wi(t)&&(this.Ki=t)}),this.Yi=h.xi,m.rn(this,"storageTimeout",function(){return this.Yi}),m.un(this,"storageTimeout",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.Yi=n)}),this.qi=h.Ji,m.rn(this,"httpTimeout",function(){return this.qi}),m.un(this,"httpTimeout",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.qi=n)}),function(){}.apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ct=function(){var t=new h;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:T.LogLevel.DEBUG,INFO:T.LogLevel.INFO,WARNING:T.LogLevel.WARNING,ERROR:T.LogLevel.ERROR,NONE:T.LogLevel.NONE},h.Xi=h.LogLevel.DEBUG,h.ji=h.LogLevel.NONE,h.Qi=!0,h.Gi=!1,h.xi=10,h.Ji=10,i=U.AdAnalytics=function(){var e=this;function n(t){e.Zi?(m.Ht(t)>0&&e.setAdInfo(t),e.Zi.zi()||(e.Zi.$i(e.te),e.Zi.ne(!0),e.getAdType()===T.AdType.SERVER_SIDE&&e.reportAdMetric(T.Playback.BITRATE,e.te.ie()))):e.p}e.ee=null,e.A=null,e.se=null,e.te=null,e.Zi=null,e.oe=null,e.re=null,e.ue=null,function(t,n,i){e.ee=t,e.ue=i,e.A=n,i&&(e.te=i.he()),e.se=n.buildTimer(T.version),e.Zi=new l(e.ee,e.se),O.call(this)}.apply(this,arguments),this.setAdInfo=function(t){m.Ht(t)<=0?e.p:(e.p,e.Zi&&e.Zi.ae(t))},this.setAdPlayerInfo=function(t){m.Ht(t)<=0?e.p:(e.p,e.Zi&&e.Zi.ae(t))},this.reportAdMetric=function(){0===arguments.length?e.p:1===arguments.length?e.fe(arguments[0]):2===arguments.length?e.fe(arguments[0],arguments[1]):3===arguments.length?e.fe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.fe(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(t){e.Zi&&e.Zi.ce(t)},this.reportAdFailed=function(t,n){e.Zi?(m.Ht(n)>0&&e.setAdInfo(n),e.Zi.zi()?(e.p,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.Zi.$i(e.te),e.p,n=new M(t,a.ErrorSeverity.FATAL),e.Zi.ne(!0,n))):e.p},this.reportAdLoaded=function(t){e.p,n(t)},this.reportAdStarted=function(t){e.p,n(t)},this.reportAdEnded=function(){e.Zi?(e.p,e.Zi.zi()&&(e.Zi.$i(null),e.Zi.ne(!1))):e.p},this.reportAdError=function(t,n){e.Zi?(e.p,t=new M(t,n),e.Zi.ii(t)):e.p},this.reportAdPlayerEvent=function(t,n){if(m.Pt(t))if(e.p,e.Zi)switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:e.Zi.Lt();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:e.Zi.Vt();break;default:e.Zi.le(t,n)}else e.p;else e.p},this.reportAdSkipped=function(){e.Zi?(e.p,e.reportAdPlayerEvent(T.Events.AD_SKIPPED),e.reportAdEnded()):e.p},this.release=function(){e.p,e.Zi&&(e.Zi.zi()&&(e.Zi.$i(null),e.Zi.ne(!1)),e.Zi.ce(null),e.Zi.de(),e.Zi=null),"undefined"!==typeof lt.AdProxyMonitor&&e.re&&(lt.AdProxyMonitor.release(e.re),e.re=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?lt.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(lt.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof lt.AdProxyMonitor)&&(!t&&e.re?(lt.AdProxyMonitor.release(e.re),e.re=null):t&&e.re?(lt.AdProxyMonitor.release(e.re),e.p,e.re=lt.AdProxyMonitor.initConvivaDropIn(t,n,this,lt,e.A)):t&&!e.re&&(e.p,e.re=lt.AdProxyMonitor.initConvivaDropIn(t,n,this,lt,e.A)))},this.reportAdBreakStarted=function(t,n,i){e.te&&(e.p,e.ve=t,e.oe=n,e.te.Ee(t,n,i))},this.reportAdBreakEnded=function(){e.te&&(e.p,e.ve=null,e.oe=null,e.te._e())},this.getSessionId=function(){return e.te?(e.p,e.Zi.Xt()):T.NO_SESSION_KEY},this.getClientId=function(){return e.te?(e.p,e.Zi.Qt()):null},this.getPlayerMonitor=function(){return e.te},this.getAdPlayerMonitor=function(){return e.Zi},this.getVideoAnalytics=function(){return e.ue},this.getAdType=function(){return e.te?e.te.ve:null},this.Re=function(){return e.te?e.te.oe:null},i.prototype=Object.create(O.prototype),i.prototype.constructor=i},l=U.AdPlayerMonitorImpl=function(){var s=this;s.pe=null,s.Te=null,function(t,n){d.call(this,t,n)}.apply(this,arguments),this.$i=function(t){this.Ae()!==t&&(this.Oe(),s.Te=t||null)},this.Ae=function(){return s.Te},this.Se=function(t){var n,i=this.Ae(),e={};e.error=t,s.pe&&(s.Ne=s.pe.getPlayerStateManager(!0),s.we(),s.Ne.setClientMeasureInterface(this),n=null,i&&(n=i.Ie()),s.ge=s.pe.createAdSession(n,s.Ct,s.Ne,!0,e),"undefined"!==typeof t)&&(s.Ce(),s.de())},l.prototype=Object.create(d.prototype),l.prototype.constructor=l},q=lt.Analytics={init:function(){if(this.ee,arguments.length<=0)throw new Error("customerKey must be valid");var t=null,n=null,i=null;if("string"===typeof arguments[0]&&!m.Pt(t=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof arguments[1]&&(n=arguments[1]),arguments.length>=3&&"object"===typeof arguments[2]&&(i=arguments[2]);var t=new f(t),e=new h,i=(m.Ht(i)>0&&(i[T.GATEWAY_URL]&&(t.gatewayUrl=i[T.GATEWAY_URL]),i[T.LOG_LEVEL]>=0)&&(e.logLevel=i[T.LOG_LEVEL]),new lt.Impl.Html5Logging),s=new lt.Impl.Html5Storage,o=new lt.Impl.Html5Http,r=new lt.Impl.Html5Timer,u=new lt.Impl.Html5Time;this.Ai||(this.Ai=new lt.Impl.Html5Metadata),n&&(n[T.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=n[T.CallbackFunctions.CONSOLE_LOG]),n[T.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=n[T.CallbackFunctions.MAKE_REQUEST]),n[T.CallbackFunctions.SAVE_DATA]&&(s.saveData=n[T.CallbackFunctions.SAVE_DATA]),n[T.CallbackFunctions.LOAD_DATA]&&(s.loadData=n[T.CallbackFunctions.LOAD_DATA]),n[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(u.getEpochTimeMs=n[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),n[T.CallbackFunctions.CREATE_TIMER])&&(r.createTimer=n[T.CallbackFunctions.CREATE_TIMER]),this.Si=new G(u,r,o,s,this.Ai,i),this.A=new x(this.Si,e),this.A.lt("Analytics",t),this.ee=new a(t,this.A,this.ye,q.version),this.ee._=new J(this.ee,this),this.ee._.me()},release:function(){var t=0;if(this.De){for(t=0;t<this.De.length;t++){var n=this.De[t];n&&(n.release(),n.p=null,n.se=null,this.De.splice(t,1),t--)}this.De=null}if(this.Pe){for(t=0;t<this.Pe.length;t++){var i=this.Pe[t];i&&(i.release(),i.p=null,i.se=null,this.Pe.splice(t,1),t--)}this.Pe=null}this.A&&(this.A.release(),this.A=null),this.ee&&(this.ee.release(),this.ee=null),this.ee=null,this.p=null,this.Si=null,this.Ai=null,this.ye=null},setUniqueIdentifier:function(t,n){if(!this.ee)throw new Error(T.i);this.ee.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this.ee)throw new Error(T.i);this.ee.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this.ee)throw new Error(T.i);this.ee.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this.ee)throw new Error(T.i);this.ee.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this.ee)throw new Error(T.i);this.ee.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.ee)throw new Error(T.i);this.ee.sendCustomEvent(a.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(T.i);this.ee=t,this.A=this.ee.A},buildVideoAnalytics:function(){var t;if(this.ee)return t=new v(this.ee,this.A),this.Pe||(this.Pe=[]),this.Pe.push(t),t;throw new Error(T.i)},buildAdAnalytics:function(t){if(this.ee)return t=new i(this.ee,this.A,t||null),this.De||(this.De=[]),this.De.push(t),t;throw new Error(T.i)},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===m.Ht(t)||(this.Ai||(this.Ai=new lt.Impl.Html5Metadata),t[T.DeviceMetadata.BRAND]&&(this.Ai.getDeviceBrand=function(){return t[T.DeviceMetadata.BRAND]}),t[T.DeviceMetadata.MANUFACTURER]&&(this.Ai.getDeviceManufacturer=function(){return t[T.DeviceMetadata.MANUFACTURER]}),t[T.DeviceMetadata.MODEL]&&(this.Ai.getDeviceModel=function(){return t[T.DeviceMetadata.MODEL]}),t[T.DeviceMetadata.TYPE]&&(this.Ai.getDeviceType=function(){return t[T.DeviceMetadata.TYPE]}),t[T.DeviceMetadata.VERSION]&&(this.Ai.getDeviceVersion=function(){return t[T.DeviceMetadata.VERSION]}),t[T.DeviceMetadata.OS_NAME]&&(this.Ai.getOperatingSystemName=function(){return t[T.DeviceMetadata.OS_NAME]}),t[T.DeviceMetadata.OS_VERSION]&&(this.Ai.getOperatingSystemVersion=function(){return t[T.DeviceMetadata.OS_VERSION]}),t[T.DeviceMetadata.CATEGORY]&&(this.Ai.getDeviceCategory=function(){return t[T.DeviceMetadata.CATEGORY]}),n=t[T.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],m.wt(n)&&(this.Ai.getScreenWidth=function(){return n.toString()}),i=t[T.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],m.wt(i)&&(this.Ai.getScreenHeight=function(){return i.toString()}),e=t[T.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],m.wt(e)&&(this.Ai.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.ye||(this.ye={}),t){case T.Network.CONNECTION_TYPE:m.Pt(n)&&(this.ye[t]=n,this.ee)&&this.ee.$(this.ye[T.Network.CONNECTION_TYPE]);break;case T.Network.LINK_ENCRYPTION:m.Pt(n)&&(this.ye[t]=n,this.ee)&&this.ee.it(this.ye[T.Network.LINK_ENCRYPTION]);break;case T.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);m.wt(i)&&A.DEFAULT_SIGNAL_STRENGTH!==i&&(this.ye[t]=i,this.ee)&&this.ee.ot(i)}},version:"4.5.13"},O=U.AnalyticsImpl=function(){var a=this;function f(){var t=!!a.Zi,n=a.getAdType(),i=a.Re();return n===T.AdType.SERVER_SIDE&&i===T.AdPlayer.CONTENT?O.Me.be:n!==T.AdType.SERVER_SIDE||i!==T.AdPlayer.SEPARATE?n===T.AdType.CLIENT_SIDE&&i===T.AdPlayer.CONTENT||(n===T.AdType.CLIENT_SIDE&&T.AdPlayer.SEPARATE,t)?O.Me.Le:O.Me.Ue:void 0}function c(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!a.Zi||i!==O.Me.Le&&i!==O.Me.be||a.Zi.Ve(t,n),!a.te)||i!==O.Me.Ue&&i!==O.Me.be||a.te.Ve(t,n)}function l(t,n){A.ei(t)&&(!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.ke(t),a.te&&n===O.Me.Ue||n===O.Me.be)&&a.te.ke(t)}function d(t,n){t=parseInt(t,10);isNaN(t)||(!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.Fe(t),!a.te)||n!==O.Me.Ue&&n!==O.Me.be||a.te.Fe(t)}function v(t,n){t=parseInt(t,10);isNaN(t)||(!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.Be(t),!a.te)||n!==O.Me.Ue&&n!==O.Me.be||a.te.Be(t)}function E(t,n){t=parseInt(t,10);!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.He(!0,t),!a.te||n!==O.Me.Ue&&n!==O.Me.be||a.te.He(!0,t)}function _(t){!a.Zi||t!==O.Me.Le&&t!==O.Me.be||a.Zi.He(!1,-1),!a.te||t!==O.Me.Ue&&t!==O.Me.be||a.te.He(!1,-1)}function R(t,n){t=parseInt(t,10);isNaN(t)||(!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.je(t),!a.te)||n!==O.Me.Ue&&n!==O.Me.be||a.te.je(t)}function p(t,n){t=parseInt(t,10);isNaN(t)||(!a.Zi||n!==O.Me.Le&&n!==O.Me.be||a.Zi.Ke(t),!a.te)||n!==O.Me.Ue&&n!==O.Me.be||a.te.Ke(t)}!function(){}.apply(this,arguments),this.fe=function(t,n,i,e){switch(t){case T.Playback.BITRATE:e===O.Me.Le?R(n,O.Me.Le):R(n,f());break;case T.Playback.PLAY_HEAD_TIME:e===O.Me.Le?d(n,O.Me.Le):d(n,f());break;case T.Playback.RESOLUTION:e===O.Me.Le?c(n,i,O.Me.Le):c(n,i,f());break;case T.Playback.BUFFER_LENGTH:e===O.Me.Le?v(n,O.Me.Le):v(n,f());break;case T.Playback.PLAYER_STATE:e===O.Me.Le?l(n,O.Me.Le):l(n,f());break;case T.Playback.RENDERED_FRAMERATE:e===O.Me.Le?p(n,O.Me.Le):p(n,f());break;case T.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?E(n,f()):i===O.Me.Le?E(-1,O.Me.Le):E(-1,f());break;case T.Playback.SEEK_ENDED:i===O.Me.Le?_(O.Me.Le):_(f());break;case T.Playback.CDN_IP:u=n,h=f(),m.Pt(u)&&(!a.Zi||h!==O.Me.Le&&h!==O.Me.be||a.Zi.Ge(u),!a.te||h!==O.Me.Ue&&h!==O.Me.be||a.te.Ge(u));break;case T.Playback.DROPPED_FRAMES_TOTAL:h=n,u=f();h=parseInt(h,10),isNaN(h)||(!a.Zi||u!==O.Me.Le&&u!==O.Me.be||a.Zi.We(h),!a.te)||u!==O.Me.Ue&&u!==O.Me.be||a.te.We(h);break;case T.Playback.DROPPED_FRAMES_COUNT:var s=n,o=f();s=parseInt(s,10),isNaN(s)||(!a.Zi||o!==O.Me.Le&&o!==O.Me.be||a.Zi.Ye(s),!a.te)||o!==O.Me.Ue&&o!==O.Me.be||a.te.Ye(s);break;default:o=t,s=n,r=f(),m.Pt(o)&&s&&(!a.Zi||r!==O.Me.Le&&r!==O.Me.be||a.Zi.Zt(o,s),!a.te||r!==O.Me.Ue&&r!==O.Me.be||a.te.Zt(o,s))}var r,u,h}},U.AnalyticsImpl.Me={Le:1,Ue:2,be:3},J=U.AppAnalyticsHandler=function(){var o=this;o.ee=null,o.xe=null,o.qe=null,o.Je=null,o.gt=null,function(t,n){o.ee=t,o.xe=n,o.qe=document.createEvent("HTMLEvents"),o.qe.initEvent(T.APP_TRACKER_EVENT.TYPE,!0,!0)}.apply(this,arguments),this.me=function(){o.Xe(T.APP_TRACKER_EVENT.INIT)},this.Qe=function(){o.Xe(T.APP_TRACKER_EVENT.VIDEO_ATTEMPT)},this.Ze=function(){o.Xe(T.APP_TRACKER_EVENT.VIDEO_END)},this.ze=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_PLAY,t)},this.$e=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_PAUSE,t)},this.ts=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_ERROR,t)},this.ns=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_BUFFERING,t)},this.es=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH,t)},this.ss=function(t){o.Xe(T.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE,t)},this.os=function(t){t={cen:t.name,ced:t.data};o.Xe(T.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT,t)},this.rs=function(t){t={cen:t.name,ced:t.data};o.Xe(T.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT,t)},this.us=function(t){o.Xe(T.APP_TRACKER_EVENT.AD_BREAK_START,{cen:"PodStart",ced:t})},this.hs=function(){o.Xe(T.APP_TRACKER_EVENT.AD_BREAK_END,{cen:"PodEnd"})},this.Xe=function(t,n){try{if(o.fs(),o.qe.name=o.Je.name=t,o.qe.iid=o.Je.iid=o.ee.getConfig().getIid(),o.qe.clid=o.Je.clid=o.ee.getConfig().getClientId(),o.gt){var i=o.gt;if(i.cs()?(o.qe.sid=o.Je.sid=i.ls.Xt(),o.qe.sst=o.Je.sst=i.ds,o.qe.url=o.Je.url=i.Sn,o.qe.st=o.Je.st=i.vs(),o.qe.an=o.Je.an=i._n,o.qe.pn=o.Je.pn=i.Es,o.qe.tags=o.Je.tags=JSON.stringify(i.Ct.Rn),o.qe.vid=o.Je.vid=i.An,i._s>=0&&(o.qe.cl=o.Je.cl=i._s),o.qe.lv=o.Je.lv=i.Rs,o.qe.fw=o.Je.fw=i.ps(),o.qe.fwv=o.Je.fwv=i.Ts(),o.qe.mn=o.Je.mn=i.Un,o.qe.mv=o.Je.mv=i.Vn,i.yn>=0&&(o.qe.br=o.Je.br=i.yn)):i.As()&&(o.qe.sid=o.Je.sid=i.ls.Xt(),o.qe.sst=o.Je.sst=i.ds,o.qe.st=o.Je.st=i.vs(),o.qe.mn=o.Je.mn=i.Un,o.qe.mv=o.Je.mv=i.Vn),n)for(var e=Object.keys(n),s=0;s<e.length;s++)"object"===typeof n[e[s]]?o.qe[e[s]]=o.Je[e[s]]=JSON.stringify(n[e[s]]):o.qe[e[s]]=o.Je[e[s]]=n[e[s]]}document.dispatchEvent(o.qe)}catch(t){throw new Error(t)}},this.fs=function(){if(null!==o.Je)for(var t=Object.keys(o.Je),n=0;n<t.length;n++)delete o.qe[t[n]];o.Je={}},this.Os=function(t,n,i){try{((o.gt=i).cs()||i.As())&&(t===g.Ss?n[g.Ns][g.ws]?n[g.Ns][g.ws]===g.Is?o.ze(n):n[g.Ns][g.ws]===g.gs?o.ns(n):n[g.Ns][g.ws]===g.Cs&&o.$e(n):n[g.Ns][g.ys]?o.es(n):o.ss(n):t===g.Ds?o.ts({err:n[g.Ps],ft:n[g.bs]}):t===g.Ms&&(n[g.Ls]===T.Events.POD_START?o.us(n[g.Us]):n[g.Ls]===T.Events.POD_END?o.hs(n[g.Us]):o.gt.cs()?o.os({name:n[g.Ls],data:n[g.Us]}):o.rs({name:n[g.Ls],data:n[g.Us]})))}catch(t){throw new Error(t)}}},X=U.PlayerMonitor=function(){var e=this;this.Vs=null,this.ks=null,this.Ct=null,this.Fs=null,this.Dn=A.PlayerState.UNKNOWN,this.Bs=-1,this.Hs=-1,this.Hn=[],this.js=null,this.Ks=null,this.Gs=-2,this.bn=-1,this.V=A.DEFAULT_SIGNAL_STRENGTH,this.Ws=null,this.li=null,this.U=null,this.L=null,this.se=null,this.Ys=null,this.xs=null,this.qs=null,this.Js=null,this.ve=null,this.oe=null,function(t){e.se=t}.apply(this,arguments),this.Xs=function(){return e.Dn},this.ke=function(t){e.Dn!==t&&(e.Oe(),e.Dn=t,e.Qs())},this.Zs=function(){return e.zs},this.$s=function(){return e.no},this.He=function(t,n){e.Oe(),e.zs=t,e.no=n,e.io()},this.eo=function(){return e.Bs},this.Fe=function(t){e.Bs=t},this.so=function(){return e.Hs},this.Be=function(t){e.Hs=t},this.ie=function(){return e.Gs},this.je=function(t){e.Gs!==t&&(e.Gs=t,e.Qs())},this.oo=function(){return e.bn},this.Ke=function(t){e.bn=t},this.ro=function(){return e.Ws},this.Ge=function(t){e.Ws=t,e.Qs()},this.ci=function(){return e.li},this.We=function(t){e.li=t,e.Qs()},this.Ye=function(t){e.uo(t)},this.ho=function(){return e.V},this.ao=function(){return e.fo},this.co=function(){return e.lo},this.Ve=function(t,n){n<0&&(n=0),e.fo===(t=t<0?0:t)&&e.lo===n||(e.fo=t,e.lo=n,e.Qs())},this.do=function(){return e.ks},this.vo=function(){e.do()&&(e.Ct=new c,e.Fs={},e.xs={},e.Eo())},this._o=function(t){(e.ks||t)&&(this.Oe(),e.ks&&(e.ks=null,e.vo()),t)&&(e.ks=m.Ro(e.ks,t),e.vo())},this.ae=function(t){if(t)if(e.Ct){var n,i=!1;for(n in t)if(e.Ct[n]!==t[n]){i=!0;break}i&&(e.Oe(),e.ks=m.Ro(t),e.Eo())}else e._o(t)},this.ce=function(t){t?e.qs!==t&&(e.qs=t,e.po()):(e.qs=null,e.Ce())},this.Oe=function(){e.To||e.qs&&(e.To=!0,e.qs(),e.To=!1)},this.zi=function(){return e.Vs},this.ne=function(t,n){e.Vs!==t&&(e.Oe(),e.Vs&&(e.Ao(),e.Ce(),e.de()),e.Vs=t,e.Vs)&&e.Se(n)},this.Oo=function(){return e.js},this.So=function(){return e.Ks||null},this.No=function(){return e.Hn},this.wo=function(){e.Hn=[]},this.ii=function(t){this.Oe(),e.Hn.push(t),e.ai()},this.le=function(t,n){e.Oe(),e.js=t,e.Ks=n,e.Io()},this.Co=function(){e.Oe()},this.po=function(){e.Ce(),e.Ys=e.se.create(e.Co,1e3,"PlayerMonitor.update")},this.Ce=function(){e.Ys&&(e.Ys(),e.Ys=null)},this.Ee=function(t,n,i){e.Js=i,e.ve=t,e.yo(),e.oe=n,e.ve&&T.AdType.CLIENT_SIDE===e.ve&&(e.Dn=T.PlayerState.UNKNOWN,e.mo(e.ve,n,i?i[T.POD_POSITION]:null))},this._e=function(){e.ve&&T.AdType.CLIENT_SIDE===e.ve&&(e.Do(),e.Dn=T.PlayerState.UNKNOWN),e.Po(),e.ve=null,e.oe=null},this.bo=function(){return e.Js},this.Mo=function(){return e.ve},this.getContentMetadata=function(){return this.Ct},this.de=function(){this.Vs=null,this.ks=null,this.Ct=null,this.Fs=null,this.Dn=A.PlayerState.UNKNOWN,this.Bs=-1,this.Hs=-1,this.Hn=[],this.js=null,this.Ks=null,this.Gs=-2,this.bn=-1,this.V=A.DEFAULT_SIGNAL_STRENGTH,this.Ws=null,this.li=null,this.U=null,this.L=null,this.se=null,this.Ys=null,this.xs=null,this.qs=null,this.Js=null,this.ve=null,this.oe=null,e.Ne=null,e.ge=a.NO_SESSION_KEY}},d=U.PlayerMonitorImpl=function(){var o=this;o.pe=null,o.Ne=null,o.ge=a.NO_SESSION_KEY,function(t,n){X.call(this,n),o.pe=t}.apply(this,arguments),this.getPHT=function(){return o.eo()},this.getBufferLength=function(){return o.so()},this.getRenderedFrameRate=function(){return o.oo()},this.getSignalStrength=function(){return o.ho()},this.io=function(){o.Ne&&o._ContentSessionKey!==a.NO_SESSION_KEY&&(o.Zs()?o.Ne.setPlayerSeekStart(o.$s()):o.Ne.setPlayerSeekEnd())},this.Qs=function(){o.Ne&&(o.Ne.setPlayerState(o.Xs()),o.ie()>0&&o.Ne.setBitrateKbps(o.ie()),o.ao()>0&&o.Ne.setVideoResolutionWidth(o.ao()),o.co()>0&&o.Ne.setVideoResolutionHeight(o.co()),o.ro()&&o.Ne.setCDNServerIP(o.ro()),m.wt(o.ci()))&&o.Ne.setDroppedFramesTotal(o.ci())},this.Mt=function(){o.ge!==a.NO_SESSION_KEY&&o.pe&&o.pe.updateContentMetadata(o.ge,o.Ct)},this.we=function(){if(o.Ne){o.xs&&m.Ht(o.xs)>0&&(o.xs[T.MODULE_NAME]&&o.xs[T.MODULE_VERSION]&&(t=o.xs[T.MODULE_NAME],n=o.xs[T.MODULE_VERSION],m.Pt(t))&&m.Pt(n)&&o.Ne.setModuleNameAndVersion(t,n),o.xs[T.FRAMEWORK_NAME]&&(t=o.xs[T.FRAMEWORK_NAME],m.Pt(t))&&o.Ne.setPlayerType(t),o.xs[T.FRAMEWORK_VERSION])&&(n=o.xs[T.FRAMEWORK_VERSION],m.Pt(n))&&o.Ne.setPlayerVersion(n);var t,n,i=o.No();o.wo();for(var e=0;e<i.length;e++){var s=i[e];o.Ne.ii(s)}}},this.Do=function(){o.Ne&&o.ge!==a.NO_SESSION_KEY&&(o.Qs(),this.Lo())},this.Vt=function(){o.Ne&&o.ge!==a.NO_SESSION_KEY&&(o.Qs(),o.pe.kt(o.ge))},this.Lo=function(){o.pe&&o.ge!==T.NO_SESSION_KEY&&o.pe.adEnd(o.ge)},this.mo=function(t,n,i){var e;o.Ne&&o.ge!==T.NO_SESSION_KEY&&(e=null,T.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:T.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),o.Uo(e,n,i))},this.Lt=function(){o.Ne&&o.ge!==T.NO_SESSION_KEY&&o.pe.Ut(o.ge)},this.Uo=function(t,n,i){o.pe&&o.ge!==T.NO_SESSION_KEY&&o.pe.adStart(o.ge,t,n,i)},this.Se=function(){if(o.pe){o.Ne=o.pe.getPlayerStateManager(!0),o.we(),o.Ne.setClientMeasureInterface(this);try{var t;o.Ct&&o.Ct.custom&&!o.Ct.custom[T.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n))&&s.push(e);return s}),""!==(t=m.Vo().split("?").join("").split("&").filter(function(t){return 2===t.split("=").length&&t.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&")))&&(o.Ct.custom[T.UTM_TRACKING_URL]=t)}catch(t){o.p.error("PlayerMonitorImpl _createSession : "+t)}o.ge=o.pe.createSession(o.Ct,o.Ne,!0)}},this.Ao=function(){o.pe&&(o.Ne&&(o.Ne.setPlayerState(T.PlayerState.STOPPED),o.Ne=null),o.ge!==T.NO_SESSION_KEY)&&(o.pe.cleanupSession(o.ge),o.ge=T.NO_SESSION_KEY)},this.ai=function(){if(o.pe&&o.ge!==a.NO_SESSION_KEY){var t=o.No();o.wo();for(var n=0;n<t.length;n++){var i=t[n];o.pe.reportError(o.ge,i.ko(),i.Fo())}}},this.Io=function(){o.ge!==a.NO_SESSION_KEY&&o.pe&&o.pe.sendCustomEvent(o.ge,o.Oo(),o.So())},this.Eo=function(){var t,n=o.do(),i=!1,e=!1;for(t in n){var s=n[t];if(m.Pt(t)&&null!==s&&void 0!==s)switch(t){case T.STREAM_URL:e=!0,o.Ct.streamUrl=s;break;case T.ASSET_NAME:e=!0,o.Ct.assetName=s;break;case T.DEFAULT_RESOURCE:e=!0,o.Ct.defaultResource=s;break;case T.VIEWER_ID:e=!0,o.Ct.viewerId=s;break;case T.PLAYER_NAME:e=!0,o.Ct.applicationName=s;break;case T.DURATION:e=!0,o.Ct.duration=s;break;case T.IS_LIVE:e=!0,o.Ct.streamType=s;break;case T.ENCODED_FRAMERATE:e=!0,o.Ct.encodedFrameRate=s;break;case T.MODULE_NAME:case T.MODULE_VERSION:case T.FRAMEWORK_NAME:case T.FRAMEWORK_VERSION:i=!0,o.xs[t]=s;break;default:T.APPLICATION_VERSION;e=!0,o.Ct.custom[t]=s}}i&&this.we(),e&&this.Mt()},this.yo=function(){this.Bo(T.Events.POD_START)},this.Po=function(){this.Bo(T.Events.POD_END)},this.Bo=function(t){var n,i,e;o.pe&&o.ge!==T.NO_SESSION_KEY&&(n={},(e=this.bo())&&((i=e[T.POD_POSITION])&&(n[T.POD_POSITION]=i),(i=e[T.POD_INDEX])&&(n[T.POD_INDEX]=i+""),t===T.Events.POD_START)&&(i=e[T.POD_DURATION])&&(n[T.POD_DURATION]=i+""),(e=this.Mo())&&(n[T.AD_TYPE]=e),o.pe.sendCustomEvent(o.ge,t,n))},this.uo=function(t){o.Ne.setDroppedFramesCount(t)},this.Ho=function(t){this.ge===T.NO_SESSION_KEY&&t!==T.NO_SESSION_KEY&&(this.ge=t)},this.Ie=function(){return this.ge},this.Xt=function(){return o.pe.getSessionId(this.ge)},this.Qt=function(){return o.pe.getClientId(this.ge)},this.Zt=function(t,n){o.pe.Zt(this.ge,t,n)},d.prototype=Object.create(X.prototype),d.prototype.constructor=d},lt.Impl=lt.Impl||{},lt.Impl.Html5Http=function(){!function(){}.apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Logging=function(){!function(){}.apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===h.LogLevel.DEBUG||n===h.LogLevel.INFO?console.log(t):console.warn&&n===h.LogLevel.WARNING?console.warn(t):console.error&&n===h.LogLevel.ERROR&&console.error(t))},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Metadata=function(){!function(){}.apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Storage=function(){!function(){}.apply(this,arguments),this.saveData=function(t,n,i,e){t=t+"."+n;try{localStorage.setItem(t,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){t=t+"."+n;try{i(!0,localStorage.getItem(t))}catch(t){i(!1,t.toString())}},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Time=function(){!function(){}.apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Timer=function(){!function(){}.apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}},v=U.VideoAnalytics=function(){var s=this;s.ee=null,s.A=null,s.se=null,s.te=null,s.re=null,this.release=function(){s.p,s.te&&s.te.zi()&&s.te.ne(!1),"undefined"!==typeof lt.ProxyMonitor&&s.re&&(lt.ProxyMonitor.release(s.re),s.re=null),s.te&&(s.te.ce(null),s.te.de(),s.te=null),s.se=null},function(t,n){s.ee=t,s.A=n,s.se=n.buildTimer(T.version),s.te=new d(s.ee,s.se),O.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.p,s.te&&(m.Ht(t)>0&&s.setContentInfo(t),s.te.zi()||(s.te.ne(!0),s.ee._.Qe()))},this.reportPlaybackEnded=function(){s.p,s.te&&s.te.zi()&&(s.ee._.Ze(),s.te.ne(!1),"undefined"!==typeof lt.ProxyMonitor&&s.re&&(lt.ProxyMonitor.release(s.re),s.re=null),s.te.ce(null))},this.reportPlaybackFailed=function(t,n){s.te&&(m.Ht(n)>0&&s.setContentInfo(n),s.te.zi()||s.te.ne(!0),s.p,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){m.Ht(t)<=0||s.te&&(s.p,s.te.ae(t))},this.setPlayerInfo=function(t){m.Ht(t)<=0||s.te&&(s.p,s.te.ae(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.fe(arguments[0]):2===arguments.length?s.fe(arguments[0],arguments[1]):3===arguments.length?s.fe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.fe(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.te&&m.Pt(t)&&(s.p,t=new M(t,n),s.te.ii(t))},this.reportPlaybackEvent=function(t,n){if(m.Pt(t)&&s.te&&(s.p,s.te))switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:s.te.Lt();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:s.te.Vt();break;default:s.te.le(t,n)}},this.setCallback=function(t){s.p,s.te&&s.te.ce(t)},this.reportAdBreakStarted=function(t,n,i){s.te&&(s.p,s.te.Ee(t,n,i))},this.reportAdBreakEnded=function(){s.te&&(s.p,s.te._e())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[T.CONVIVA_MODULE],e=n[T.MEDIA_ELEMENT]),"undefined"!==typeof i?lt.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(lt.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof lt.ProxyMonitor)&&(s.p,!t&&s.re?(lt.ProxyMonitor.release(s.re),s.re=null):t?(s.re&&lt.ProxyMonitor.release(s.re),s.p,s.re="undefined"!==typeof e?lt.ProxyMonitor.initConvivaDropIn(t,e,s.A,this,lt):lt.ProxyMonitor.initConvivaDropIn(t,s.A,this,lt)):"undefined"!==typeof e&&(s.re=lt.ProxyMonitor.initConvivaDropIn(t,e,s.A,this,lt)))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===T.AdType.SERVER_SIDE?s.Zi=t.getAdPlayerMonitor():s.getAdType()===T.AdType.CLIENT_SIDE&&s.p):s.Zi=null},this.configureExistingSession=function(t){t!==T.NO_SESSION_KEY&&s.te&&(s.p,s.te.Ho(t))},this.getSessionId=function(){return s.te?(s.p,s.te.Xt()):T.NO_SESSION_KEY},this.getClientId=function(){return s.te?(s.p,s.te.Qt()):null},this.he=function(){return s.p,this.te},this.getAdType=function(){return s.te?s.te.ve:null},this.Re=function(){return s.te?s.te.oe:null},v.prototype=Object.create(O.prototype),v.prototype.constructor=v},U.JsonParse=(k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:n,text:V}},r=function(t){return t&&t!==s&&o("Expected '"+t+"' instead of '"+s+"'"),s=V.charAt(n),n+=1,s},F=function(){var t,n,i,e="";if('"'===s)for(;r();){if('"'===s)return r(),e;if("\\"===s)if(r(),"u"===s){for(n=i=0;n<4&&(t=parseInt(r(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof k[s])break;e+=k[s]}else e+=s}o("Bad string")},e=function(){for(;s&&s<=" ";)r()},u=function(){switch(e(),s){case"{":var t,n={};if("{"===s){if(r("{"),e(),"}"===s)return r("}"),n;for(;s;){if(t=F(),e(),r(":"),Object.hasOwnProperty.call(n,t)&&o('Duplicate key "'+t+'"'),n[t]=u(),e(),"}"===s)return r("}"),n;r(","),e()}}return void o("Bad object");case"[":var i=[];if("["===s){if(r("["),e(),"]"===s)return r("]"),i;for(;s;){if(i.push(u()),e(),"]"===s)return r("]"),i;r(","),e()}}return void o("Bad array");case'"':return F();case"-":return ft();default:return(s>="0"&&s<="9"?ft:function(){switch(s){case"t":return r("t"),r("r"),r("u"),r("e"),!0;case"f":return r("f"),r("a"),r("l"),r("s"),r("e"),!1;case"n":return r("n"),r("u"),r("l"),r("l"),null}o("Unexpected '"+s+"'")})()}},function(t,r){return V=t,n=0,s=" ",t=u(),e(),s&&o("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t}),S=U.JSON2={},"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof S.stringify&&(E=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},S.stringify=function(t,n,i){var e;if(R=_="","number"===typeof i)for(e=0;e<i;e+=1)R+=" ";else"string"===typeof i&&(R=i);if(!(p=n)||"function"===typeof n||"object"===typeof n&&"number"===typeof n.length)return function t(n,i){var e,s,o,r,u,h=_,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),typeof(a="function"===typeof p?p.call(i,n,a):a)){case"string":return ct(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(_+=R,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";o=0===u.length?"[]":_?"[\n"+_+u.join(",\n"+_)+"\n"+h+"]":"["+u.join(",")+"]"}else{if(p&&"object"===typeof p)for(r=p.length,e=0;e<r;e+=1)"string"===typeof p[e]&&(o=t(s=p[e],a))&&u.push(ct(s)+(_?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(ct(s)+(_?": ":":")+o);o=0===u.length?"{}":_?"{\n"+_+u.join(",\n"+_)+"\n"+h+"}":"{"+u.join(",")+"}"}return _=h,o}}("",{"":t});throw new Error("JSON2.stringify")}),I=U.jo={Ko:"0123456789abcdef",Go:function(t){for(var n="",i=7;i>=0;i--)n+=I.Ko.charAt(t>>4*i&15);return n},Wo:function(t){for(var n=1+(t.length+8>>6),i=new Array(16*n),e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<24-e%4*8;return i[e>>2]|=128<<24-e%4*8,i[16*n-1]=8*t.length,i},Yo:function(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i},xo:function(t,n){return t<<n|t>>>32-n},qo:function(t,n,i,e){return t<20?n&i|~n&e:!(t<40)&&t<60?n&i|n&e|i&e:n^i^e},Jo:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},Xo:function(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return I.Qo(n)},Qo:function(t){if(""===t)return"";for(var n,i=I.Wo(t),e=new Array(80),s=1732584193,o=-271733879,r=-1732584194,u=271733878,h=-1009589776,a=0;a<i.length;a+=16){for(var f=s,c=o,l=r,d=u,v=h,E=0;E<80;E++)e[E]=E<16?i[a+E]:I.xo(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),n=I.Yo(I.Yo(I.xo(s,5),I.qo(E,o,r,u)),I.Yo(I.Yo(h,e[E]),I.Jo(E))),h=u,u=r,r=I.xo(o,30),o=s,s=n;s=I.Yo(s,f),o=I.Yo(o,c),r=I.Yo(r,l),u=I.Yo(u,d),h=I.Yo(h,v)}return I.Go(s)+I.Go(o)+I.Go(r)+I.Go(u)+I.Go(h)}},(g=U.CwsProtocol=function(){this.Zo=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.zo=function(t,n){var i=g.$o;return this.Zo(t,n,i,{})}}).version="2.6",g.tr="/0/wsg",g.H="0",g.nr=-1,g.ir=!1,g.er=2,g.sr=-1,g.rr=-1,g.ur=1e3,g.hr="sdk.js.1",g.Ss="CwsStateChangeEvent",g.Ds="CwsErrorEvent",g.$o="CwsSessionEndEvent",g.Ms="CwsCustomEvent",g.ar="CwsSeekEvent",g.cr="CwsDataSamplesEvent",g.lr="ok",g.dr="err",g.vr="clid",g.Er="cfg",g._r="evs",g.Rr="maxhbinfos",g.pr="slg",g.Tr="hbi",g.Ar="gw",g.Or="fp",g.Sr="csi_en",g.Nr="CwsSessionHb",g.wr="t",g.Ir="st",g.gr="sst",g.Cr="lv",g.yr="seq",g.mr="cid",g.Dr="clid",g.Pr="clv",g.Mr="pver",g.Lr="iid",g.Ur="sid",g.Vr="vid",g.kr="an",g.Fr="pn",g.Br="tags",g.Hr="sf",g.jr="evs",g.Kr="lg",g.Gr="hbinfos",g.Wr="sdk",g.Yr="pj",g.ws="ps",g.ys="br",g.qr="cl",g.Jr="efps",g.Xr="afps",g.Qr="rfpstot",g.Zr="rfpscnt",g.zr="rs",g.$r="pht",g.tu="bl",g.nu="url",g.iu="caps",g.eu="pm",g.su="w",g.ou="h",g.ru="ct",g.uu="le",g.hu="dftot",g.au="dfcnt",g.fu="ss",g.cu="csi_n",g.lu="csi_t",g.du="csi_l",g.vu="csi_v",g.Eu="csi_c",g._u="sch",g.Ru="br",g.pu="brv",g.Tu="dvb",g.Au="dvma",g.Ou="dvm",g.Su="dvt",g.Nu="dvv",g.wu="sw",g.Iu="sh",g.gu="scf",g.Cu="fw",g.yu="fwv",g.mu="cc",g.Du="mn",g.Pu="mv",g.bu="os",g.Mu="osv",g.Lu="cat",g.Uu="caps",g.Vu="t",g.ku="seq",g.Fu="st",g.Bu="act",g.Hu="skto",g.Ps="err",g.bs="ft",g.Ns="new",g.ju="old",g.Ls="name",g.Us="attr",g.Ku="seq",g.Gu="err",g.Wu="rtt",g.Yu="ad",g.xu="csi",g.qu=function(t){switch(t){case A.PlayerState.STOPPED:return g.Ju;case A.PlayerState.PLAYING:return g.Is;case A.PlayerState.BUFFERING:return g.gs;case A.PlayerState.PAUSED:return g.Cs;case A.PlayerState.NOT_MONITORED:return g.Xu;default:return g.Qu}},g.Ju=1,g.Is=3,g.gs=6,g.Cs=12,g.Xu=98,g.Qu=100,g.Zu={zu:0,St:1,$u:2,th:4},g.nh={ih:0},Z=U.LibJSONInterface=function(){this.eh=function(t){var n=null;try{n=S.stringify(t)}catch(t){}return n},this.sh=function(t){var n=null;try{n=U.JsonParse(t)}catch(t){return n}return n=m.oh(n)?n:null}},z=U.CwsHeartbeat=function(){this.rh={},function(){}.apply(this,arguments),this.get=function(){return this.rh},this.uh=function(t,n){this.rh[t]=n},this.hh=function(t,n,i){this.rh[t]||(this.rh[t]={}),this.rh[t][n]=i},this.ah=function(t){this.uh(g.wr,t)},this.fh=function(t){this.uh(g.Ir,t)},this.lh=function(t){this.uh(g.gr,t)},this.dh=function(t){this.uh(g.Cr,t)},this.Eh=function(t){this.uh(g.yr,t)},this._h=function(t){this.uh(g.mr,t)},this.Rh=function(t){this.uh(g.Dr,t)},this.ph=function(t){this.uh(g.Pr,t)},this.Th=function(t){this.uh(g.Mr,t)},this.Ah=function(t){this.uh(g.Uu,t)},this.Oh=function(t){this.uh(g.Ur,t)},this.Sh=function(t){this.uh(g.Lr,t)},this.Nh=function(t){this.uh(g.Vr,t)},this.wh=function(t){this.uh(g.kr,t)},this.Ih=function(t){this.uh(g.Fr,t)},this.gh=function(t){this.uh(g.Br,t)},this.Ch=function(t){this.uh(g.Hr,t)},this.yh=function(t){this.uh(g.iu,t)},this.mh=function(t){this.uh(g.jr,t)},this.Dh=function(t){this.uh(g.Wr,t)},this.Ph=function(t){this.uh(g.Kr,t)},this.bh=function(t){this.uh(g.Gr,t)},this.ke=function(t){this.uh(g.ws,t)},this.Mh=function(t){this.uh(g.Yr,t)},this.Lh=function(t){this.uh(g.qr,t)},this.Uh=function(t){this.uh(g.ys,t)},this.Vh=function(t){this.uh(g.zr,t)},this.kh=function(t){this.uh(g.Jr,t)},this.Fh=function(t){this.uh(g.Xr,t)},this.Bh=function(t){this.uh(g.Zr,t)},this.Hh=function(t){this.uh(g.Qr,t)},this.jh=function(t){this.hh(g.eu,g._u,t)},this.Kh=function(t){this.hh(g.eu,g.Ru,t)},this.Gh=function(t){this.hh(g.eu,g.pu,t)},this.Wh=function(t){this.hh(g.eu,g.Tu,t)},this.Yh=function(t){this.hh(g.eu,g.Au,t)},this.xh=function(t){this.hh(g.eu,g.Ou,t)},this.qh=function(t){this.hh(g.eu,g.Su,t)},this.Jh=function(t){this.hh(g.eu,g.Nu,t)},this.Xh=function(t){this.hh(g.eu,g.Cu,t),this.uh(g.Cu,t)},this.Qh=function(t){this.hh(g.eu,g.yu,t),this.uh(g.yu,t)},this.Zh=function(t){this.hh(g.eu,g.bu,t.toUpperCase())},this.zh=function(t){this.hh(g.eu,g.Mu,t)},this.$h=function(t){this.hh(g.eu,g.Lu,t)},this.ta=function(t){this.hh(g.eu,g.wu,t)},this.na=function(t){this.hh(g.eu,g.Iu,t)},this.ia=function(t){this.hh(g.eu,g.gu,t)},this.ea=function(t){this.uh(g.hu,t)},this.uo=function(t){this.uh(g.au,t)},this.sa=function(t){this.uh(g.$r,t)},this.oa=function(t){this.uh(g.tu,t)},this.ra=function(t){this.uh(g.nu,t)},this.ua=function(t){this.uh(g.su,t)},this.ha=function(t){this.uh(g.ou,t)},this.aa=function(t){this.uh(g.ru,t)},this.fa=function(t){this.uh(g.uu,t)},this.ca=function(){this.uh(g.Yu,!0)},this.la=function(t){this.uh(g.fu,t)},this.setModuleName=function(t){this.hh(g.mu,g.Du,t)},this.da=function(t){this.hh(g.mu,g.Pu,t)},this.va=function(t){this.uh(g.xu,t)},this.Ea=function(t){t&&this.uh(g.cu,t)},this._a=function(t){t&&this.uh(g.lu,t)},this.Ra=function(t){t&&this.uh(g.du,t)},this.pa=function(t){t&&this.uh(g.vu,t)},this.Ta=function(t){t&&this.uh(g.Eu,t)}},(C=U.CwsSession=function(){var _=this;_.Oa=null,_.Ct=null,_.ds=0,_.Sa=0,_.Na=g.Zu.zu,_.wa=g.nh.ih,_.Ia=[],_.ga=-1,_.yn=-2,_.li=-1,_.Ca=-1,_.ya=null,_.Dn=A.PlayerState.UNKNOWN,_.gn=-1,_._s=-1,_.Sn=null,_.kn=-1,_.Fn=-1,_.Ne=null,_._n=null,_.An=null,_.Es=null,_.Rs=null,_.ma={},_.Da=null,_.Pa=null,_.ba=null,_.Ma=null,_.La=null,_.Ua=null,_.Va=null,_.ka=null,_.Fa=null,_.Ba=null,_.Ha=null,_.ja=null,_.Ka=null,_.Ga=null,_.Wa=null,_.Un=null,_.Vn=null,_.L=null,_.U=null,_.Ws=null,_.Ya=null,_.xa=!1,_.qa=!1,_.Ja=!1,_.Xa=!1,_.Qa=null,_.Za=1e3,_.za=0,_.$a=0,_.tf={},_.D={},_.nf=!1,_.if=null,_.ef=null,_.sf=null,_.rf=null,_.uf=null,_.hf=null,_.af=12e4,_.ff=g.ir,_.cf=!1,_.lf=null,_.Ii=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.df=t,this.ee=n,this.wi=i,this.p=e,this.p.setModuleName("CwsSession"),this.I=s,this.se=o,this.vf=r,this.Ef=u,this._f=h,this.gi=a,this.Rf=f,this.Ct=c,this.Ct&&(_.gn=this.Ct.encodedFrameRate,_.Sn=this.Ct.streamUrl,_._s=this.Ct.duration),this.Rf&&(_.lf=_.Rf.get(y.B)),_.Ii=l}.apply(this,arguments),this.At=function(){this.Rf=null,this.gi=null,this.N=null,this._f=null,this.Ef=null,this.vf=null,this.se=null,this.I=null,this.p=null,this.wi=null,this.ee=null,this.df.pf(),this.df=null,this.Ya=null,this.Ja=!0},this.Tf=function(t){this.ls=t,this.Af=this.ls.Af,this.p.Oh(this.ls.C),this.ds=this._f.current(),this.cs()||this.Of()?(this.Na+=C.Aa,_.p.info("start(): assetName="+_.Ct.assetName)):_.p.info("start()"+_.Sf())},this.Nf=function(){this.Xa=!0},this.wf=function(){this.p.debug("initialize()"),(this.cs()||this.Of()||this.As())&&(_.If(),_.gf(),_.Cf(),this.cs()||this.Of())&&_.yf()},this.mf=function(){this.p.debug("end(): schedule the last hb before session cleanup"+_.Sf()),this.Df(),this.Pf(),this.bf(),this.Mf()},this.Lf=function(){this.Xa||(this.Mf(),this.Uf())},this.Kh=function(t){var n=_.Da;n!==t&&t&&(_.p.debug("Change browserName from "+n+" to "+t),_.Da=t)},this.Gh=function(t){var n=_.Pa;n!==t&&t&&(_.p.debug("Change browserVersion from "+n+" to "+t),_.Pa=t)},this.Wh=function(t){var n=_.ba;n!==t&&t&&(_.p.debug("Change deviceBrand from "+n+" to "+t),_.ba=t)},this.Yh=function(t){var n=_.Ma;n!==t&&t&&(_.p.debug("Change deviceManufacturer from "+n+" to "+t),_.Ma=t)},this.xh=function(t){var n=_.La;n!==t&&t&&(_.p.debug("Change deviceModel from "+n+" to "+t),_.La=t)},this.qh=function(t){var n=_.Ua;n!==t&&t&&(_.p.debug("Change deviceType from "+n+" to "+t),_.Ua=t)},this.Jh=function(t){var n=_.Va;n!==t&&t&&(_.p.debug("Change deviceVersion from "+n+" to "+t),_.Va=t)},this.Zh=function(t){var n=_.Ba;n!==t&&t&&(_.p.debug("Change operatingSystemName from "+n+" to "+t),_.Ba=t)},this.zh=function(t){var n=_.Ha;n!==t&&t&&(_.p.debug("Change operatingSystemVersion from "+n+" to "+t),_.Ha=t)},this.$h=function(t){var n=_.ja;n!==t&&t&&(_.p.debug("Change deviceCategory from "+n+" to "+t),_.ja=t)},this.ta=function(t){var n=_.Ka;n!==t&&t&&(_.p.debug("Change screenWidth from "+n+" to "+t),_.Ka=t)},this.na=function(t){var n=_.Ga;n!==t&&t&&(_.p.debug("Change screenHeight from "+n+" to "+t),_.Ga=t)},this.ia=function(t){var n=_.ja;n!==t&&t&&(_.p.debug("Change scaleFactor from "+n+" to "+t),_.Wa=t)},this.ps=function(){return _.ka},this.Xh=function(t){var n=_.ka;n!==t&&t&&(_.p.debug("Change frameworkName from "+n+" to "+t),_.ka=t)},this.Ts=function(){return _.Fa},this.Qh=function(t){var n=_.Fa;n!==t&&t&&(_.p.debug("Change frameworkVersion from "+n+" to "+t),_.Fa=t)},this.ra=function(t){var n;_.Ct.streamUrl||(n=_.Sn)!==t&&t&&(_.p.debug("Change stream url from "+n+" to "+t),_.Sn=t)},this.Vf=function(){_.Pf(),_.cf||(_.kf(),_.hf=_.se.create(_.kf,_.af,"CwsSession.startCdnTimer"),_.p.debug("fetching cdn ip timer started"))},this.Pf=function(){_.hf&&(_.hf(),_.Ff(null,null,null,null,null),_.hf=null)},this.kf=function(){_.p.debug("detectCDNServerIp(): For "+_.Sn),_.ff?_.Bf():_.Pf()},this.Bf=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",_.Sn,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?_.Ff("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):_.Ff("null","header","null","null",""+this.status))},t.send()):_.p.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){_.p.info("Exception caught in makeAkamaiHeadRequest")}},this.Ff=function(t,n,i,e,s){var o={},r={};_.if!==t&&(null!==_.if&&(r[g.cu]=_.if),_.if=t,null===_.if?o[g.cu]="null":o[g.cu]=_.if),_.ef!==n&&(null!==_.ef&&(r[g.lu]=_.ef),_.ef=n,null===_.ef?o[g.lu]="null":o[g.lu]=_.ef),_.sf!==i&&(null!==_.sf&&(r[g.du]=_.sf),_.sf=i,null===_.sf?o[g.du]="null":o[g.du]=_.sf),_.rf!==e&&(null!==_.rf&&(r[g.vu]=_.rf),_.rf=e,null===_.rf?o[g.vu]="null":o[g.vu]=_.rf),_.uf!==s&&(null!==_.uf&&(r[g.Eu]=_.uf),_.uf=s,null===_.uf?o[g.Eu]="null":o[g.Eu]=_.uf),"{}"!==JSON.stringify(o)&&_.Hf(o,r)},this.jf=function(t){var n=_.yn;n!==t&&t>0&&(_.p.info("Change bitrate from "+n+" to "+t),_.Kf(n,t),_.yn=t)},this.ea=function(t){var n=_.li;n!==t&&t>=0&&(_.p.info("Change dropped frames total from "+n+" to "+t),_.Gf(n,t),_.li=t)},this.uo=function(t){var n=_.Ca,i=t+(-1===_.Ca?0:_.Ca);n!==t&&i>=0&&(_.p.info("Change dropped frames count from "+n+" to "+i),_.Wf(n,i),_.Ca=i)},this.Vh=function(t){var n=_.ya;n!==t&&t&&(_.p.info("Change resource from "+n+" to "+t),_.ya=t)},this.wh=function(t){_._n!==t&&t&&(_.p.info("Change assetName from "+_._n+" to "+t),_._n=t)},this.dh=function(t){var n=_.Rs;n!==t&&m.Wi(t)&&(_.p.info("Change isLive from "+n+" to "+t),_.Rs=t)},this.Nh=function(t){var n=_.An;n!==t&&t&&(_.p.info("Change viewerId from "+n+" to "+t),_.An=t)},this.Ih=function(t){var n=_.Es;n!==t&&t&&(_.p.info("Change playerName from "+n+" to "+t),_.Es=t)},this.gh=function(t){var n=_.ma;!m.Yf(n,t)&&t&&(_.p.info("Change tags from "+m.xf(n)+" to "+m.xf(t)),_.ma=t)},this.kh=function(t){_.Ct.encodedFrameRate>0||(_.p.debug("setEncodedFrameRate(): "+t),_.gn=t)},this.Lh=function(t){_.Ct.duration>0||(_.p.debug("setContentLength(): "+t),_._s=t)},this.ke=function(t){var n;_.qa||t!==A.PlayerState.PLAYING||(_.qa=!0,m.Pt(_.Ct.viewerId)||_.p.error("Missing viewerId. viewerId should be updated before first frame is rendered."),m.Pt(_.Ct.streamType)&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),m.Pt(_.Ct.applicationName))||_.p.error("Missing applicationName. applicationName should be updated before first frame is rendered."),_.Dn!==t&&(n=_.Dn,_.p.info("setPlayerState(): changing player state from "+n+" to "+t),_.qf(n,t),_.Dn=t)},this.Jf=function(t){var n=_.kn;n!==t&&t>0&&(_.p.debug("Change stream resolution width from "+n+" to "+t),_.Xf(n,t),_.kn=t)},this.Qf=function(t){var n=_.Fn;n!==t&&t>0&&(_.p.debug("Change stream resolution height from "+n+" to "+t),_.Zf(n,t),_.Fn=t)},this.aa=function(t){var n=_.L;n!==t&&t&&(_.p.debug("Change network connection type from "+n+" to "+t),_.zf(n,t),_.L=t)},this.fa=function(t){var n=_.U;n!==t&&t&&(_.p.debug("Change network link encryption from "+n+" to "+t),_.$f(n,t),_.U=t)},this.va=function(t){_.cf=!0,_.Pf();var n=_.Ws;n!==t&&m.Pt(t)&&(_.p.debug("Change CDN Server IP from "+n+" to "+t),_.tc(n,t),_.Ws=t)},this.nc=function(t){var n;_.p.debug("togglePauseJoin()"),_.xa===t?_.p.debug("togglePauseJoin(): same value, ignoring"):(t=_.xa,n=!_.xa,_.ic(t,n),_.xa=!_.xa)},this.ec=function(t,n){_.sc(t,n)},this.oc=function(t,n){var i,e;n[g.Vu]=t,n[g.Fu]=this.vs(),n[g.ku]=this.df.rc(),this.Ne&&(i=b.uc(this.Ne.getPHT(),0,null,-1),e=b.uc(this.Ne.getBufferLength(),0,null,-1),i>=0&&(n[g.$r]=i),e>0)&&(n[g.tu]=e),this.df.hc(n),this.ee._&&this.ee._.Os(t,n,this)},this.ac=function(t){_.Ne=t,_.Ne?_.fc():_.cc()},this.Df=function(){var t=this.Ef.zo(this.lc(),this.vs());this.df.hc(t)},this.sc=function(t,n){var i={};i[g.Ps]=t,i[g.bs]=n,this.oc(g.Ds,i)},this.Kf=function(t,n){var i={},e={};t>0&&(e[g.ys]=t),i[g.ys]=n,this.Hf(i,e)},this.dc=function(t,n){var i={};i[g.Bu]=t,n>=0&&(i[g.Hu]=n),this.oc(g.ar,i)},this.Xf=function(t,n){var i={},e={};-1!==t&&(e[g.su]=t),i[g.su]=n,this.Hf(i,e)},this.Zf=function(t,n){var i={},e={};-1!==t&&(e[g.ou]=t),i[g.ou]=n,this.Hf(i,e)},this.zf=function(t,n){var i={},e={};null!==t&&(e[g.ru]=t),i[g.ru]=n,this.Hf(i,e)},this.$f=function(t,n){var i={},e={};null!==t&&(e[g.uu]=t),i[g.uu]=n,this.Hf(i,e)},this.tc=function(t,n){var i={},e={};m.Pt(t)&&(e[g.xu]=t),i[g.xu]=n,this.Hf(i,e)},this.Gf=function(t,n){var i={},e={};t>=0&&(e[g.hu]=t),i[g.hu]=n,this.Hf(i,e)},this.Wf=function(t,n){var i={},e={};t>=0&&(e[g.au]=t),i[g.au]=n,this.Hf(i,e)},this.ic=function(t,n){var i={},e={};e[g.Yr]=t,i[g.Yr]=n,this.Hf(i,e)},this.qf=function(t,n){var i={},e={};i[g.ws]=g.qu(n),e[g.ws]=g.qu(t),this.Hf(i,e)},this.Hf=function(t,n){var i={};i[g.Ns]=t,n&&m.Ht(n)>0&&(i[g.ju]=n),this.oc(g.Ss,i)},this.vc=function(t,n){var i={};i[g.Ls]=t,m.Ht(n)>0&&(i[g.Us]=n),this.oc(g.Ms,i)},this.bf=function(){_.Oa&&(_.Oa(),_.Oa=null)},this.Uf=function(){_.bf();var t=1e3*_.wi.heartbeatInterval;_.Oa=_.se.create(_.Mf,t,"Session.sendHeartbeat:"+this.Af)},this.cc=function(){_.Qa&&(_.Qa(),_.Qa=null)},this.fc=function(){_.cc(),_.Qa=_.se.create(_.Ec,_.Za,"Session.startRfpsTimer")},this._c=function(){var t={err:"pending"};t.seq=_.Sa-1,t.sentAt=_.vs(),t.rtt=-1,_.Ia.push(t);for(var n=0;n<_.Ia.length;n++)"ok"===(t=_.Ia[n]).err&&(_.Ia.splice(n,1),n--)},this.Rc=function(t,n){for(var i=0;i<_.Ia.length;i++){var e=_.Ia[i];e.seq===t&&(e.rtt=_.vs()-e.sentAt,e.err=n)}},this.Tc=function(t){for(var n=0;n<_.Ia.length;n++){var i=_.Ia[n];i.seq===t&&(i.rtt=_.vs()-i.sentAt,i.err="ok")}},this.Ac=function(){for(var t,n,i=_.Rf.get(y.Oc),e=[],s=-1,o=0;o<_.Ia.length;o++)if("ok"===(n=_.Ia[o]).err){s=n.seq;break}for(var r=0;r<_.Ia.length;r++)((t=(n=_.Ia[r]).seq)<_.Sa-i||t<s)&&e.push(r);for(var u=[],h=0;h<_.Ia.length;h++)t=(n=_.Ia[h]).seq,e.indexOf(h)<0&&u.push(_.Ia[h]);_.Ia=u},this.Sc=function(){_.Ac();for(var t=[],n=0;n<_.Ia.length;n++){var i=_.Ia[n],e={};e[g.Ku]=i.seq,e[g.Wu]=i.rtt,e[g.Gu]=i.err,t.push(e)}return t},this.Nc=function(){var t,n=-1,i=-1,e=_.df.pf();if(_.As()&&0===e.length)return null;var s=new z,o=(s.ah(g.Nr),s._h(_.wi.customerKey),s.Rh(_.Rf.get(y.B)),s.Oh(_.ls.C),s.Eh(_.Sa),s.Th(g.version),T.version);if(_.Ii&&(o=_.Ii),s.ph(o),s.Sh(_.ee.C),s.Ah(0),_.ee.L?s.aa(_.ee.L):_.L&&s.aa(_.L),_.ee.U?s.fa(_.ee.U):_.U&&s.fa(_.U),m.Pt(_.Ws)&&s.va(_.Ws),s.jh(g.hr),_.Da&&s.Kh(_.Da),_.Pa&&s.Gh(_.Pa),_.ba&&s.Wh(_.ba),_.Ma&&s.Yh(_.Ma),_.La&&s.xh(_.La),_.Ua&&s.qh(_.Ua),_.Va&&s.Jh(_.Va),_.Ba&&s.Zh(_.Ba),_.Ha&&s.zh(_.Ha),_.ja&&s.$h(_.ja),_.ka&&s.Xh(_.ka),_.Fa&&s.Qh(_.Fa),_.Ka&&!isNaN(_.Ka)&&s.ta(parseInt(_.Ka,10)),_.Ga&&!isNaN(_.Ga)&&s.na(parseInt(_.Ga,10)),_.Wa&&!isNaN(_.Wa)?s.ia(parseFloat(_.Wa)):(_.Ka&&!isNaN(_.Ka)||_.Ga&&!isNaN(_.Ga))&&s.ia(1),_.Ne&&(_.Un=_.Ne.Jn(),_.Un&&s.setModuleName(_.Un),_.Vn=_.Ne.Xn(),_.Vn&&s.da(_.Vn),_.Ne.Qn()&&(_.ka=_.Ne.Qn(),s.Xh(_.ka)),_.Ne.zn())&&(_.Fa=_.Ne.zn(),s.Qh(_.Fa)),_.An&&s.Nh(_.An),m.Ht(_.ma)>0&&s.gh(_.ma),_.cs()||_.Of()){_.Of()&&s.ca(),_._n&&s.wh(_._n),s.Ch(_.Na);o=g.qu(_.Dn),o=(s.ke(o),s.Mh(_.xa),_.Es&&s.Ih(_.Es),m.Wi(_.Rs)&&s.dh(_.Rs),_._s>0&&s.Lh(_._s),_.yn>0&&s.Uh(_.yn),null!==_.ya&&s.Vh(_.ya),_.gn>0&&s.kh(_.gn),_.Ne&&(n=b.uc(_.Ne.getPHT(),0,null,-1),i=b.uc(_.Ne.getBufferLength(),0,null,-1)),m.wt(_.ee.V)?t=_.ee.V:_.Ne&&(t=_.Ne.getSignalStrength()),n>=0&&s.sa(n),i>0&&s.oa(i),_.wc());if(o>0&&s.Fh(o),_.$a>0&&s.Hh(b.uc(_.$a,0,null,-1)),_.za>0&&s.Bh(b.uc(_.za,0,null,-1)),t!==A.DEFAULT_SIGNAL_STRENGTH&&s.la(t),_.Sn&&s.ra(_.Sn),_.kn>0&&s.ua(_.kn),_.Fn>0&&s.ha(_.Fn),_.li>-1&&s.ea(_.li),_.Ca>-1&&(s.uo(_.Ca),_.Ca>0)&&(_.Wf(_.Ca,0),_.Ca=0),"undefined"!==typeof _.Ya)for(var r in _.Ya)s.uh(r,_.Ya[r])}else s.Ch(g.Zu.zu);return e.length>0&&s.mh(e),s.yh(_.wa),s.Dh(!0),_.Rf.get(y.Ic)&&s.Ph(_.gi.pf()),_.Rf.get(y.Oc)>0&&(n=_.Sc()).length>0&&s.bh(n),0===_.Sa&&(s=_.gc(s)),(s=0!==_.Sa?_.Cc(s):s).lh(_.ds),s.fh(_.vs()),_.ff&&(s.Ea(_.if),s._a(_.ef),s.Ra(_.sf),s.pa(_.rf),s.Ta(_.uf)),_.Sa++,s.get()},this.Cc=function(t){var n,i=_.D,e={};for(n in t.rh.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.rh.tags[n]);t.rh.tags=e,_.D={};for(var s=0;s<_.tf.length;s++)Object.prototype.hasOwnProperty.call(_.ee.D,_.tf[s])?Object.prototype.hasOwnProperty.call(_.ee.M,_.tf[s])?_.ee.M[_.tf[s]]===y.$t.tn?(_.D[y.yc+""+_.tf[s]]=y.$t.tn,_.ee.P("End-user chose to opt-out of personal data collection")):_.ee.M[_.tf[s]]===y.$t.en?(_.D[y.yc+""+_.tf[s]]=y.$t.en,_.ee.P("End-user chose to opt-out of personal data collection")):_.ee.M[_.tf[s]]===y.$t.zt?(_.D[y.yc+""+_.tf[s]]=y.$t.zt,_.ee.P("End-user used privacy settings and chose to opt-out of personal data collection")):(_.D[y.yc+""+_.tf[s]]=_.ee.D[_.tf[s]],_.ee.P("Data collection successful")):(_.D[y.yc+""+_.tf[s]]=_.ee.D[_.tf[s]],_.ee.P("Data collection successful")):_.D[y.yc+""+_.tf[s]]=y.$t.mc;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(_.tf)&&-1!==_.tf.indexOf(""+u[2])||i[y.yc+""+u[2]]===y.$t.Dc||(_.ee.P("Data collection restricted from Conviva back-end"),_.D[y.yc+""+u[2]]=y.$t.Dc,r[y.yc+""+u[2]]=y.$t.Dc)}if("{}"!==JSON.stringify(_.D)){var h,a=m.Pc(_.D);for(h in t.rh.tags)a[h]=t.rh.tags[h];if(t.rh.tags=a,!m.Yf(i,_.D)){var f={};if("{}"!==JSON.stringify(r)&&(f[g.Br]=r),"{}"!==JSON.stringify(i)){for(var c in i)_.D[c]&&i[c]!==_.D[c]&&(f[g.Br]||(f[g.Br]={}),f[g.Br][c]=_.D[c]);for(var l in _.D)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===_.D[l]||(f[g.Br]||(f[g.Br]={}),f[g.Br][l]=_.D[l])}"{}"===JSON.stringify(i)&&(f[g.Br]=_.D);var d,v,E={};E[g.Ns]=f,E[g.Vu]=g.Ss,E[g.Fu]=_.vs(),E[g.ku]=_.df.rc(),_.Ne&&(d=b.uc(_.Ne.getPHT(),0,null,-1),v=b.uc(_.Ne.getBufferLength(),0,null,-1),d>=0&&(E[g.$r]=d),v>0)&&(E[g.tu]=v),t.rh.evs||(t.rh.evs=[]),t.rh.evs.push(E)}}return t},this.gc=function(t){var n=_.bc();if("{}"!==JSON.stringify(n)){var i,e=m.Pc(n);for(i in t.rh.tags)e[i]=t.rh.tags[i];t.rh.tags=e;var s,o={},n=(o[g.Br]=n,{});n[g.Ns]=o,n[g.Vu]=g.Ss,n[g.Fu]=_.vs(),n[g.ku]=_.df.rc(),_.Ne&&(o=b.uc(_.Ne.getPHT(),0,null,-1),s=b.uc(_.Ne.getBufferLength(),0,null,-1),o>=0&&(n[g.$r]=o),s>0)&&(n[g.tu]=s),t.rh.evs||(t.rh.evs=[]),t.rh.evs.push(n)}return t},this.bc=function(){var t={};if("undefined"!==typeof navigator&&navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=_.Mc();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]="undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:""),t},this.Mc=function(){try{if("undefined"!==typeof document&&document){var t,n,i=document.createElement("CANVAS");if("undefined"!==typeof i&&i&&"function"===typeof i.getContext)return t=i.getContext("2d"),n="conviva",t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(n,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),I.Qo(i.toDataURL())}return""}catch(t){return""}},this.Mf=function(){var t;_.Ja||(t=_.Nc())&&_.Lc(t)},this.Ec=function(){var t;_.Dn===A.PlayerState.PLAYING&&_.Ne&&(t=_.Ne.getRenderedFrameRate())>0&&(_.$a+=t,_.za++)},this.wc=function(){return _.$a>0&&_.za>0||(this.Ec(),_.$a>0&&_.za>0)?m.Uc.Cast(+_.$a/_.za):A.DEFAULT_RENDERED_FRAME_RATE},this.Lc=function(t){_._c();var i=_.Sa-1;_.p.info("postHeartbeat(): Send HB["+i+"]"+_.Sf());_.vf.Vc(t,function(t,n){_.kc(t,n,i)})},this.kc=function(i,e,s){_.Ja||_.I.F("onHeartbeatResponse",function(){var t,n;i?e?(_.p.debug("onHeartbeatResponse(): received valid response for HB["+s+"]"),_.Tc(s),(t=e[g.vr])&&t!==(n=_.Rf.get(y.B))&&(_.p.debug("onHeartbeatResponse(): setting the client id to "+t+" (from gateway)"),_.Rf.set(y.B,t),_.Rf.Fc(),n===g.H)&&t!==g.H&&_.ee.k(),(n=e[g.dr])&&n!==g.lr&&_.p.error("onHeartbeatResponse(): error from gateway: "+n),"object"===typeof(t=e[g.Er])&&((n=t[g.Rr])>=0&&_.Rf.get(y.Oc)!==n&&(_.p.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+n+" (from gateway)"),_.Rf.set(y.Oc,n)),n=t[g.pr],(n=!!m.Wi(n)&&n)!==_.Rf.get(y.Ic)&&(_.p.debug("onHeartbeatResponse(): turning "+(n?"on":"off")+" sending of logs"),_.Rf.set(y.Ic,n)),n=t[g.Tr],m.wt(n)&&(n=m.Uc.Cast(n))!==_.wi.heartbeatInterval&&(_.p.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),_.wi.heartbeatInterval=n,_.Oa)&&_.Uf(),(n=t[g.Ar])&&n!==_.wi.gatewayUrl&&(_.p.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),_.wi.gatewayUrl=n),_.Bc()||(_.tf={},(n=t[g.Or])&&(_.nf||(_.nf=!0),_.p.debug("onHeartbeatResponse(): received fp from gateway: "+n),_.tf=n.split(",")),_.ff=t[g.Sr],m.Wi(_.ff)&&(_.ff?(_.p.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),_.hf||_.Vf()):_.Pf())))):_.p.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(m.Pt(n=e)?m.Hc(n,"HTTP timeout")?_.p.warning("onHeartbeatResponse(): "+n):_.p.error("onHeartbeatResponse(): failed to send heartbeat: "+n):(n=$.jc,_.p.error("onHeartbeatResponse(): "+n)),_.Rc(s,n))})},this.vs=function(){return m.Uc.Cast(_._f.current()-_.ds)},this.lc=function(){return this.df.rc()},this.Sf=function(){return this.As()?" (global session)":""},this.As=function(){return this.Af===C.Nt.zu},this.Bc=function(){return this.Af===C.Nt.zu&&"T"===this.ma["c3.IPV4IPV6GlobalSession"]},this.cs=function(){return this.Af===C.Nt.St},this.Of=function(){return this.Af===C.Nt.Dt},this.Mt=function(t){_.Kc(t),_.If()},this.Kc=function(t){var n={},i={};if(m.Pt(t.assetName)&&(_.Ct.assetName!==t.assetName?(_.Ct.assetName&&(n[g.kr]=_.Ct.assetName),i[g.kr]=t.assetName,_.Ct.assetName=t.assetName):_.p.warning("mergeContentMetadata(): assetName was not changed.")),m.Pt(t.applicationName)&&(_.Ct.applicationName!==t.applicationName?(_.Ct.applicationName&&(n[g.Fr]=_.Ct.applicationName),i[g.Fr]=t.applicationName,_.Ct.applicationName=t.applicationName):_.p.warning("mergeContentMetadata(): applicationName was not changed.")),m.Pt(t.streamUrl)&&(_.Ct.streamUrl!==t.streamUrl?(_.Ct.streamUrl&&(n[g.nu]=_.Ct.streamUrl),i[g.nu]=t.streamUrl,_.Ct.streamUrl=t.streamUrl,_.Sn=_.Ct.streamUrl):_.p.warning("mergeContentMetadata(): streamUrl was not changed.")),m.Pt(t.viewerId)&&(_.Ct.viewerId!==t.viewerId?(_.Ct.viewerId&&(n[g.Vr]=_.Ct.viewerId),i[g.Vr]=t.viewerId,_.Ct.viewerId=t.viewerId):_.p.warning("mergeContentMetadata(): viewerId was not changed.")),m.Pt(t.defaultResource)&&(_.Ct.defaultResource!==t.defaultResource?(_.Ct.defaultResource&&(n[g.zr]=_.Ct.defaultResource),i[g.zr]=t.defaultResource,_.Ct.defaultResource=t.defaultResource):_.p.warning("mergeContentMetadata(): defaultResource was not changed.")),m.wt(t.duration)&&t.duration>0&&(_.Ct.duration!==t.duration?(_._s>0&&(n[g.qr]=_._s),i[g.qr]=t.duration,_.Ct.duration=t.duration,_._s=_.Ct.duration):_.p.warning("mergeContentMetadata(): duration was not changed.")),m.wt(t.encodedFrameRate)&&t.encodedFrameRate>0&&(_.Ct.encodedFrameRate!==t.encodedFrameRate?(_.Ct.encodedFrameRate>-1&&(n[g.Jr]=_.Ct.encodedFrameRate),i[g.Jr]=t.encodedFrameRate,_.Ct.encodedFrameRate=t.encodedFrameRate,_.gn=_.Ct.encodedFrameRate):_.p.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType!==t.streamType?(_.Ct.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType===c.StreamType.LIVE?n[g.Cr]=!0:n[g.Cr]=!1),t.streamType===c.StreamType.LIVE?i[g.Cr]=!0:i[g.Cr]=!1,_.Ct.streamType=t.streamType):_.p.warning("mergeContentMetadata(): streamType was not changed.")),m.Ht(t.custom)>0){var e,s={},o={};for(e in t.custom)_.Ct.custom[e]!==t.custom[e]?(s[e]=t.custom[e],_.Ct.custom[e]&&(o[e]=_.Ct.custom[e]),_.Ct.custom[e]=t.custom[e]):_.p.info("mergeContentMetadata(): custom."+e+" was not changed.");m.Ht(s)>0?(m.Ht(o)>0&&(n[g.Br]=o),i[g.Br]=s):_.p.warning("mergeContentMetadata(): custom was not changed.")}m.Ht(i)>0&&this.Hf(i,n)},this.If=function(){var t;_.p.debug("setStatesFromContentMetadata()"),_.Ct.defaultResource&&this.Vh(_.Ct.defaultResource),_.Ct.streamUrl&&this.ra(_.Ct.streamUrl),_.Ct.duration>0&&this.Lh(_.Ct.duration),_.Ct.encodedFrameRate>0&&this.kh(_.Ct.encodedFrameRate),_.Ct.streamType!==c.StreamType.UNKNOWN&&(t=_.Ct.streamType===c.StreamType.LIVE,this.dh(t)),_.Ct.assetName&&this.wh(_.Ct.assetName),_.Ct.viewerId&&this.Nh(_.Ct.viewerId),(_.Ct.applicationName||_.Ct.playerName)&&this.Ih(_.Ct.applicationName||_.Ct.playerName),m.Ht(_.Ct.custom)>0&&this.gh(_.Ct.custom)},this.gf=function(){var t={};if(this.As()||(_.Ct.assetName?t[g.kr]=_.Ct.assetName:_.p.warning("enqueueEventForContentMetadata(): assetName was not set."),_.Ct.applicationName?t[g.Fr]=_.Ct.applicationName:_.p.warning("enqueueEventForContentMetadata(): applicationName was not set."),_.Ct.streamUrl?t[g.nu]=_.Ct.streamUrl:_.p.warning("enqueueEventForContentMetadata(): streamUrl was not set."),_.Ct.viewerId?t[g.Vr]=_.Ct.viewerId:_.p.warning("enqueueEventForContentMetadata(): viewerId was not set."),_.Ct.defaultResource?t[g.zr]=_.Ct.defaultResource:_.p.warning("enqueueEventForContentMetadata(): defaultResource was not set."),_.Ct.duration>-1?t[g.qr]=_.Ct.duration:_.p.warning("enqueueEventForContentMetadata(): duration was not set."),_.Ct.encodedFrameRate>-1?t[g.Jr]=_.Ct.encodedFrameRate:_.p.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),_.Ct.streamType!==c.StreamType.UNKNOWN?_.Ct.streamType===c.StreamType.LIVE?t[g.Cr]=!0:t[g.Cr]=!1:_.p.warning("enqueueEventForContentMetadata(): streamType was not set.")),m.Ht(_.Ct.custom)>0)for(var n in t[g.Br]={},_.Ct.custom)t[g.Br][n]=_.Ct.custom[n];else this.As()||_.p.warning("enqueueEventForContentMetadata(): custom tags were not set.");m.Ht(t)>0&&this.Hf(t,null)},this.yf=function(){_.Ct&&m.Pt(_.Ct.assetName)||_.p.warning("Missing assetName during session creation"),_.Ct&&m.Pt(_.Ct.defaultResource)||_.p.warning("Missing resource during session creation"),_.Ct&&m.Pt(_.Ct.streamUrl)||_.p.warning("Missing streamUrl during session creation"),(!_.Ct||_.Ct.encodedFrameRate<=0)&&_.p.warning("Missing encodedFrameRate during session creation"),_.Ct&&m.Pt(_.Ct.viewerId)||_.p.warning("Missing viewerId during session creation"),_.Ct&&_.Ct.streamType&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.warning("Missing streamType during session creation"),_.Ct&&m.Pt(_.Ct.applicationName)||_.p.warning("Missing applicationName during session creation"),(!_.Ct||_.Ct.duration<=0)&&_.p.warning("Missing duration during session creation")},this.Zt=function(t,n){_.Ya||(_.Ya={}),_.Ya[t]=n},this.Cf=function(){var t={};_.ee.L&&(t[g.ru]=_.ee.L,_.L=_.ee.L),_.ee.U&&(t[g.uu]=_.ee.U,_.U=_.ee.U),m.Ht(t)>0&&this.Hf(t,null)}}).Aa=g.Zu.St+g.Zu.$u+g.Zu.th,C.Nt={St:"Video",zu:"Global",Dt:"Ad"},($=U.Session=function(){var e=this;e.Ne=null,e.C=0,e.Af=C.Nt.St,e.Gc=!1,e.Ja=!1,e.Wc=!1,e.Yc=null,e.oe=null,e.xc=null,e.qc=!1,e.Jc=A.PlayerState.NOT_MONITORED,e.Xc=!1,e.Qc=!1,e.Zc=!1,e.zc=!1,e.$c=!1,function(t,n,i,e,s,o,r){this.C=t,this.Af=n,this.Rf=i,this.tl=e,this.gt=s,this.I=o,this.p=r}.apply(e,arguments),this.Tf=function(t,n){e.gt.Tf(this),t&&e.Vt(t),e.Rf.nl()?e.il(n):e.Rf.el(function(){e.il(n)})},this.cleanup=function(){e.Gc=!0,e.gt.Nf(),e.Rf.nl()?e.sl():e.Rf.el(function(){e.sl()})},this.ol=function(){(e.cs()||e.Of())&&e.Ne&&e.rl(),e.I=null,e.ee=null,e.Rf=null,e.tl=null,e.gt.At(),e.gt=null,e.Ja=!0},this.sl=function(){e.gt.mf(),e.ol()},this.il=function(t){e.gt.wf(),e.ul(),t?(e.bt(t.ko(),t.Fo()),e.gt.ke(A.PlayerState.STOPPED),e.gt.mf(),e.ol()):e.gt.Lf()},this.ul=function(){var t=e.tl.get(),n=t[L.BROWSER_NAME],n=(n&&e.gt.Kh(n),t[L.BROWSER_VERSION]),n=(n&&e.gt.Gh(n),t[L.DEVICE_BRAND]),n=(n&&e.gt.Wh(n),t[L.DEVICE_MANUFACTURER]),n=(n&&e.gt.Yh(n),t[L.DEVICE_MODEL]),n=(n&&e.gt.xh(n),t[L.DEVICE_TYPE]),n=(n&&e.gt.qh(n),t[L.DEVICE_VERSION]),n=(n&&e.gt.Jh(n),t[L.FRAMEWORK_NAME]),n=(n&&e.gt.Xh(n),t[L.FRAMEWORK_VERSION]),n=(n&&e.gt.Qh(n),t[L.OPERATING_SYSTEM_NAME]),n=(n&&e.gt.Zh(n),t[L.OPERATING_SYSTEM_VERSION]),n=(n&&e.gt.zh(n),t[L.DEVICE_CATEGORY]),n=(n&&e.gt.$h(n),t[L.SCREEN_WIDTH]),n=(n&&e.gt.ta(n),t[L.SCREEN_HEIGHT]),n=(n&&e.gt.na(n),t[L.SCALE_FACTOR]);n&&e.gt.ia(n)},this.si=function(t){e.gt.Dn===t||(e.gt.Dn===A.PlayerState.NOT_MONITORED&&t!==A.PlayerState.NOT_MONITORED&&(e.Jc=t),e.qc)||e.gt.ke(t)},this.oi=function(t){e.Xc||e.gt.jf(t)},this.di=function(t){e.Qc||e.gt.ea(t)},this.vi=function(t){e.Qc||e.gt.uo(t)},this.ri=function(t,n){m.wt(n)||(n=-1),e.gt.dc(t,n)},this.Gn=function(t){t>0&&(e.zc||e.gt.kh(t))},this.xn=function(t){t>0&&(e.zc||e.gt.Lh(t))},this.qn=function(t){e.gt.ra(t)},this.ui=function(t){e.gt.Jf(t)},this.hi=function(t){e.gt.Qf(t)},this.nt=function(t){e.gt.aa(t)},this.et=function(t){e.gt.fa(t)},this.Zn=function(t){e.gt.ps()||e.gt.Xh(t)},this.$n=function(t){e.gt.Ts()||e.gt.Qh(t)},this.fi=function(t){e.gt.va(t)},this.ai=function(t,n){e.bt(t,n)},this.jn=function(){e.rl()},this.Wt=function(t,n,i){e.Wc||(e.Wc=!0,e.Yc=t,e.oe=n,e.xc=i,e.gt.nc(!0),e.Yc===a.AdStream.CONTENT||e.oe===a.AdPlayer.SEPARATE?(e.gt.Dn!==A.PlayerState.NOT_MONITORED&&(e.Jc=e.gt.Dn),e.gt.ke(A.PlayerState.NOT_MONITORED),e.qc=!0):e.Yc===a.AdStream.SEPARATE&&e.oe===a.AdPlayer.CONTENT&&(e.gt.Dn!==A.PlayerState.NOT_MONITORED&&(e.Jc=e.gt.Dn),e.gt.ke(A.PlayerState.NOT_MONITORED),e.qc=!0,e.Xc=!0,e.Qc=!0,e.zc=!0,e.Zc=!0))},this.Yt=function(){e.Wc&&(e.gt.nc(!1),e.Yc===a.AdStream.CONTENT||e.oe===a.AdPlayer.SEPARATE?e.hl||(e.qc=!1,e.gt.ke(e.Jc)):e.Yc===a.AdStream.SEPARATE&&e.oe===a.AdPlayer.CONTENT&&(e.Xc=!1,e.Qc=!1,e.zc=!1,e.Zc=!1,e.$c=!1,e.hl||(e.qc=!1,e.gt.ke(e.Jc))),e.Wc=!1,e.Yc=e.oe=e.xc=null)},this.Lt=function(){e.Ne&&e.Ne&&(e.I.F("Session.detachPlayer",function(){e.Ne.Kn()}),e.Ne=null,e.gt.ac(null),e.gt.ke(A.PlayerState.NOT_MONITORED))},this.rl=function(){e.Ne&&(e.I.F("Session.releasePlayerStateManager",function(){e.Ne.Kn()}),e.Ne=null,e.gt.ac(null),e.gt.ke(A.PlayerState.NOT_MONITORED))},this.Ut=function(){e.gt.nc(!0),e.gt.Dn!==A.PlayerState.NOT_MONITORED&&(e.Jc=e.gt.Dn),e.gt.ke(A.PlayerState.NOT_MONITORED),e.qc=!0},this.Vt=function(t){e.Ne||t instanceof A&&e.I.F("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.C)&&(t.ti(),e.Ne=t,e.gt.ac(e.Ne))})},this.kt=function(){e.gt.nc(!1),e.Xc=!1,e.Qc=!1,e.zc=!1,e.Zc=!1,e.$c=!1,e.hl||(e.qc=!1,e.Jc!==A.PlayerState.NOT_MONITORED&&e.gt.ke(e.Jc))},this.qt=function(){return e.Ne},this.Ft=function(){e.hl||(e.hl=!0,e.qc=!0)},this.Bt=function(){e.hl&&(e.hl=!1,e.Wc||(e.qc=!1,e.Jc!==A.PlayerState.NOT_MONITORED&&e.gt.ke(e.Jc)))},this.bt=function(t,n){!m.Pt(t)||n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.$c||(n=n===a.ErrorSeverity.FATAL,e.gt.ec(t,n))},this.Mt=function(t){e.I.F("Session.updateContentMetadata",function(){e.gt.Mt(t)})},this.Gt=function(t,n){e.gt.vc(t,n)},this.As=function(){return e.Af===C.Nt.zu},this.cs=function(){return e.Af===C.Nt.St},this.Of=function(){return e.Af===C.Nt.Dt},this.Sf=function(){return e.As()?" (global session)":""},this.Xt=function(){return this.C},this.Qt=function(){var t=null;return t=e.Rf.nl()?e.Rf.get(y.B):t},this.Zt=function(t,n){e.gt.Zt(t,n)}}).jc="received no response (or a bad response) to heartbeat POST request",tt=U.SessionFactory=function(){var o=this;o.gi=null,o.al=0,o.fl=null,function(t,n,i,e){o.ee=t,o.wi=n,o.Rf=i,o.A=e,o.al=0,o.fl={}}.apply(o,arguments),this.At=function(){for(var t in o.gi=null,o.fl)o.fl[t].cleanup();o.fl=null,o.al=0},this.ll=function(){var t=o.al;return o.al++,t},this.Ot=function(t,n,i,e,s){return t||(t=new c),o.dl(t,n,i,e,s)},this.Y=function(t){return o.dl(t,C.Nt.zu,void 0,T.version)},this.vl=function(){return P.El()},this.dl=function(t,n,i,e,s){n=o.A.Bi(o.ee,o.wi,o.Rf,o.vl(),n,t.ct(),e),t=o.ll();return"undefined"!==typeof s&&"undefined"!==typeof s.error?n.Tf(i,s.error):(o._l(t,n),n.Tf(i)),t},this.Kt=function(t){t=o.fl[t];return t},this.It=function(t){t=this.Kt(t);return t=!t||t.cs()||t.Of()?t:null},this._l=function(t,n){o.fl[t]=n},this.Rl=function(t){delete o.fl[t]},this.xt=function(t){var n=o.Kt(t);o.Rl(t),n.cleanup()},this.tt=function(){return o.fl}},nt=U.pl=function(t){this.se=t,this.Tl=function(i,t,n){var e=!1;this.se.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},(y=U.Config=function(t,n,i){var e=this;this.Ol=n,this.Sl=i,this.Nl={clientId:g.H,iid:g.nr,sendLogs:!1,maxHbInfos:g.er},this.g=m.Pc(this.Nl),this.wl=!1,this.Il=!1,this.gl=[],this.nl=function(){return this.wl},this.Et=function(){this.Ol.Et(y.Al,function(t,n){t&&e.Cl(n),e.wl=!0,e.yl()})},this.Cl=function(t){var n,t=this.Sl.sh(t);t?t&&(n=t[y.ml],t=t[y._t],n&&n!==g.H&&""!==n&&"null"!==n&&(this.g[y.B]=n),t!==g.nr)&&""!==t&&"null"!==t&&(this.g[y._t]=t):this.Il=!0},this.Dl=function(){var t={};return t[y.ml]=this.g.clientId,this.Sl.eh(t)},this.Fc=function(){this.Ol.Fc(y.Al,this.Dl(),function(t,n){})},this.el=function(t){this.nl()?t():this.gl.push(t)},this.get=function(t){return this.wl?this.g[t]:null},this.set=function(t,n){this.wl&&(this.g[t]=n)},this.yl=function(){for(var t;"undefined"!==typeof(t=this.gl.shift());)t()},this.getClientId=function(){return this.g.clientId},this.getIid=function(){return this.g.iid}}).Al="sdkConfig",y.ml="clId",y._t="iid",y.B="clientId",y.Ic="sendLogs",y.Oc="maxHbInfos",y.yc="c3.fp.",y.$t={mc:"0",Pl:"1",tn:"2",zt:"3",Dc:"4",en:"5",nn:"6"},it=U.EventQueue=function(){this.bl=[],this.Ml=0,this.hc=function(t){this.bl.push(t)},this.rc=function(){var t=this.Ml;return this.Ml++,t},this.pf=function(){var t=this.bl;return this.bl=[],t}},et=U.ExceptionCatcher=function(t,n,i){this.Ll=n,this.N=i,this.F=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.N.allowUncaughtExceptions)throw t;this.Ul(n,t)}}},this.Ul=function(t,n){t="Uncaught exception: "+t+": "+n.toString();if(this.Ll)try{this.Ll.Vc(t)}catch(t){}}},st=U.GatewayControl=function(t,n,i,e,s){var o=this;this.wi=t,this.Vl=i,this.Sl=e,this.kl=s,this.Vc=function(t,e){var n=(this.kl?this.kl.indexOf("ipv4")>-1?this.wi.j:this.wi.q:this.wi.gatewayUrl)+g.tr;this.Vl.Fl("POST",n,this.Sl.eh(t),"application/json",function(t,n){var i;t?(i=o.Sl.sh(n),e(t,i)):e(t,n)})}},m=U.Lang={Bl:function(t){return m.Pt(t)&&t&&"undefined"!==t&&"null"!==t},jt:function(t){var n,i,e={};for(n in t)m.Bl(n)&&(i=t[n],m.Bl(i))&&(e[n]=i);return e},Wn:function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.")},Ht:function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},yt:function(t){return""+t},Hl:function(t){return Math.floor(t)},cn:function(t){return Math.abs(m.Hl(t))},jl:function(t){return Boolean(t)},Pt:function(t){return"string"===typeof t&&""!==t},Hc:function(t,n){return"string"===typeof t&&"string"===typeof n&&"function"===typeof t.indexOf&&0===t.indexOf(n)},Wi:function(t){return"boolean"===typeof t},Kl:function(t){return escape(t)},oh:function(t){return"object"===typeof t},xf:function(t){var n,i="";for(n in t)i+=n+"="+t[n];return"Object{"+i+"}"},Gl:function(t){var n,i=m.Pc(t);for(n in i)i[n]||delete i[n];return i},Pc:function(t){var n,i={};for(n in t)i[n]=t[n];return i},Yf:function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(m.Ht(t)!==m.Ht(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},Ro:function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=arguments[n][i]);return t},wt:function(t){return"number"===typeof t&&Math.round(t)===t},Wl:function(t){return"[object Array]"===Object.prototype.toString.call(t)},Yl:function(t,n){if(t!==n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(m.Wl(t[i])&&m.Wl(n[i])){if(!m.Yl(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1}return!0},xl:function(){return"undefined"!==typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()},rn:function(t,n,i){if(m.xl())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},un:function(t,n,i){if(m.xl())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,i)}}},(N={two32:4294967296}).ql=N.two32-1,N.Jl=0,m.Xl=N,m.Xl.Cast=function(t){t=parseInt(t,10);return t>N.ql?t=t%N.two32:t<N.Jl&&(t=N.two32-(t=-t%N.two32)),t},m.Xl.Ql=function(t){t=parseInt(t,10);return t<=N.ql&&t>=N.Jl},w={ql:2147483647,Jl:-2147483648},m.Uc=w,m.Uc.Cast=function(t){t=parseInt(t,10);return t>w.ql?t=t%w.ql:t<w.Jl&&(t=w.ql-(t=-t%w.ql)),t},m.Uc.Ql=function(t){t=parseInt(t,10);return t<=w.ql&&t>=w.Jl},m.Vo=function(){return window&&window.location&&window.location.search?window.location.search:""},m.Zl=function(){return document&&document.referrer?document.referrer:""},ot=U.LogBuffer=function(){this.zl=[],this.Yo=function(t){this.zl.length>=32&&this.zl.shift(),this.zl.push(t)},this.pf=function(){var t=this.zl;return this.zl=[],t}},(D=U.Ping=function(t,n,i,e){this.td=!1,this.nd=null,this.p=t,this.p.setModuleName("Ping"),this.Vl=n,this.wi=i,this.Ii=e,this.Vc=function(t){this.td||(this.td=!0,t=this.ed()+"&d="+m.Kl(t.toString()),this.p.error("send(): "+t),this.Vl.Fl("GET",t,null,null,null),this.td=!1)},this.ed=function(){if(!this.nd){var t=D.sd+"?comp="+D.$l+"&clv="+(this.Ii||a.version);if(this.wi&&(t+="&cid="+this.wi.customerKey),t+="&sch="+g.hr,!this.wi)return t;this.nd=t}return this.nd}}).$l="sdkjs",D.sd="https://pings.conviva.com/ping.ping",P=U.od={rd:4294967295,ud:2147483647,hd:-2147483648,El:function(){return Math.floor(Math.random()*P.rd)+P.hd},Rt:function(){return Math.floor(Math.random()*P.rd)}},b=U.ad={uc:function(t,n,i,e){return isNaN(t)||"number"!==typeof t||t===e?e:(e=m.Hl(t),b.fd(e,n,i))},fd:function(t,n,i){return m.wt(i)&&t>i?t=i:m.wt(n)&&t<n&&(t=n),t},In:function(t){return t=-1!==t&&-2!==t?b.uc(t,0,null,-1):t}},M=U.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.ko=function(){return i.errorCode},this.Fo=function(){return i.severity}},rt=U.HttpClient=function(t,n,i,e){this.pi=n,this.ld=i,this.N=e,this.Fl=function(t,n,i,e,s){var o=1e3*this.N.httpTimeout,r=null;s&&(r=this.ld.Tl(s,o,"HTTP timeout")),this.pi.makeRequest(t,n,i,e,o,r)}},(ut=U.Logger=function(t,n,i,e,s){this.Oi=t,this._i=n,this.S=i,this.gi=e,this.Ni=s,this.debug=function(t){this.log(t,h.LogLevel.DEBUG)},this.info=function(t){this.log(t,h.LogLevel.INFO)},this.warning=function(t){this.log(t,h.LogLevel.WARNING)},this.error=function(t){this.log(t,h.LogLevel.ERROR)},this.log=function(t,n){t=this.vd(t,n);this.gi.Yo(t),this.S.logLevel<=n&&this.Oi.consoleLog(t,n)},this.Ed=function(t){return"["+this.Un+"] "+t},this._d=function(t){return"["+this.Ni+"] "+t},this.Rd=function(t){return"[Conviva] "+t},this.pd=function(t){return"["+(this._i.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+t},this.Td=function(t,n){return"["+ut.dd(n)+"] "+t},this.Ad=function(t){return t=this.Od?"sid="+this.Od+" "+t:t},this.Oh=function(t){this.Od=t},this.setModuleName=function(t){this.Un=t},this.vd=function(t,n){return this.Rd(this.pd(this.Td(this._d(this.Ed(this.Ad(t))),n)))}}).dd=function(t){var n;switch(t){case h.LogLevel.ERROR:n="ERROR";break;case h.LogLevel.WARNING:n="WARNING";break;case h.LogLevel.INFO:n="INFO";break;case h.LogLevel.DEBUG:n="DEBUG"}return n},U.Storage=function(t,n,i,e){this.Ti=n,this.ld=i,this.N=e,this.Et=function(t,n){n=this.ld.Tl(n,1e3*this.N.storageTimeout,"storage load timeout");this.Ti.loadData(U.Storage.Sd,t,n)},this.Fc=function(t,n,i){i=this.ld.Tl(i,1e3*this.N.storageTimeout,"storage save timeout");this.Ti.saveData(U.Storage.Sd,t,n,i)}},U.Storage.Sd="Conviva",(L=U.SystemMetadata=function(t,n,i){this.Ai=n,this.I=i,this.Nd=null,this.get=function(){return this.Nd||this.retrieve(),this.Nd},this.retrieve=function(){var t,n={},e=(n[L.BROWSER_NAME]=this.Ai.getBrowserName,n[L.BROWSER_VERSION]=this.Ai.getBrowserVersion,n[L.DEVICE_BRAND]=this.Ai.getDeviceBrand,n[L.DEVICE_MANUFACTURER]=this.Ai.getDeviceManufacturer,n[L.DEVICE_MODEL]=this.Ai.getDeviceModel,n[L.DEVICE_TYPE]=this.Ai.getDeviceType,n[L.DEVICE_VERSION]=this.Ai.getDeviceVersion,n[L.FRAMEWORK_NAME]=this.Ai.getFrameworkName,n[L.FRAMEWORK_VERSION]=this.Ai.getFrameworkVersion,n[L.OPERATING_SYSTEM_NAME]=this.Ai.getOperatingSystemName,n[L.OPERATING_SYSTEM_VERSION]=this.Ai.getOperatingSystemVersion,n[L.DEVICE_CATEGORY]=this.Ai.getDeviceCategory,n[L.SCREEN_WIDTH]=this.Ai.getScreenWidth,n[L.SCREEN_HEIGHT]=this.Ai.getScreenHeight,n[L.SCALE_FACTOR]=this.Ai.getScaleFactor,this);for(t in n)!function(n,i){e.I.F("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.Ai)})}(t,n),m.Pt(n[t])||delete n[t];var i=!1;if("undefined"!==typeof n[L.DEVICE_TYPE]){for(var s in a.DeviceType)if(n[L.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete n[L.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof n[L.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(n[L.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete n[L.DEVICE_CATEGORY]}this.Nd=m.Gl(n)}}).BROWSER_NAME="browserName",L.BROWSER_VERSION="browserVersion",L.DEVICE_BRAND="deviceBrand",L.DEVICE_MANUFACTURER="deviceManufacturer",L.DEVICE_MODEL="deviceModel",L.DEVICE_TYPE="deviceType",L.DEVICE_VERSION="deviceVersion",L.FRAMEWORK_NAME="frameworkName",L.FRAMEWORK_VERSION="frameworkVersion",L.OPERATING_SYSTEM_NAME="operatingSystemName",L.OPERATING_SYSTEM_VERSION="operatingSystemVersion",L.DEVICE_CATEGORY="deviceCategory",L.SCREEN_WIDTH="screenWidth",L.SCREEN_HEIGHT="screenHeight",L.SCALE_FACTOR="scaleFactor",ht=U.Time=function(t,n){this._i=t,this.p=n,this.current=function(){var t=this._i.getEpochTimeMs();return m.wt(t),t}},at=U.Timer=function(t,n,i){var s=this;this.Ri=n,this.I=i,this.create=function(t,n,i){return this.createTimer(function(){s.I.F(i,function(){t()})},n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.I.F(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.Ri.createTimer(t,n,i)}}}(),lt});